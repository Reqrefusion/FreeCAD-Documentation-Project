<languages/>
{{UnfinishedDocu{{#translation:}}}}

{{TutorialInfo/de
|Topic= Transiente FEM Analyse
|Level= 
|Time=
|Author=
|FCVersion=
|Files=
}}

<span id="Background"></span>
== Hintergrund ==

<span id="Creating_the_model"></span>
== Erstellung des Modells ==

<div lang="en" dir="ltr" class="mw-content-ltr">
# Starting with a blank FreeCAD project, we build our bimetal strip in the [[Image:Workbench_Part.svg|24px]] [[Part_Workbench|Part Workbench]]
# Draw a [[File:Part_Box.svg|24px]] [[Part Box|Cube]] Solid and rename it to {{incode|aluminium}}. 
# Give it the dimensions 100 x 10 x 2 mm (length x width x height). 
# Create a second [[Part Box|Cube]] Solid 'steel' with the same dimensions
# Offset this part by 2 mm along the Z-axis (via {{MenuCommand|Placement → Position → z}}). 
# Select both solids (using the {{KEY|Shift}} key + mouse click) and create [[Image:Part_BooleanFragments.svg|24px]] [[Part BooleanFragments|Boolean Fragments]] from them 
# Rename these Boolean Fragments to {{incode|bimetal strip}} 
# In the [[Property editor]], we change the mode from {{PropertyView|Standard}} to {{PropertyView|CompSolid}}. (It should also work by using the [[Part Compound|Part Compound]] command instead of [[Image:Part_BooleanFragments.svg|24px]] [[Part BooleanFragments|Boolean Fragments]], however, with more complex intersecting shapes, there might be trouble with the FEM analysis later. So, better get used to using Boolean Fragments in the first place.) The result should look like this:
</div>

[[File:Transient FEM Bimetal (1).JPG|700px]]

<span id="Preparing_and_running_the_FEM_analysis"></span>
== Vorbereitung und Durchführung der FEM Analyse ==

<span id="Assigning_the_materials"></span>
=== Zuweisung der Materialien ===

Im Arbeitsbereich FEM erstellen wir eine neue [[File:FEM_Analysis.svg|20px]]-Analyse und fügen der Analyse ein neues [[File:FEM_MaterialSolid.svg|20px]]-Material hinzu. Im sich öffnenden Aufgabenfenster wählen wir eine der vordefinierten Aluminiumlegierungen aus. Unter „Geometrie-Referenzauswahl“ weisen wir das Material dem unteren Streifen unseres Modells zu, indem wir den Auswahlmodus auf „Volumenkörper“ setzen, auf „Hinzufügen“ klicken und eine Fläche oder Kante des unteren Streifens auswählen. In der Listenansicht sollte „BooleanFragments:Solid1“ angezeigt werden.

[[File:Transient FEM Bimetal (2).JPG|700px]]

Wir schließen das Aufgabenfenster und wiederholen die Schritte, um ein zweites Material 'Stahl' (Materialkarte 'CalculiX-Steel') zu erstellen und es dem oberen Streifen ('BooleanFragments:Solid2') zuzuweisen.

<span id="Creating_the_mesh"></span>
== Erstellung des Polygonnetzes ==

Da eine Finite-Elemente-Analyse natürlich Elemente benötigt, um zu funktionieren, müssen wir unser Modell in ein sogenanntes Netz zerlegen. Der Arbeitsbereich FEM bietet zwei Vernetzungswerkzeuge: Netgen und GMSH. Wir entscheiden uns hier für Netgen: Nachdem wir das Boolesche Fragmentobjekt „Bimetallstreifen” ausgewählt haben, klicken wir auf das [[File:FEM_MeshNetgenFromShape.svg|20px]] Netgen-Symbol im Arbeitsbereich FEM. Im daraufhin angezeigten Aufgabenfenster müssen wir verschiedene Auswahlen treffen, beginnend von oben:

<div lang="en" dir="ltr" class="mw-content-ltr">
* Max. size is the maximum size (in millimetres) of an element. The smaller the maximum element size, the more elements we get – usually the result will get more precise, but with a dramatic increase in computing time. We set it to 10.
* Second order means, that in each element, additional nodes will be created. This increases computing time, but is usually a good choice if it comes to bending as in our analysis. We leave it checked.
* Fineness: Select, how finely the model should be cut into elements. For more complex models with curvatures and intersections, we can increase the element number in those regions to get better results (at the cost of more computing time, of course). Expert users can also set it to User-defined and set the following parameters. For our simple rectangular model, the fineness selection has not much of an impact, we keep it at moderate level.
* Optimize: Some kind of post-processing after meshing. We keep it checked.
</div>

Ein Klick auf "Anwenden" startet den Mesher, und – je nach Leistung des Computers – erscheint ein Drahtgittermodell auf unserem Modell. Der Mesher sollte etwa 4.000 Knoten erstellt haben.

[[File:Transient FEM Bimetal (3).JPG|700px]]

<span id="Assigning_boundary_conditions"></span>
=== Zuweisen von Randbedingungen ===

Eine FEM-Analyse würde jetzt zu keinem Ergebnis führen, da mit unserem Modell noch nichts passiert. Fügen wir also etwas Temperatur hinzu: Man verwendet die [[File:FEM_ConstraintInitialTemperature.svg|20px]] Anfangstemperatur aus dem Arbeitsbereich FEM und stellt die Temperatur auf 300 K ein. Hier können keine Teile des Modells ausgewählt werden, da diese Einstellung für das gesamte Modell gilt. 

<div lang="en" dir="ltr" class="mw-content-ltr">
Next, we use [[File:FEM_ConstraintTemperature.svg|20px]] temperature acting on a face. We select the two faces at one end of the strip (Ctrl + Left mouse key) and click 'add' in the task window. Two faces of the Boolean Fragments object should appear in the list and little temperature icons on the model. We set the temperature to 400 K and close the task window. At the beginning of the analysis, the selected faces will get an instantaneous temperature rise from 300 to 400 K. The heat will be conducted along the metal strips and cause the bending of the strip.
</div>

[[File:Transient FEM Bimetal (4).JPG|700px]]

Bevor wir die Analyse durchführen können, muss eine zusätzliche Randbedingung festgelegt werden: Die Analyse kann nur durchgeführt werden, wenn unser Modell an einer Stelle im Raum fixiert ist. Mit [[File:FEM_ConstraintFixed.svg|20px]] wählen wir dieselben beiden Flächen wie oben bei 400 K aus und fügen sie der Liste hinzu. Auf dem Modell erscheinen rote Balken, die visualisieren, dass diese Flächen im Raum fixiert sind und sich während der Analyse nicht bewegen können.

[[File:Transient FEM Bimetal (5).JPG|700px]]

<span id="Running_the_analysis"></span>
=== Durchführung der Analyse ===

<div lang="en" dir="ltr" class="mw-content-ltr">
The analysis should already contain a solver object '[[FEM_SolverCalculixCcxtools|CalculiXccx Tools]]'. If not, we add one by using the [[File:FEM_SolverCalculixCcxtools.svg|20px]] solver icon from the toolbar. (There are two identical icons, the experimental solver should also work.) The solver object has a list of properties below in the left section of the window. Here we select the following options (leave the ones unmentioned unchanged):
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* Analysis Type: We want to run a thermomechanical analysis. Other options would be only static (no temperature effects), frequency (oscillations), or only to check the model validity.
* Thermo Mech Steady State: Steady state means, the solver will return one single result with the physics reaching equilibrium. We do NOT want to do that, we would like to get multiple, time-resolved results (transient analysis). So set it to false.
* Time end: We would like our analysis to stop after 60 seconds (i.e., simulation time, not real time).
</div>

[[File:Transient FEM Bimetal (6).JPG|700px]]

<div lang="en" dir="ltr" class="mw-content-ltr">
After double-clicking the solver object, we check that 'thermomechanical' is selected and run 'write .inp file'. This usually takes some seconds (or a lot more for bigger models) and returns a message 'write completed' in the box below. Now we start the calculation with 'run CalculiX'. After some time, the last messages 'CalculiX done without error!' and 'Loading result sets...' should appear. When the timer at the bottom has stopped, we close the task window. (With larger models and/or slower computers, FreeCAD may freeze and we won’t see the timer running. But be patient, in most of the cases, CalculiX is still running in the background and will eventually produce results.)
 
We should now have multiple [[File:FEM_ResultShow.svg|20px]] FEM result objects listed. By double-clicking, we can open each one of it and visualise the calculated temperatures, displacements, and stresses. We can visualise the bending by selecting 'Show' in the 'Displacement' section. Since the absolute displacements are small, we use the 'Factor' to exaggerate the values.
</div>

[[File:Transient FEM Bimetal (7).JPG|700px]]

In FreeCAD können wir [[File:FEM_PostPipelineFromResult.svg|20px]] [[FEM_PostPipelineFromResult/de|Pipelines]] verwenden, um die Ergebnisse nachzubearbeiten. Alternativ können wir die Ergebnisse im VTK-Format exportieren und in spezielle Nachbearbeitungsprogramme wie ParaView importieren. Für den Export mehrerer Ergebnisse (wie bei dieser Analyse) steht ein [[Makro zum Exportieren transienter FEM-Ergebnisse|Makro]] zur Verfügung.

<span id="Downloads"></span>
==Herunterladen==

* [https://drive.google.com/file/d/1m3RiJ-JM7QSJ6YDhZnafHIbyL92V6sYU/view?usp=sharing Beispieldatei ohne Ergebnisse (200 kB)]

* [https://drive.google.com/file/d/157aIdVpIyfpVW9WxL-ReGz0FIsQebH_q/view?usp=sharing Beispieldatei mit Ergebnissen (10 MB)]

<span id="Other_Example"></span>
==Anderes Beispiel==

* [https://forum.freecad.org/viewtopic.php?f=18&t=43040&start=10#p366664 Analytical bimetall example]. Das im Forum vorgestellte Analysebeispiel ist in den FreeCAD-FEM-Beispielen enthalten. Es kann mit Python gestartet werden mit:
 from femexamples.thermomech_bimetall import setup
 setup()


{{FEM Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}