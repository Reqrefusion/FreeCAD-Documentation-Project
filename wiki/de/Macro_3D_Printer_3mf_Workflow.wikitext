<languages/>
{{Macro/de
|Name=Makro_3D_Printer_3mf_Workflow
|Description=FreeCAD-Makro, das glatte 3MF-Dateien exportieren und alle Slicer- und Druckerdaten sichern kann, mit einem automatischen Arbeitsablauf für den bevorzugten Slicer.
|Author=2cv001
|Version=00.02
|Date=2026-02-14
|FCVersion=Alle
|Download=
[https://wiki.freecad.org/images/3/32/Macro_3D_Printer_3mf_Workflow.png Toolbar icon]
[https://raw.githubusercontent.com/2cv001/3D_printer_3mf_workflow/refs/heads/main/3D_Printer_3mf_Workflow.FCMacro Macro 3D_Printer_3mf_Workflow]
[https://raw.githubusercontent.com/2cv001/3D_printer_3mf_workflow/refs/heads/main/3D_Printer_3mf_Workflow_ConfigIni.FCMacro 3D_Printer_3mf_Workflow_ConfigIni.FCMacro]
}}

<span id="Description"></span>
== Beschreibung ==

FreeCAD-Makro zum Exportieren von glatten 3MF-Dateien unter Beibehaltung aller Druckereinstellungen des Slicers, mit automatischem Arbeitsablaufs zum bevorzugten Slicer.

{{Codeextralink|https://raw.githubusercontent.com/2cv001/3D_printer_3mf_workflow/main/3D_Printer_3mf_Workflow.FCMacro}}

Ausführlichere Beschreibung:

https://github.com/2cv001/3D_printer_3mf_workflow/blob/main/README.md

<span id="Purpose"></span>
=== Zweck ===

Dieses Makro automatisiert und verbessert den Arbeitsablauf von FreeCAD zum Slicer für das 3D-Drucken durch:
* Erstellen glatter 3D-Drucke ohne sichtbare Facetten.
* '''Speichern der Druckeinstellungen (Temperatur, Stützstrukturen, Geschwindigkeit…)''' auf eine Weise, die sie mit dem FreeCAD-Projekt verbunden hält.
* Starten externer Programme, um den Ablauf FreeCAD → Slicer → Druck zu optimieren.

Dieses Makro ist der Nachfolger des [[Macro_3D_Printer_Workflow|Makro 3d_printer_workflow]].

Das Makro 3D_Printer_Workflow war schon in der Lage, glatte, facettenfreie Exporte zu erstellen. Seine Haupteinschränkung war, dass er auf STL-Dateien angewiesen war, die keine Slicer- oder Druckeinstellungen speichern können.

Dieses Makro verwendet .3mf-Dateien, die ermöglichen, alle Druckeinstellungen zu speichern und wiederzuverwenden.

Um die Kernfunktionalität des vorherigen Makros beizubehalten, bietet diese Version ebenfalls eine STL-Exportoption mit einstellbaren Tessellationsparametern, die wie zuvor eine reibungslose Netzgenerierung ermöglicht.

<span id="Limitation"></span>
=== Einschränkungen ===

Die aktuelle Version kann nur ein einzelnes Objekt exportieren, aber dies kann umgangen werden, indem Verknüpfungen – beispielsweise eine einfache Gruppe – verwendet werden, um mehrere Objekte zu einem zu kombinieren.

<span id="Principle_of_smoothing"></span>
=== Prinzip der Glättung ===

[[File:Macro_3D_Printer_Workflow_With_Facets.png]]
{{Caption|Mit sichtbaren Facetten}}

[[File:Macro_3D_Printer_Workflow_Without_Facets.png]]
{{Caption|Ohne sichtbare Facetten}}

Das Makro exportiert die ausgewählten Objekte unter Verwendung der angegebenen Tessellationsparameter (LinearDeflection und AngularDeflection) in eine 3MF-Datei. Es generiert temporäre Netzobjekte für den Exportvorgang und entfernt diese anschließend automatisch.

<span id="Launching_other_programs_or_commands"></span>
=== Andere Programme oder Befehle starten === 

Das Makro ermöglicht, individuelle Befehle zu definieren, die automatisch ausgeführt werden, nachdem die 3MF-Datei erstellt wurde. Diese Funktion ist optional und kann dazu verwendet werden, zusätzliche Schritte im Arbeitsablauf zu automatisieren, wie:
* Die erstellte 3MF-Datei an einen anderen Ort kopieren.
* Den 3D-Drucker mit einem Smart-Plug einschalten.
* Eine Leuchte einschalten.
* Die Druckunterlage vorheizen.
* Eine HTTP-Abfrage an das eigene Heimautomatisierungssystem senden.
* Ein Skript oder ein externes Werkzeug starten.

<span id="Principle_diagram"></span>
== Prinzipdiagramm ==

[[File:Principe Macro 3D Printer 3mf Workflow.png]]

<span id="Setup"></span>
== Einrichtung ==

Zur Vereinfachung der Konfiguration steht ein spezielles Hilfsmakro zur Verfügung. Ihre Befehle werden in einer vom Workflow verwendeten INI-Datei gespeichert.

Die Schaltfläche ⚙️ im Optionen-Fenster ermöglicht das Installieren und auch das Öffnen des Konfigurationsmakros (3D_Printer_3mf_Workflow_ConfigIni.FCMacro).
* Die Felder im Konfigurationsfenster ausfüllen.
* Mit der Maus über einer Spaltenüberschrift schweben, um Hilfe-QuickInfos anzuzeigen.
* Jeder zuvor definierte Befehl wird der Reihe nach ausgeführt, nachdem die 3MF-Datei erstellt wurde.

[[File:Macro_3D_Printer_3mf_workflow_capture_écrant1.png|alt=Macro_3D_Printer_3mf_workflow capture écrant]]

<span id="Using_%PROJECT%,_%PROJECTDIR%,_and_%PROJECTNAME%_in_user_commands"></span>
=== %PROJECT%, %PROJECTDIR%, und %PROJECTNAME% in Benutzerbefehlen verwenden ===

Wenn benutzerdefinierte Nachbearbeitungsbefehle im Arbeitsablauf definiert werden, können drei spezielle Platzhalter verwendet werden. Diese Platzhalter werden automatisch durch Werte ersetzt, die aus der FreeCAD-Projektdatei abgeleitet werden.

<span id="Available_placeholders"></span>
== Verfügbare Platzhalter ==

Platzhalter und ihre Bedeutung:
*%PROJECT%: Vollständiger Pfad des FreeCAD-Projekts ohne Erweiterung
*%PROJECTDIR%: Ordner mit dem FreeCAD-Projekt
*%PROJECTNAME%: Projektdateiname ohne Erweiterung

<span id="Examples"></span>
== Beispiele ==

Die erzeugte 3MF-Datei in das Projekt kopieren:

<code>
copy "%PROJECT%.3mf" "%PROJECTDIR%/backup/%PROJECTNAME%.3mf"
</code>

Ein im Projektordner gespeichertes Skript ausführen:

<code>python "%PROJECTDIR%/scripts/postprocess.py" "%PROJECT%.3mf"</code>

Eine HTTP-Anfrage unter Verwendung des Projektnamens senden:

<code>
curl "http://myserver/api/start?job=%PROJECTNAME%"
</code>

Ein Shelly Smart Plug Gen 1 einschalten

<code>
curl "http://192.168.xxx.xxx/relay/0?turn=on"
</code>

Gen2

<code>
http://192.168.xxx.xxx/rpc/Switch.Set?id=0&on=true
</code>

Oder wenn das Gerät ein Passwort hat:

<code>
curl -u admin:yourpassword "http://192.168.xxx.xx/rpc/Switch.Set?id=0&on=true"
</code>

<span id="Usage"></span>
== Anwendung ==

Mehr Details unter https://github.com/2cv001/3D_printer_3mf_workflow 

<span id="Discussion"></span>
== Diskussion ==

<div lang="en" dir="ltr" class="mw-content-ltr">
English : https://forum.freecad.org/viewtopic.php?t=102503
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
French : https://forum.freecad.org/viewtopic.php?t=103419
</div>

<span id="Script"></span>
== Skript == 

Werkzeugleisten-Symbol [[Image:Macro_3D_Printer_3mf_Workflow.png]]

=== Code ===

ver 00.02 2026/02/14 by 2cv001 '''3D_Printer_3mf_Workflow.FCMacro'''

<span id="Download"></span>
==== Herunterladen ====

{{CodeDownload|https://raw.githubusercontent.com/2cv001/3D_printer_3mf_workflow/main/3D_Printer_3mf_Workflow.FCMacro| Download latest version of the macro}}