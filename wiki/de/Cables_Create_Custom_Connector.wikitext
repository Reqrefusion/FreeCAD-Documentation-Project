<languages/>

{{TutorialInfo/de
|Topic=Cables Benutzerdefinierte Leitungsverbindung erstellen
|Level=Intermediate
|Time=N/A
|Author=[[User:SargoDevel|SargoDevel]]
|FCVersion=1.0 or above
|SeeAlso=[[Cables_Workbench/de|Arbeitsbereich Cables]]
}}

<span id="Introduction"></span>
==Einleitung==

Das Werkzeug [[Image:Cables_CableConnector.svg|24px]] [[Cables_CableConnector/de| Leitungsverbindung]] des Arbeitsbereichs [[Cables_Workbench/de|Cables]] enthält einige einsatzbereite Modelle von Leitungsverbindungen (Klemmen, Steckverbinder usw.) in einer integrierten Bibliothek. Zusätzlich zu der Bibliothek kann jeder individuelle Leitungsverbindungen aus vorhandenen [https://en.wikipedia.org/wiki/ISO_10303 STEP]-Modellen erstellen, die z. B. von den Herstellern erhältlich sind.

Die individuelle Leitungsverbindung sollte in einem dem Benutzer zugeordneten Ordner erstellt werden. Die integrierte Bibliothek des Arbeitsbereichs Cables sollte als schreibgeschützte Referenz behandelt werden. Jede zusätzliche Datei in der integrierten Bibliothek würde bei einer nachfolgenden Aktualisierung des Arbeitsbereiches verlorengehen.

Diese Anleitung stellt eine Methode vor, für das manuelle Erstellen einer selbserstellten Leitungsverbindung, in diesem Falle ein Steckverbinder, der [[Cables_CableTerminal/de|Anschlüsse]] (CableTerminals) und ein [[Cables_SuppLines/de|Anschlusskreuz]] (SuppLines) beinhaltet.

Der neu erstellte Steckverbinder wird während der Erstellung einer [[Cables_CableConnector/de#Anwendung|Leitungsverbindung]] in der Liste '''Voreinstellung''' im Aufgaben-Fenster bereitgestellt. FreeCAD muss dafür nicht neu gestartet werden.

HINWEIS: Diese Anleitung beschreibt nur die Erstellung einer Leitungsverbindung der sogenannten Voreinstellungsart [[Cables_CableConnector/de#Fixed PresetType|Fixed]].

<span id="Preparing_folders"></span>
==Ordner vorbereiten==

Bevor der Steckverbinder erstellt wird, müssen zwei separate Bibliothekordner vorbereitet werden und einige Dateien.

Es ist sicherzustellen, dass die nachfolgenden Ordner vorhanden sind. Wenn nicht, müssen sie angelegt werden.

{{Code|lang=bash|code=
$FREECAD_USER_DIR/Cables/
$FREECAD_USER_DIR/Cables/lib/
}}

Das Benutzerverzeichnis {{incode|$FREECAD_USER_DIR}} kann über die [[Python_Console/de|Python-Konsole]] abgefragt werden:

{{Code|code=
FreeCAD.getUserAppDataDir()
}}

<span id="Preparing_files"></span>
==Dateien vorbereiten==

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Main_presets_file"></span>
===Haupt-Voreinstellungsdatei===

<div class="mw-collapsible-content">

Für [[Cables_CableConnector/de|Leitungsverbindungen]] (CableConnector-Objekte) heißt die '''Haupt-Voreistellungsdatei''' {{FileName|connectorpresets.csv}}. Die Datei [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/connectorpresets.csv connectorpresets.csv] aus dem Quellcodes des Arbeitsbereichs '''Cables''' herunterladen und in dem Ordner {{Incode|$FREECAD_USER_DIR/Cables/}}  ablegen, der im vorherigen Schritt erstellt wurde.

Die Datei {{FileName|connectorpresets.csv}} mit einem beliebigen Text-Editor bearbeiten. Ich empfehle den Editor [https://kate-editor.org Kate], der eine nette eingebaute farbliche Hervorhebung für CSV-Dateien besitzt.

Innerhalb der Datei {{FileName|connectorpresets.csv}} werden alle Zeilen entfernt, die NICHT mit einem '#'-Zeichen beginnen (leere Zeilen können bleiben, wie sie sind). Dies erfolgt, um zu verhindern, dass Leitungsverbindungen, die schon in der integrierten Bibliothek vorhanden sind, dupliziert werden.

WICHTIG: Die Datei {{FileName|connectorpresets.csv}} muss <u>nur einmal</u> erstellt werden. Diese Datei kann die grundlegenden Einstellungen aller individueller Leitungsverbindungen enthalten. Jede Leitungsverbindung wird durch eine einzelne Zeile in dieser Datei definiert. wenn später eine neue Leitungsverbindung hinzugefügt wird, muss einfach nur eine neue Zeile in dieser Datei ergänzt werden. Es sind einige weitere Dateien in dem Unterordner ''lib/'' erforderlich; dies wird in den nächsten Schritten erklärt.

</div> <!-- End of collapsible element for Main presets file section. Do not remove! -->
</div> <!-- End of collapsible element for Main presets file section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="STEP_file"></span>
===STEP-Datei===

<div class="mw-collapsible-content">

Die Leitungsverbindung der Voreinstellungsart [[Cables_CableConnector/de#Fixed PresetType|Fixed]] ist nich parametrisch und erfordert jedes Mal eine externe Form aus einer STEP-Datei zu laden, wenn eine neue Leitungsverbindungerstellt wird.

Als Beispiel in dieser Anleitung wird der Steckverbinder [https://www.traceparts.com/pl/product/molex-microfit-30-plug-housing-dual-row-2-circuits-ul-94v2-panel-mount-ears-glowwire-capable-black?CatalogPath=TRACEPARTS%3ATP10016001005006&Product=90-04042024-042829&PartNumber=430200210 Micro-Fit 3.0 Plug for 2 circuits with Panel Mount Ears] verwendet. Dieser wird im Format STEP AP242 heruntergeladen.

<div class="mw-translate-fuzzy">
'''SEHR WICHTIG''': Einige STEP-Dateien werden wahrscheinlich nicht korrekt in die Leitungsverbindung geladen. [[Cables_CableConnector/de#STEP_File|Leitungsverbindung, STEP-Datei]] beschreibt, wie man das Problem beheben kann.
</div>

Nach dem Herunterladen wird der die Datei in {{FileName|Micro-Fit3_DualRow-PME-2.step}} umbenannt (der Name ist eigentlich beliebig, sollte aber den Steckverbinder so genau wie möglich beschreiben). Dazu die Datei in den Ordner {{Incode|$FREECAD_USER_DIR/Cables/lib/}} ablegen.

HINWEIS: Da jetzt ein Name für den Steckverbinder vergeben wurde, muss er konsequent in allen folgenden Schritten verwendet werden, besonders innerhalb der CSV-Dateien. Zum Beispiel werden die Felder '''Name''' und '''Connector Class''' in der Datei {{FileName|connectorpresets.csv}} durch die Software genutzt, um nach einem gültigen Namen für eine Leitungsverbindung zu suchen (Wenn '''Name''' = ''DualRow-PME-2'', '''Connector Class''' = ''Micro-Fit3'' und die CSV-Beschreibungsdatei '''Connector Class'''_'''Name'''.csv benannt werden soll, ergibt sich für dieses Beispiel {{FileName|Micro-Fit3_DualRow-PME-2.csv}}).

</div> <!-- End of collapsible element for STEP file section. Do not remove! -->
</div> <!-- End of collapsible element for STEP file section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="CSV_description_file_for_STEP_file"></span>
===CSV-Beschreibungsdatei für STEP-Datei===

<div class="mw-collapsible-content">

Jedes STEP-Modell, das zum Erstellen einer [[Cables_CableConnector/de|Leitungsverbindung]] verwendet wird, sollte seine eigene CSV-Beschreibungsdatei besitzen. Diese Datei enthält zusätzliche Informationen über die Positionierung des Modells sowie über [[Cables_CableTerminal/de|Anschlüsse]] (CableTerminal-Objekte) und [[Cables_SuppLines/de|Anschlusskreuze]] (SuppLines-Objekte), die an dem Modell befestigt sind. In dieser Anleitung ist der Name der CSV-Beschreibungsdatei {{FileName|Micro-Fit3_DualRow-PME-2.csv}}.

Die Datei [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Connector_Dummy.csv Connector_Dummy.csv] aus dem Quellcode des Arbeitsbereichs '''Cables''' wird herunterladen und in dem Ordner {{Incode|$FREECAD_USER_DIR/Cables/lib/}} abgeleg. Ihr Name wird zu {{FileName|Micro-Fit3_DualRow-PME-2.csv}} geändert.

Die Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} wird mit einem Text-Editor bearbeite. Dabei werden innerhalb der Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} alle Zeilen gelöscht, die NICHT mit einem '#'-Zeichen beginnen (leere Zeilen können bleiben, wie sie sind). Erforderliche neue Zeiten werden in den folgenden Schritten erstellt.

</div> <!-- End of collapsible element for CSV description... section. Do not remove! -->
</div> <!-- End of collapsible element for CSV description... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Filling_files_with_basic_data"></span>
==Dateien mit grundlegenden Daten befüllen==

<div class="mw-collapsible-content">

Die Datei {{FileName|connectorpresets.csv}} wird noch einmal bearbeitet. Dafür wird eine neue Zeile unter den folgenden Zeilen erstellt:

{{Code|lang=bash|code=
# Fixed Preset Type
# Name,Fixed,Connector Class,StepFileName,NrOfTerminals,NrOfSuppLines
}}

und ein Text wie der folgende hinzugefügt:

{{Code|lang=text|code=
DualRow-PME-2,Fixed,Micro-Fit3,Micro-Fit3_DualRow-PME-2.step,2,1
}}

Er enthält die Informationen darüber, dass dieser Steckverbinder 2 [[Cables_CableTerminal/de|Anschlüsse]] (CableTerminal-Objekte) und 1 [[Cables_SuppLines/de|Anschlusskreuz]] (SuppLines-Objekt) enthält. Um mehr über die Regeln dieser Zeile zu erfahren, siehe [[Cables_CableConnector/de#More_details_about_Fixed_PresetType_in_connectorpresets.csv_file|Leitungsverbindung, Weitere Einzelheiten über die Voreinstellungsart Fixed in der Datei connectorpresets.csv]].

Dann wird die Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} bearbeitet. Dafür wird eine neue Zeile unter den folgenden Zeilen erstellt:

{{Code|lang=bash|code=
# Connector Element Type
# Name,ExtShape,Class,Offset X,Offset Y,Offset Z,Rotation Yaw(Z),Rotation Pitch(Y), Rotation Roll(X)
}}

und dieser Text hinzugefügt:

{{Code|lang=text|code=
DualRow-PME-2,ExtShape,Micro-Fit3,0.0,0.0,0.0,0.0,0.0,0.0
}}

dann unter den Zeilen:

{{Code|lang=bash|code=
# Terminal Element Type
# Name,Terminal,Class,Offset X,Offset Y,Offset Z,Rotation Yaw(Z),Rotation Pitch(Y), Rotation Roll(X),NrOfConnections,Length,Spacing
}}

2 Zeilen hinzufügen:

{{Code|lang=text|code=
Pin001,Terminal,Terminal,-10.0,0.0,0.0,0.0,0.0,0.0,1,10.0,1.0
Pin002,Terminal,Terminal,10.0,0.0,0.0,0.0,0.0,0.0,1,10.0,1.0
}}

und schließlich unter den folgenden Zeilen:

{{Code|lang=bash|code=
# SupportLines Element Type
# Name,SupportLines,Class,Offset X,Offset Y,Offset Z,Rotation Yaw(Z),Rotation Pitch(Y), Rotation Roll(X)
}}

1 Zeile hinzufügen:

{{Code|lang=text|code=
SuppLines001,SupportLines,SupportLines,0,0,30.0,0,0,0
}}

Die oben hinzugefügten Zeilen legen die Ausgangspositionen des Steckverbinderkörpers, der 2 Anschlüsse und eines Anschlusskreuzes fest. In den folgenden Schritten werden die endgültigen Positionen aller Elemente bestimmt.

</div> <!-- End of collapsible element for Filling files... section. Do not remove! -->
</div> <!-- End of collapsible element for Filling files... section. Do not remove! -->

<span id="Adjusting_element_positions"></span>
==Elementpositionen anpassen==

Wenn die vorherigen Schritte richtig ausgeführt wurden, sollte es jetzt möglich sein, den Steckvervinder mit der Voreinstellung '''Micro-Fit3_DualRow-PME-2''' zu erstellen. Ein neues Dokument in FreeCAD erstellen und den Steckverbinder erstellen, wie unter [[Cables_CableConnector/de#Usage|Leitungsverbindung, Anwendung]] beschrieben. Dafür im Aufgaben-Fenster die Voreinstellung '''Micro-Fit3_DualRow-PME-2''' auswählen und mit {{Button|OK}} bestätigen. Das Ergebnis sollte wie in der folgenden Abbildung aussehen.

[[File:Cables_Creating_Own_Connector_Img1.png]]

{{Caption|Steckverbinder '''Micro-Fit3_DualRow-PME-2''' mit den Ausgangsdaten für die Positionierung.}}

In folgenden Schritten werden die Positionierungen von Steckverbinderkörper, Anschlüssen und Anschlusskreuz angepasst.
<div class="mw-collapsible mw-collapsed toccolours">

<span id="Adjusting_position_of_connector_body"></span>
===Position des Steckverbinderkörpers anpassen===

<div class="mw-collapsible-content">

Die Positionierung der importierten STEP-Form kann anders ausfallen, als erwartet. Stellen wir uns vor, dass der Steckverbinder in diesem Beispiel aufrecht stehen soll, mit dem Leitungsabgang nach oben und seine Unterseite soll den Punkt (0,0,0) berühren.

Vergessen wir für eine Weile die Anschlüsse und das Anschlusskreuz, wählen  den Steckverbinder in der [[Tree_View/de|Baumansicht]] aus und drehen ihn mit dem Werkzeug [[Std_TransformManip|Std Bewegen]].

Seine Positionierung kann in der [[Property_View/de|Eigenschaften-Ansicht]] oder in der [[Python_Console/de|Python-Konsole]] überprüft werden. Einzelheiten zur Ausführung sind unter [[Placement/de|Positionierung]] beschrieben. Im Aufgaben-Fenster die Werte im Abschnitt mit Gieren, Nicken, Rollen (Yaw, Pitch, Roll) ablesen. Diese stellen die Ergebnisse der Drehung besser dar. Die genauen Werte können manuell eingegeben werden.

Das Ergebnis der Positionierung (Placement) sollte so aussehen: {{Incode|Placement [Pos{{:=}}(0,0,8.445), Yaw-Pitch-Roll{{:=}}(0,0,-90)]}}

Jetzt wieder die Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} bearbeiten; dabei die folgende Zeile:

{{Code|lang=text|code=
DualRow-PME-2,ExtShape,Micro-Fit3,0.0,0.0,0.0,0.0,0.0,0.0
}}

ändern zu:

{{Code|lang=text|code=
DualRow-PME-2,ExtShape,Micro-Fit3,0.0,0.0,8.445,0.0,0.0,-90.0
}}

und die Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} speichern.

Alle Objekte aus dem aktuellen FreeCAD-Dokument löschen und den Steckverbinder erneut mit der Voreinstellung '''Micro-Fit3_DualRow-PME-2''' erstellen. Seine aktuelle Positionierung sollte zu den gerade eingestellten Werten passen. Man beachte, dass die Positionierung des Steckverbinders, die jetzt in der [[Property_View/de|Eigenschaften-Ansicht]] oder in der [[Python_Console/de|Python-Konsole]] angezeigt wird, jetzt so aussieht: {{Incode|Placement [Pos{{:=}}(0,0,0), Yaw-Pitch-Roll{{:=}}(0,0,0)]}}. Dies ist richtig, da die Positionierung des Steckverbinders während seiner Erstellung aufgrund der Werte in der Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} erfolgte.

Am Ende sollte die Darstellung wie in der folgenden Abbildung aussehen.

[[File:Cables_Creating_Own_Connector_Img2.png]]

{{Caption|Steckverbinder '''Micro-Fit3_DualRow-PME-2''' aufrecht positioniert.}}
</div> <!-- End of collapsible element for Adjusting position of connector body section. Do not remove! -->
</div> <!-- End of collapsible element for Adjusting position of connector body. section. Do not remove! -->
<div class="mw-collapsible mw-collapsed toccolours">

<span id="Adjusting_position_of_CableTerminals"></span>
===Positionen der Anschlüsse anpassen===

<div class="mw-collapsible-content">

Den '''Steckverbinder''', das CableConnector-Objekt, in der [[Tree_View/de|Baumansicht]] erweitern. er sollte zwei abhängige Objekte enthalten, '''CableConnector_Term001''' und '''CableConnector_Term002'''. Beide müssen angepasst werden, um in den Steckverbinder zu passen.

Die Eigenschaft '''Attachment Support''' in der [[Property_View/de|Eigenschaften-Ansicht]] beider Anschlüsse (CableTerminal-Objekte) leeren. Dies ist erforderlich, um das Bewegen der Anschlüsse ohne Befestigung zu ermöglichen.

Den ersten Anschluss in der [[Tree_View/de|Baumansicht]] auswählen und in der [[Property_View/de|Eigenschaften-Ansicht]] seine Eigenschaft '''Länge''' auf 6 mm ändern. Dann den Anschluss mit dem Werkzeug [[Std_TransformManip/de|Std Bewegen]] aufrecht im Steckverbinder positionieren und dabei Sicherstellen, dass sein erster Knoten, Vertex1, nach oben zeigt (dies ist später für das Befestigen der Adern wichtig).  Die Knotennummer wird in FreeCADs unterer Statuszeile angezeigt, während der Mauszeiger in der [[3D_View/de|3D-Ansicht]] über den Knoten schwebt. Alle Schritte für den zweiten Anschluss wiederholen.

Mit derselben Methode wie im vorherigen Schritt prüfen, ob die Positionierung der Anschlüsse den folgenden Angaben entspricht

'''CableConnector_Term001''': {{Incode|Placement [Pos{{:=}}(0,1.5,12.0), Yaw-Pitch-Roll{{:=}}(0,0,90)]}}

'''CableConnector_Term001''': {{Incode|Placement [Pos{{:=}}(0,-1.5,12.0), Yaw-Pitch-Roll{{:=}}(0,0,90)]}}

Diese Werte werden in die Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} übertragen, indem die Zeilen

{{Code|lang=text|code=
Pin001,Terminal,Terminal,-10.0,0.0,0.0,0.0,0.0,0.0,1,10.0,1.0
Pin002,Terminal,Terminal,10.0,0.0,0.0,0.0,0.0,0.0,1,10.0,1.0
}}

mit diesen Zeilen überschrieben werden:

{{Code|lang=text|code=
Pin001,Terminal,Terminal,0.0,1.5,12.0,0.0,0.0,90.0,1,6.0,1.0
Pin002,Terminal,Terminal,0.0,-1.5,12.0,0.0,0.0,90.0,1,6.0,1.0
}}

Alle Objekte aus dem aktuellen FreeCAD-Dokument löschen und den Steckverbinder erneut mit der Voreinstellung '''Micro-Fit3_DualRow-PME-2''' erstellen. Seine aktuelle Positionierung sollte zu den gerade eingestellten Werten passen und wie in der folgenden Abbildung aussehen.

[[File:Cables_Creating_Own_Connector_Img3.png]]

{{Caption|Steckverbinder '''Micro-Fit3_DualRow-PME-2''' mit korrekt ausgerichteten Anschlüssen. Er ist transparent dargestellt, um die Anschlüsse besser sehen zu können.}}

</div> <!-- End of collapsible element for Adjusting position of CableTerminals section. Do not remove! -->
</div> <!-- End of collapsible element for Adjusting position of CableTerminals section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Adjusting_position_of_SuppLines"></span>
===Position des Anschlusskreuzes anpassen===

<div class="mw-collapsible-content">

Das einzelne Anschlusskreuz, das SuppLines-Objekt ('''CableConnector_SuppLines001''' in diesem Beispiel) hat die Form eines Kreuzes und eine voreingestellte Größe. Dieses Objekt kann als Befestigungspunkt verwendet werden, um eine Leitung an dem Steckverbinder zu befestigen. Es steht dem Anwender frei es zu nutzen oder auch nicht.

Die Ausgangsposition des Anschlusskreuzes in dieser Anleitung ist zu hoch. Lasst uns seine Positionierung ändern, indem wir die im vorherigen Schritt beschriebenen Methoden verwenden.

Die endgültige Positionierung des Anschlusskreuzes könnte so aussehen:
'''CableConnector_SuppLines001''': {{Incode|Placement [Pos{{:=}}(0,0,25), Yaw-Pitch-Roll{{:=}}(0,0,0)]}}

Diese Werte werden in die Datei {{FileName|Micro-Fit3_DualRow-PME-2.csv}} übertragen, indem die Zeile

{{Code|lang=text|code=
SuppLines001,SupportLines,SupportLines,0,0,30.0,0,0,0
}}

mit dieser Zeile überschrieben wird:

{{Code|lang=text|code=
SuppLines001,SupportLines,SupportLines,0,0,25.0,0,0,0
}}

Noch einmal alle Objekte aus dem aktuellen FreeCAD-Dokument löschen und den Steckverbinder erneut mit der Voreinstellung '''Micro-Fit3_DualRow-PME-2''' preset. erstellen. Das Ergebnis sollte allen endgültigen Anpassungen der erstellten Objekte entsprechen.

Die Voreinstellung des Steckverbinders '''Micro-Fit3_DualRow-PME-2''' ist jetzt bereit für den Einsatz in Projekten.

</div> <!-- End of collapsible element for Adjusting position of SuppLines section. Do not remove! -->
</div> <!-- End of collapsible element for Adjusting position of SuppLines section. Do not remove! -->

{{Userdocnavi{{#translation:}}}}