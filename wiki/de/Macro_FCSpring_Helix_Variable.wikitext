<languages/>

{{Macro/de
|Name=Macro FCSpring Helix Variable
|Name/de=Makro FCFeder-Helix-Variable
|Icon=FCSpring Helix Variable.png
|Description=Dieses Makro erstellt eine Feder mit anpassbaren Eigenschaften. Jede Drehung kann die Federkonfiguration ändern, die in einer Datei mit der Erweiterung '''.FCSpring''' oder '''.FCSpringCoor''' gespeichert werden kann. <br />Erkannt werden: Fläche (Ausrichtung), Zylinder (Radius), Ellipse (Nebenradius), Kugel (Radius), Toroid (Radius1), Ebene (Ausrichtung), Linie (der Richtung folgend), Punkt (XYZ-Scheitelpunktposition)<br />Wenn kein Objekt erkannt wird (keine Auswahl), wird die Feder am Punkt XYZ 0,0,0 erstellt.<br/>Siehe die [https://wiki.freecad.org/Macro_FCSpring_Helix_Variable/de#Examples Beispiele]<br/>
<br/>
[https://forum.freecad.org/download/file.php?id=80844 Die Symbole] in der .zip-Datei herunterladen.
|Author=Mario52
|Download=[https://wiki.freecad.org/images/6/69/FCSpring_Helix_Variable.png Werkzeugleisten-Symbol]
|Version=01.19
|Date=2024/07/11
|FCVersion=0.19 und höher
}}

<span id="Description"></span>
==Beschreibung==

Dieses Makro erstellt eine hochgradig anpassbare Feder. Jede Änderung an der Federkonfiguration kann in einer Datei mit der Erweiterung .FCSpring oder Koordinaten .FCSpringCoor gespeichert werden. <br />Erkannt werden: Fläche (Flächenrichtung), Zylinder (Radius), Ellipse (Nebenradius), Kugel (Radius), Toroid (Radius1), Ebene (Richtung), Linie (der Richtung folgend), Punkt (XYZ-Scheitelpunktposition)<br />Wenn kein Objekt erkannt wird (keine Auswahl), wird die Feder am Punkt XYZ 0., 0., 0. erstellt.

{{Codeextralink|https://gist.githubusercontent.com/mario52a/68c81c32a0727a693d3a/raw/91cbf54580d8af331f9b371f4951a40b9ef506f3/Macro_FCSpring_Helix_Variable.FCMacro}}

[[File:TruncateSpring00.png|400px]]
{{Caption|FCFeder-Helix-Variable}}

<span id="Usage"></span>
==Anwendung==

Dieser Abschnitt dient zur Konfiguration der Feder.

Schematische Darstellung der Federkonfiguration 

[[File:Macro TruncateSpring 01.png]]
{{clear}}

<span id="Gui"></span>
==== Grafische Benutzeroberfläche ====

[[File:Macro FCSpring Helix Variable 01.png]]
{{clear}}

<span id="Configuration"></span>
=== Konfiguration ===

* {{SpinBox|10 coils}} '''Number of coil''' : Gesamtzahl der Spulen pro Feder. Standardwert = 10
* {{SpinBox|20,000 mm}} '''Radius of spring''' : Federradius. Standardwert = 20,0
* {{SpinBox|15,000 mm}} '''Pitch of spring''' : Steigung der Feder, allgemein. Standardwert = 15,0
* {{SpinBox|5 ( 72 points )}} '''Precision of turn''' : Die Drehgenauigkeit entspricht der Anzahl der Punkte pro Umdrehung der Spule und wird wie folgt berechnet: Genauigkeit (Anzahl Punkte) = (Steigung / (360/Genauigkeit)). Standardwert = 5 (72 Punkte)
* {{SpinBox|20,000 mm}} : Radius des großen Kreises des Kegels (das Kontrollkästchen {{CheckBox|TRUE|Spring conical}} zur Verwendung aktivieren)
* {{CheckBox|Spring conical}} : Aufgrund des großen Durchmessers des Kegels ist diese Abmessung immer größer als der Radius.
* {{CheckBox|Angles}} : Das Kontrollkästchen aktivieren, um die Funktion Beginn- und Endwinkel der Spule zu aktivieren. Diese Option ist standardmäßig deaktiviert. Wenn die Funktion aktiviert ist, wird die Genauigkeit automatisch auf „ precision“ (Präzision) gesetzt und {{SpinBox|1 (360 Punkte)}} auf 1 (360 Punkte pro Umdrehung, 1 Punkt = 1 Grad) eingestellt.
* {{SpinBox|0 deg}} '''Begin''' : Anfangswinkel der ersten Windung der Feder.
* {{SpinBox|360 deg}} '''End''' : Endwinkel der letzten Windung der Feder.

[[File:Macro FCSpring Helix Variable 02.png]]
{{clear}}

<span id="Type_line"></span>
====Linientype====

* {{RadioButton|TRUE|[[Image:Draft_BSpline.svg|24px]] Bspline}} '''BSpline''' : Linienart BSpline.
* {{RadioButton|[[Image:Draft_Wire.svg|24px]] Wire}} '''Wire''' : Linienart Linienzug.
* {{CheckBox|[[Image:Draft_Point.svg|24px]] Points}} '''Points''' : Das Kontrollkästchen aktivieren, wenn das Kontrollkästchen aktiviert ist, wird an jedem Punkt ein Punkt erstellt.
* {{CheckBox|Reverse}} '''Reverse''' : Das Kontrollkästchen aktivieren, wenn das Kontrollkästchen aktiviert ist, ändert die Feder ihre Richtung.

[[File:Macro FCSpring Helix Variable 03.png ]]
{{clear}}

<span id="Options"></span>
====Optionen====

Dieser Abschnitt wird angezeigt, wenn ein Objekt ausgewählt ist. Das Typ-Objekt wird im Texteditor angezeigt.

Das Objekt kann eine Linie, zwei Punkte, ein Kreis, ein Linienzug ... sein. Eine Achse, die der Länge der Feder entspricht, wird automatisch erstellt.

Erkennung: Zylinder (Radius), Kugel (Radius), Toroid (Radius), Kegel (kleiner Radius), Kreis (Radius), Bogen (Radius), Ellipse (kleiner Radius)

* {{Button|Normal}} : Wenn ein Kreis ausgewählt ist, wird '''Normal''' den Radius des Kreises nicht ändern (Standard)
** {{Button|Adapt Rad.}} : Wenn die Schaltfläche {{Button|Normal}} gedrückt wird, ändert sich die Schaltfläche zu {{Button|Adapt Rad.}} und die Feder wird an den erkannten Radius angepasst (sofern ein Radius erkannt wird).
* {{Button|Point Mouse}} : Wenn sich der Mauszeiger auf einer Fläche befindet, wird die Feder an diesem Punkt erstellt (Standard).
** {{Button|Center Face}} : Wenn die Schaltfläche {{Button|Point Mouse}} gedrückt wird, ändert sich die Schaltfläche zu {{Button|Center Face}} und die Feder wird auf der ausgewählten Mittelfläche erstellt.
* {{CheckBox|Position}} '''Position''' : Wenn zwei Objekte ausgewählt sind (erstes Objekt: Achse, zweites Objekt: Feder (oder anderes Objekt)), ist dieses Kontrollkästchen aktiviert und es kann das zweite Objekt (Feder) entlang des ersten Objekts (Achse) verschoben werden. Wenn dieses Kontrollkästchen {{CheckBox|TRUE|Position}} aktiviert ist, ist die Option „Position“ zur Verwendung freigegeben.
* {{Button|Circle}} : Wenn drei Punkte mit der Maus ausgewählt werden, wird die Schaltfläche {{Button|Circle}} aktiviert und es kann ein Kreis erstellt werden, der als Basis für eine Feder dienen kann.

[[File:Macro FCSpring Helix Variable 02 1.png]]
{{clear}}

====Position (0)(xx)====

(0)(xx) : Nummernauswahl(en), Länge in mm der erstellten Achse x 10, gleiche Anzahl von Punkten zum Verschieben der Feder der Achse 

* {{Button|Begin/End}} : Die Feder auf der Anfangs-, Mittel- und Endachse positionieren.
* {{Button|Reverse Spr.}} : Die Feder der Achse umkehren
* {{SpinBox|0,1 mm}} : Die Feder mit einer Genauigkeit von 0,1 mm entlang ihrer Achse verschieben
* {{KEY|Reverse Count.}} : Zähler umkehren, z. B.: Beginn 0 bis 10.. oder Ende 0 bis 10..
* '''Schieberegler''' : Die Feder auf ihrer Achse positionieren.

[[File:Macro FCSpring Helix Variable 02 2.png]]
{{clear}}

<span id="Coil_special_dimension"></span>
====Spulen-Sonderabmessung====

* {{SpinBox|Num: 2}} '''Numbering of coil''' : Nummerierung der zu ändernden Spule. (Standard: keine)
* {{CheckBox|Smoothing}} '''Smoothing''' Dieses Kontrollkästchen entdeckt ein Drehfeld zur Bestimmung des Glättungsgrades. Der Maximalwert ist der Präzisionswert -1 (diese Option befindet sich noch im Prototypenstadium und das Ergebnis kann zufriedenstellend oder völlig falsch sein).
* {{SpinBox|0,000 mm}} '''Pitch of coil''' : Spulenabstand zum Ändern. (Standard: keine) 
* {{Button|15.0 mm}} : Wenn die Taste gedrückt wird, wird der Wert „Tonhöhe der Saite“ von der „Tonhöhe der Spule“ beeinflusst (dieser Wert wird automatisch an den Wert „Tonhöhe der Saite“ angepasst).
* {{SpinBox|0,000 mm}} '''Radius of coil''' : Radius der zu modifizierenden Spule.  (Standard: keine)
* {{Button|20.0 mm}} : Wenn die Schaltfläche gedrückt wird, wird der Wert „Radius der Schnur“ vom Wert „Radius der Spule“ beeinflusst (dieser Wert wird automatisch an den Wert „Radius der Schnur“ angepasst).
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_01.png|16px]] Den geänderten Wert akzeptieren}} : Schaltfläche zum Akzeptieren der Änderung nach Auswahl der Spulenanzahl und Änderung des Spulenabstands.
* '''Text edit''' : In diesem Fenster wurden alle modifizierten Spulen angezeigt.
* {{Button|Clear}} : Den Texteditor bereinigen
* {{Button|Zoom}} : Schaltfläche „Zoom“ zum Vergrößern des Textbearbeitungsfensters

[[File:Macro FCSpring Helix Variable 04.png]]
{{clear}}

<span id="Command"></span>
==== Befehl ====

* {{Button|[[Image:FCSpring_Helix_Variable_Icon_02.png|16px]] Load}} : Die Schaltfläche Load öffnet ein Dialogfeld zum Lesen einer Datei '''.FCSpring'''.
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_03.png|16px]] Save}} : Die Schaltfläche Save öffnet ein Dialogfeld zum Speichern einer Datei '''.FCSpring''' mit Federkonfiguration modifizieren oder nicht.
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_02b.png|16px]] Load Coordinates}} : Ein Dialogfeld öffnen, um eine Datei '''.FCSpringCoor''' (alle Koordinaten der Punkte der Feder) zu lesen.
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_03b.png|16px]] Save Coordinates}} : Ein Dialogfeld öffnen, um eine Datei '''.FCSpringCoor''' (alle Koordinaten der Punkte der Feder) zu speichern.
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_04.png|16px]] Quit}} : Das Makro beenden.
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_05.png|16px]] Reset}} : Das Makro auf die Standardkonfiguration zurücksetzen.
* {{Button|[[Image:FCSpring_Helix_Variable_Icon_06.png|16px]] Launch}} : Das Makro starten und die konfigurierte Feder erstellen.
* {{Button|Help}} : Diese Schaltfläche zeigt die Wiki-Seite im FreeCAD-Browser an.

[[File:Macro FCSpring Helix Variable 05.png]]
{{clear}}

<span id="Report_view"></span>
== Ausgabefenster ==

Die Fensterberichtansicht zeigte alle geänderten Werte an.

[[File:Macro FCSpring Helix Variable 06.png]]
{{clear}}

<span id="Example_spring"></span>
== Beispiel Feder ==

Beispiel für die modifizierte Feder

[[File:Macro FCSpring Helix Variable 07.png]]
{{clear}}

<span id="Example_Report_view"></span>
== Beispiel Ausgabefenster ==

Wenn das Makro gestartet wird, wird die vollständige Liste der Umdrehungen in Tabellenform angezeigt.

Hier die Daten der oben gezeigten Feder, angezeigt im Ausgabefenster
[[Datei:Macro FCSpring Helix Variable 08.png]]

{{clear}}

<span id="Icon"></span>
==Symbol==

Das Dateisymbol herunterladen und in das eigene Makro-Verzeichnis kopieren.

Auf das Bild klicken, im neuen Fenster die Maus über dem Bild positionieren, mit der rechten Maustaste klicken und "Ziel speichern unter ..." wählen. 

Werkzeugleisten-Symbol [[File:FCSpring Helix Variable.png|left|Schaltfläche]]
{{clear}}

Makro-Symbole

[[File:FCSpring_Helix_Variable_Icon_01.png]]  [[File:FCSpring_Helix_Variable_Icon_02.png]]  [[File:FCSpring_Helix_Variable_Icon_02b.png]]  [[File:FCSpring_Helix_Variable_Icon_03.png]]  [[File:FCSpring_Helix_Variable_Icon_03b.png]]  [[File:FCSpring_Helix_Variable_Icon_04.png]]  [[File:FCSpring_Helix_Variable_Icon_05.png]]  [[File:FCSpring_Helix_Variable_Icon_06.png]]  
{{clear}}

<span id="Script"></span>
==Skript==

'''Macro_FCSpring_Helix_Variable.FCMacro'''

Das Makro von Gist herunterladen. [https://gist.github.com/mario52a/68c81c32a0727a693d3a Macro_FCSpring_Helix_Variable]

==Installation==

Die oben genannte Datei ist ein Makro in Form von GitHub-Code. Die Zip-Datei auf GitHub herunterladen und dann die Makro-Installationsanweisungen für Anfänger unter [https://wiki.opensourceecology.org/wiki/Installing_Macros_in_FreeCAD installing FreeCAD macros in Ubuntu] befolgen.

<span id="Examples"></span>
==Beispiele==

<center>
<gallery widths="400" heights="300">
File:Valves Assembly IN EX.png|Ventilbaugruppe IN EX mit Genehmigung und erstellt von r.tec siehe [https://forum.freecad.org/viewtopic.php?f=24&t=14183 Einlass- und Auslassventilbaugruppe] und [https://forum.freecad.org/viewtopic.php?f=13&t=14143 Spiralfeder] danke r.tec
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="200">
File:Macro FCSpring Helix Variable 12.png| 
File:Macro FCSpring Helix Variable 13.png|
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="200">
File:Macro FCSpring Helix Variable 14.png|
File:Macro FCSpring Helix Variable 15.png|
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="200">
File:Macro FCSpring Helix Variable 16.png|
File:Macro FCSpring Helix Variable 17.png|
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="200">
File:Macro FCSpring Helix Variable 18.png|
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="200">
File:Macro FCSpring Helix Variable polygonalSpiral00.png|Beispiel für eine polygonale Spirale mit drei Punkten
File:Macro FCSpring Helix Variable polygonalSpiral01.png|Beispiel für eine polygonale Spirale mit vier Punkten
</gallery>
</center>
<br />
<center>
<gallery widths="600" heights="200">
File:Macro FCSpring Helix Variable 19.png|Unterschied zwischen Glatt (hier 71 mit einer Genauigkeit von 5 (72 Punkte)) und Normal
</gallery>
</center>
<br />
<center>
<gallery widths="800" heights="800">
File:Macro FCSpring Helix Variable.gif|Beispiel
</gallery>
</center>
<br />
<center>
<gallery widths="800" heights="800">
File:Macro FCSpringHelixVariable Example 02.gif|Beispiel: Konische Feder erstellen 
</gallery>
</center>
<br />

<br />
<center>
<gallery widths="800" heights="400">
File:Macro_FCSpringHelixVariable_Spring_On_Circle.gif|Beispiel: Feder auf Kreis erstellen
File:Macro_FCSpringHelixVarable_Spring_Along_Axis.gif|Entlang der Achse bewegen
</gallery>
</center>
<br />

<span id="Links"></span>
==Verweise==

Diskussion im FreeCAD-Forum: [https://forum.freecad.org/viewtopic.php?f=3&t=8313&p=68161#p68161 Try to do a Spring]

<span id="Project"></span>
==Projekt==

Feder, massiv, abgestumpft

Armaturen weich machen: erledigt

Durchmesser an jede Spule anpassen: erledigt

==Version==

11/07/2024 version 01.19 '''"import WebGui"''' gelöscht und durch '''"import webbrowser"''' ersetzt und Filter für '''OS Linux Mint''' angepasst

2023/09/01 Version 0.18c '''FreeCAD.activeDocument().recompute(None,True,True)''' hinzugefügt, ''Text in italics'' "Fehler" behoben durch '''Syres''' danke
[https://forum.freecad.org/viewtopic.php?p=703568#p703568 How to draw polygonal spirals in Freecad?]

2023/09/01 Version 0.18b den Code korrigiert (angepasst):

{{Code|code=
self.PB_Adapt_Radius.setStyleSheet("background-color: QPalette.Base") 
}}
to
{{Code|code=
self.PB_Adapt_Radius.setStyleSheet("QPushButton {background-color: QPalette.Base}") 
}}

2022/03/16 Version 0.18 : Scrollbar hinzufügen, Möglichkeit zum Andocken links oder rechts, Chrono wiederherstellen ''(time.time())'', letzten Dateipfad speichern

{{Code|code=
####chrono################
import time
global depart ; depart  = 0.0
global arrivee; arrivee = 0.0
def chrono(switch):    # 0=depart autre=stop
#time.strftime('%X %x %Z')#'15:44:07 12/14/19 Paris, Madrid'
    global depart
    global arrivee
    try:
        if switch == 0:
            depart = time.time()#time.clock()
            App.Console.PrintMessage("Chrono begin   : "+str(time.strftime('%X'))+"\n")
        else:
            arrivee = time.time()#time.clock()
            App.Console.PrintMessage("Chrono end     : "+str(time.strftime('%X'))+"\n")
            parcouru = ((arrivee - depart)/60.0)
            App.Console.PrintError("Time execution : "+str("%.3f" % parcouru)+" min"+"\n\n")
        return parcouru
        FreeCADGui.updateGui()    
    except Exception: None
####chrono################
}}

2020/11/12 Version=01.17 : Unterdrücke den Timer Chrono!!

2020/10/18 Ver 00.16b : Ich unterdrücke den Test in FC 18 Zeile 56, ich unterdrücke den Timer Chrono und ich warte ein wenig.

2020/05/01 Ver 00.16: Korrekturfehlerdatei (speichern und laden) verursacht Unterdrückung von "label_11_Name"...

2020/04/11 Ver 01.15: Layout und kleine Präsentation

2019/05/03 Ver 01.14: Kompatibel mit FreeCAD 0.19.16523 (Git)

2019/04/08 Ver 01.13: Kompatibel mit FreeCAD 0.18.16093 (Git) / Python-Version: 3.6.6 / Qt-Version: 5.6.2

03/04/2017: ver 01.12: Korrektur Fehler Zeile 2314  "global ui" hinzugefügt

11/12/2016: ver 01.11: Position der Feder auf einem ausgewählten Objekt hinzufügen

10/09/2016: ver 01.10: Hinzufügen der Schaltfläche "Zoom" zum Vergrößern des Textbearbeitungsfensters

04/09/2016: ver 01.09: Glätten hinzugefügt 

16/03/2016: ver 01.08 : Korrigiere und füge "int()" zu debutAngle und finAngle hinzu (Datei lesen).

02/03/2016: ver 01.07 : Option Umkehrfeder hinzugefügt

08/02/2016: ver 01.06 : Korrektur der Fehlerursache Winkel "modifyAngle = int(file.readline().rstrip('\n\r'))   # 9"  modifyAngle is int() not char

07/01/2015: ver 01.05 : Hinzufügen von "Try ...Except" (Datenkonus) für Kompatibilität mit alter Version

07/01/2015: ver 01.04 : "spring conical" hinzufügen, den Pfad zu "UserAppData" ändern und das Symbol hinzufügen.

07/12/2014: ver 01.03 : Neue Version mit einstellbarer Radiusspule 

17/11/2014: ver 1.02 : Neue Version mit grafischer Benutzeroberfläche und Möglichkeit, jede Spule zu modifizieren und die Daten auf der Festplatte zu speichern oder zu laden.

10/11/2014: (23h20) Korrektur der Änderung 
{{Code|code=
ligne.Placement = App.Placement(App.Vector(0.0,0.0,0.0), App.Rotation(App.Vector(0,0,1),angleTr), App.Vector(0,0,0))
}}
10/11/2014: Zeile 44 angepasst :
{{Code|code=
        a = FreeCAD.ActiveDocument.Line.Placement=App.Placement(App.Vector(0.0,0.0,0.0), App.Rotation(App.Vector(0,0,1),angleTr), App.Vector(0,0,0))
}}
zu
{{Code|code=
        ligne = FreeCAD.ActiveDocument.Line.Placement=App.Placement(App.Vector(0.0,0.0,0.0), App.Rotation(App.Vector(0,0,1),angleTr), App.Vector(0,0,0))
}}
6/11/2014 : "makeBSpline" hinzugefügt und Konfiguration hinzugefügt

<span id="Limitations"></span>
==Einschränkungen==

Hier sind die Fehler, die ich bei den Sweep-Tests festgestellt habe!

<center>
<gallery widths="400" heights="200">
File:Macro FCSpring Helix Variable 20.png|Derzeit ist das Makro nicht für Quadrate, Rechtecke usw. geeignet. <br />Nur Kreise funktionieren gut.
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="100">
File:Macro FCSpring Helix Variable 09.png|Zugriffsverletzung
File:Macro FCSpring Helix Variable 10.png|TCollection_IndexedDataMap
</gallery>
</center>
<br />
<center>
<gallery widths="300" heights="100">
File:Macro FCSpring Helix Variable 11.png|Falsche Verwendung von punktuellen Abschnitten
</gallery>
</center>
<br />
{{clear}}