<languages/>
{{UnfinishedDocu{{#translation:}}}}

<span id="Overview"></span>
==Übersicht==

{{TOCright}}

Diese Seite erklärt das Materialdatensystem in FreeCAD.

Diese Seite befindet sich zurzeit noch in Bearbeitung, um die Änderungen am Materialsystem widerzuspiegeln, das sich aktuell in Entwicklung befindet.

<span id="Abstract"></span>
== Zusammenfassung ==

<div lang="en" dir="ltr" class="mw-content-ltr">
In a departure from how it was implemented in previous versions, materials are no longer implemented as a simple dictionary. The previous system had the advantage of simplicity, with the disadvantage of a limited range when describing material properties.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
In the new system, properties are defined separately as a series of YAML files. Properties are then combined into a property description with values specified for the required properties. Newer data types, such as arrays, mean that this can no longer be accessed using simple dictionaries. Rather, an API is used to access the material property and data values. This allows for greater capabilities than previously possible.
</div>

<span id="Tools"></span>
==Werkzeuge==

<div lang="en" dir="ltr" class="mw-content-ltr">
There are some good resources out there to handle materials more easily:
* [http://www.dimensionengine.com/ Units calculator] to get your material information in the units needed for FreeCAD
* [http://www.matweb.com/ http://www.matweb.com/] [http://matweb.com/reference/terms.aspx free of charge] Material database with thousands of material values
* [https://www.uuidgenerator.net/ UUID generator] to create unique UUIDs for new models. A Version 4 UUID is recommended.
</div>

<span id="Properties"></span>
==Eigenschaften==

<div lang="en" dir="ltr" class="mw-content-ltr">
In contrast with the previous materials standard, material properties are clearly defined. They have been designed to be granular and extensible. Properties can inherit multiple properties, adding only what is different. This will improve searching and simplify implementation.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Currently, there is no dedicated property editor. It can be edited using any YAML tool, or a simple editor such as nano or Notepad.
</div>

Die Eigenschafts-Definitions-Dateien werden als Modelle bezeichnet.

<span id="Example_Property_Model_YAML_file"></span>
=== Beispiel für eine Eigenschaften-Modell-YAML-Datei ===

{{Code|code=
Model:
  Name: 'Linear Elastic'
  UUID: '7b561d1d-fb9b-44f6-9da9-56a4f74d7536'
  URL: 'https://en.wikipedia.org/wiki/Linear_elasticity'
  Description: >
    Materials that are linearly elastic obey Hooke's law i.e. the stress and
    strain relationship is linear
  DOI: "10.1016/j.ijplas.2004.06.004"
  Inherits:
    - Density:
      UUID: '454661e5-265b-4320-8e6f-fcf6223ac3af'
    - IsotropicLinearElastic:
      UUID: 'f6f9e48c-b116-4e82-ad7f-3659a9219c50'
  AngleOfFriction:
    Type: 'Quantity'
    Units: 'deg'
    URL: 'https://en.wikipedia.org/wiki/Friction#Angle_of_friction'
    Description: >
      Further information can be found at
      https://en.wikipedia.org/wiki/Mohr%E2%80%93Coulomb_theory
  CompressiveStrength:
    Type: 'Quantity'
    Units: 'kPa'
    URL: 'https://en.wikipedia.org/wiki/Compressive_strength'
    Description: "Compressive strength in [FreeCAD Pressure unit]"
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
Rather than a large monolithic definition file, properties are granular, typically focused on a specific task. Models fall into two basic categories:
* Physical models: identified by the keyword 'Model' as shown here, these define physical properties of the material
* Appearance models: identified by the keyword 'AppearanceModel', these define how the material will be displayed.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Each model has a unique identifier, or UUID, that is used to reference it internally. Consistency of this UUID is important as changing it for one document can also affect other documents. As a general rule, additions to the definition don't require an identifier change, as they can still be used in other documents, but value changes would require a new UUID.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An optional URL can link to a detailed description of the material property being described. Given that this is a description of the property and not the material itself, it should be pretty generic at this point. A shorter description, typically one or two lines, can be included in the model description as well.
</div>

Jedes Material kann auch einen DOI (Digital Object Identifier) enthalten, der über https://www.doi.org/ zu einer Forschungsveröffentlichung oder einem ähnlichen Artikel von Interesse führt.

<span id="Inheritance"></span>
=== Vererbung ===

Vererbung ist eine neue Funktion. Es gibt zwei Hauptanwendungsfälle.

<div lang="en" dir="ltr" class="mw-content-ltr">
One use case is to provide the ability to tweak models without breaking other documents. For example, in cases where a property type is different, you can define a derived property model that only changes that specific property without breaking any existing documents that reference it.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
A second use case is to group properties in a searchable fashion. For example, all physical objects have density, and in many cases, that will be all the information available for that material. In cases where linear elasticity properties are available, we would want to include those as well. In yet another example where the elasticity is different in different directions, such as wood, we can define yet another model that is derived from density. Information is not duplicated across the 3 property models. Additionally, we can do a search for materials that have the density property and return all three models.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The example shown above inherits from two other property definitions. It does this by specifying the 'Inherits' keyword followed by a list of the model names and identifiers. If there is no inheritance, this section may be omitted.
</div>

<span id="Properties"></span>
===Eigenschaften===

<div lang="en" dir="ltr" class="mw-content-ltr">
Properties are defined by providing the name of the property, followed by a series of descriptors. The 'Type' descriptor is always required. The remaining descriptors are only required to complete the Type information. The URL and description are optional but recommended where possible.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ Property Descriptors
|-
! Name
! Description
|-
| Type
| The property type. See the next section
|-
| Columns
| Columns in 2D or 3D arrays. See description below.
|-
| Units
| The units associated with the Quantity type.
|-
| URL
| A link to a detailed description of the property.
|-
| Description
| A short description of the property.
|}
</div>

<span id="Property_Types"></span>
===Arten von Eigenschaften===

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ Property Types
|-
! Type Name
! Description
|-
| String
| A character string.
|-
| Integer
| An unsigned integer.
|-
| Float
| A floating point number.
|-
| URL
| A URL such as https://www.freecad.org.
|-
| Quantity
| A FreeCAD quantity that includes a floating-point numeric value and units appropriate to the property.
|-
| Color
| A string in the form of (r,g,b,a) or (r,g,b) where r=red, g=green, b=blue, a=alpha as floating point values between 0 and 1.
|-
| File
| Path to a file.
|-
| FileList
| A list of file paths. See description below.
|-
| Image
| Embedded image file saved as Base64. This can result in a very large material card file.
|-
| ImageList
| A list of embedded image files saved as Base64. This can result in a very large material card file. See description below.
|-
| List
| A list of string values.
|-
| MultiLineString
| A character string that spans multiple lines.
|-
| 2DArray
| A 2-dimensional array. See description below.
|-
| 3DArray
| A 3-dimensional array. See description below.
|}
</div>

<span id="Lists"></span>
===Listen===

<div lang="en" dir="ltr" class="mw-content-ltr">
There are three list types: 'List', 'FileList', and 'ImageList'. In reality, all three are the same except that they use different editors. For the 'FileList', each entry has a file chooser. Similarly, the 'ImageList' opens the image editor. 'ImageList' is different in that it is a very large string representation of an image and may produce extremely large material card files. Use with caution.
</div>

<span id="2D_Arrays"></span>
=== 2D-Anordnungen ===

<div lang="en" dir="ltr" class="mw-content-ltr">
Arrays have some unique properties compared to other property types. Each of the array columns needs to be described, necessitating the addition of the 'Columns' property. The columns property is then a list of properties describing each column.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
2D arrays have a minimum of 2 columns and only support the 'Quantity' property type. This may be expanded to other property types in the future.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Values in the array are specified by providing a value from the first column.
</div>

{{Code|code=
TestArray2D3Column:
  Type: '2DArray'
  Columns:
    Temperature:
      Type: 'Quantity'
      Units: 'C'
      URL: ''
      Description: "Temperature"
    Density:
      Type: 'Quantity'
      Units: 'kg/m^3'
      URL: 'https://en.wikipedia.org/wiki/Density'
      Description: "Density in [FreeCAD Density unit]"
    InitialYieldStress:
      Type: 'Quantity'
      Units: 'kPa'
      URL: ''
      Description: >
        Saturation stress for Voce isotropic hardening [FreeCAD Pressure unit]
  URL: ''
  Description: >
    2 Dimensional array showing density and initial yield stress with temperature
}}

<span id="3D_Arrays"></span>
=== 3D-Anordnungen ===

<div lang="en" dir="ltr" class="mw-content-ltr">
3D arrays are similar in implementation to 2D arrays described in the previous sections. There is a 'Columns' keyword followed by a list of properties to describe the columns. The first column describes the depth or 3rd dimension of the array, with the remaining columns describing the remaining columns. This can be thought of as an indexed list of 2-dimensional arrays.
</div>

Da ein zweidimensionales Felder mindestens zwei Dimensionen erfordert, sind mindestens drei Spalten erforderlich.

<div lang="en" dir="ltr" class="mw-content-ltr">
Values in the array are accessed by first specifying the depth, then the value from the first column of the 2D array (the second column here).
</div>

{{Code|code=
TestArray3D:
  Type: '3DArray'
  Columns:
    Temperature:
      Type: 'Quantity'
      Units: 'C'
      URL: ''
      Description: "Temperature"
    Stress:
      Type: 'Quantity'
      Units: 'MPa'
      URL: ''
      Description: "Stress"
    Strain:
      Type: 'Quantity'
      Units: 'MPa'
      URL: ''
      Description: "Strain"
  URL: ''
  Description: >
    3 Dimensional array showing stress and strain as
    a function of temperature
}}

<span id="A_note_about_arrays"></span>
=== Ein Hinweis zu Anordnungen ===

Dies ist eine neue Funktion, die zuvor nicht verfügbar war. In Zukunft werden möglicherweise viele Funktionen hinzugefügt, die derzeit noch nicht implementiert sind. Beispielsweise sind Felder mit Spalten aus Zeichenfolgen potenziell nützlich, derzeit jedoch noch nicht implementiert.

Interpolation ist eine wichtige Funktion, die derzeit noch nicht implementiert ist. Beispielsweise gibt ein Feld mit Zeileneintragswerten von 1 und 2 nur exakte Übereinstimmungen zurück. Eine Suche nach 1,5 würde also einen Fehler zurückgeben. In Zukunft werden die Felder einen ungefähren Wert durch Interpolation aus den verfügbaren Daten ermitteln.

<span id="Material_Database"></span>
==Material-Datenbank==

Da der oben genannte Standard implementiert ist, wäre es nicht sinnvoll, alle Eigenschaften immer wieder in Objekten zu speichern. Grundsätzlich können wir eine Materialdatenbank mit dem Namen als Primärschlüssel aufbauen. Wenn Sie also keine besonderen Anforderungen an Ihr Material haben, definieren Sie einfach z. B. Name=Stahl, und FreeCAD kann alle Eigenschaften aus dieser Datenbank abrufen. Jede zusätzliche Eigenschaft, die Sie in der Zuordnung festlegen, überschreibt diejenige aus der Datenbank.

In Zukunft können wir diese Datenbank irgendwo im Internet hosten und eine allgemeine Open-Source-Materialdatenbank aufbauen.

Im Moment stelle ich mir eine Datenbank vor, die aus einem Mini-Datensatz mit einer Reihe von „grundlegenden” Materialien und deren grundlegenden Eigenschaften sowie einer SQLite-basierten Vollversion besteht.

<span id="Material.py"></span>
==Material.py==

<div lang="en" dir="ltr" class="mw-content-ltr">
Since handling material properties is tedious work, we should implement a Python front-end module called {{FileName|Material.py}} [[https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/Material/Material.py source]]. This will be the place to implement all kinds of helper methods for material handling.
* Calculation of mass out of volume and density
* Translation in different unit systems
* Calculation needed in a special application (such as FEM)
* And anything else we don't know yet
</div>

Das Modul sollte so implementiert werden, dass es in FreeCAD oder eigenständig über die Befehlszeile ausgeführt werden kann (die Material-Eigenschafts-Zuordnung muss als Python-Zuordnung angegeben werden).

<span id="The_FreeCAD_material_card_file_format"></span>
== Das FreeCAD-Materialkarten-Dateiformat ==

Die Arbeit mit Materialien erfordert häufig das Importieren/Exportieren von Materialdefinitionen. Daher wird ein Dateiformat benötigt. Da wir nur über ein Schlüssel/Wert-Format verfügen, können wir ein einfaches und leicht lesbares Dateiformat zum Lesen und Parsen verwenden. Daher wurde das Format [https://en.wikipedia.org/wiki/INI_file ini-file] gewählt. Es ist standardisiert und es gibt bereits Parser dafür. Zum Beispiel das [https://docs.python.org/2/library/configparser.html Config-Parser-Modul in Python].

Jede Materialdefinition befindet sich in einer Datei mit der Endung {{FileName|.FCMat}}. Einige dieser Dateien sind Teil des FreeCAD-Quellcodes und werden in die Binärdatei kompiliert. Dies dient dazu, Aufwand bei der Verteilung und beim Zugriff zu sparen. Außerdem können Dateien an verschiedenen Orten abgelegt und gesucht werden, um zusätzliche nicht standardmäßige Materialdefinitionen zu ermöglichen.

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Example .FCMat file ===
</div>

{{Code|code=
; last modified 1 April 2001 by John Doe

Name=Steel_Cast
Father=Steel
Source=Some material book everyone knows (or not); Some comment

[EN10027]
; steel standard EN 10027-1
Name=S235JR+AR

[Graphic]
EmissiveColor = 255,255,255
}}

<span id="Material_properties"></span>
== Materialeigenschaften ==

Hier findet sich die Beschreibung der vereinbarten Materialeigenschaften. Es können gerne Unterabschnitte für die Materialeigenschaften des Fachgebiets hinzufügt werden.

<span id="General"></span>
===Allgemein===

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ General material properties
|-
! Property name
! Description
! Unit/Data-Type
|-
| Name
| Unique name of the property, following the rules described above || ASCII string 7-bit
|-
| Father
| Name of the material group this material belongs to. If defined, this material inherits all the father's properties. Thus, if not defined, the father's properties will be used. || ASCII string 7-bit
|-
| Description
| A placeholder for a longer description of the material || ASCII string 7-bit
|-
| SpecificWeight
| The specific weight (also known as the unit weight) is the weight per unit volume of a material. see: [https://en.wikipedia.org/wiki/Specific_weight Specific weight]  || N/m^3
|-
| Vendor
| Specifies the brand or vendor of the material || ASCII string 7-bit
|-
| ProductURL
| An URL where to find more information about the material || ASCII string 7-bit
|-
| SpecificPrice
| The price per unit of this material. Units can vary a lot (USD/m<math>^3</math>, EUR/piece, etc...) || ASCII string 7-bit
|}
</div>

'''Aufgaben:''' Einige Eigenschaften mit einem Ordnungssystem für Materialien (Metall, Legierung, Mineral, Holz, ...) hinzufügen.

<span id="Mechanical"></span>
=== Mechanisch ===

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ Material properties used in mechanical or structural engineering
|-
! Property name
! Description
! Unit/Data-Type
|-
| Young's Modulus
| Young's modulus, also known as the tensile modulus or elastic modulus, is a measure of the stiffness of an elastic material and is a quantity used to characterize materials. See: [https://en.wikipedia.org/wiki/Young%27s_modulus Young's modulus]
|| N/(mm^2) (MPa)
|-
| Poisson's Ratio
| The lateral contraction of materials under tension as a fraction of their elongation. See: [https://en.wikipedia.org/wiki/Poisson%27s_ratio Poisson's Ratio]
|| dimensionless (-)
|-
| Yield Strength
| The stress at which a ductile material (like steel) starts to develop plastic (irreversible) deformation. See: [https://en.wikipedia.org/wiki/Yield_(engineering) Yield Strength]
|| N/(mm^2) (MPa)
|-
| Ultimate Tensile Strength (UTS)
| The stress at which the material ruptures. For ductile materials, this may be after experiencing significant plastic deformation (see Yield Strength). For brittle materials, Yield strength and Ultimate Tensile Strength coincide. See: [https://en.wikipedia.org/wiki/Ultimate_tensile_strength UTS]
|| N/(mm^2) (MPa)
|-
| Yield Points
| Used in a FEM non-linear material object to describe a ductile uniaxial stress-strain curve of a material. The values are entered as (yield stress, plastic strain) tuples, where the first combination is (Yield Strength, 0) and the last (UTS, Fracture Strain). See: [https://en.wikipedia.org/wiki/Work_hardening YieldPoints]
|| (N/(mm^2) (MPa), dimensionless (-)
|-
| Uniaxial Compressive Strength (FCK)
| The compressive strength of concrete, defined as the strength of a 150 mm cube tested for 28 days. See [http://eurocodes.jrc.ec.europa.eu/doc/WS2008/EN1992_1_Walraven.pdf FCK]
|| N/(mm^2) (MPa)
|-
| Friction Angle (PHI)
| The angle of internal friction of a granular material like sand or concrete, as used in the Mohr-Coulomb yield criterion. See [https://en.wikipedia.org/wiki/Mohr%E2%80%93Coulomb_theory PHI]
|| °
|-
| Hardness
| A measure of the material's resistance to localized plastic (permanent) deformations caused by indentation (pressing) or scratching (abrasion). See [https://en.wikipedia.org/wiki/Hardness Hardness]
|| no dedicated units in FreeCAD
|-
| EN-10027-1
| In the case of steel materials, the [https://en.wikipedia.org/wiki/Steel_grades Steel grade] as defined in the [https://en.wikipedia.org/wiki/European_Committee_for_Standardization European standard] No. 10027-1. || string ASCII 7-bit
|}
</div>

'''Aufgaben:''' Weitere für die mechanische Konstruktion erforderliche Eigenschaften hinzufügen.

<span id="Graphical"></span>
=== Graphisch ===

In diesem Abschnitt werden Materialeigenschaften definiert, die sich auf das Aussehen des Materials beziehen.

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ visual appearance
|-
! Property name
! Description
! Unit/Data-Type
|-
| AmbientColor
| Ambient color in the Coin3D color model|| float,float,float range: 0.0-1.0
|-
| DiffuseColor
| Diffuse color in the Coin3D color model|| float,float,float range: 0.0-1.0
|-
| SpecularColor
| Specular color in the Coin3D color model|| float,float,float range: 0.0-1.0
|-
| EmissiveColor
| Emissive color in the Coin3D color model|| float,float,float range: 0.0-1.0
|-
| SectionColor
| Color shown when the material is cut in the Coin3D color model|| float,float,float range: 0.0-1.0
|-
| Shininess
| Ambient color in the Coin3D color model|| float range: 0.0-1.0
|-
| Transparency
| Ambient color in the Coin3D color model|| float range: 0.0-1.0
|-
| VertxShader
| Vertex shader program as defined in [http://de.wikipedia.org/wiki/OpenGL_Shading_Language GlSl] || multi line string ASCII 7-bit
|-
| FragmentShader
| Fragment shader program as defined in [http://de.wikipedia.org/wiki/OpenGL_Shading_Language GlSl] || multi line string ASCII 7-bit
|}
</div>

<span id="Thermal"></span>
=== Thermisch ===

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ Thermal properties
|-
! Property name
! Description
! Unit/Data-Type
|-
| ThermalConductivity
| The [https://en.wikipedia.org/wiki/Thermal_conductivity thermal conductivity (R or lambda coefficient)] indicating the material's ability to transfer heat. || W/(m*K)
|-
| ThermalExpansionCoefficient
| The [https://en.wikipedia.org/wiki/Thermal_expansion Thermal expansion coefficient] describing the material's increase in size due to an increase in temperature. || µm/(m*K)
|-
| SpecificHeat
| The [https://en.wikipedia.org/wiki/Specific_heat_capacity Specific heat capacity] indicating the amount of heat needed to increase the temperature of one unit of mass of the material by one unit. || J/(kg*K)
|}
</div>

<span id="Architecture_and_BIM"></span>
=== Architektur und BIM ===

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable" style="width:80%;"
|+ Material properties used in architectural design
|-
! Property name
! Description
! Unit/Data-Type
|-
| StandardCodeXXXX
| Where XXXX is the name of the standard (for example, taken from [https://github.com/Moult/IfcClassification/tree/master/ifc the BlenderBIM standards repository]). For example, StandardCodeUniclass2. The value is the specific code of this material in the given standard. This property can appear several times, each with a different standard code|| string ASCII 7-bit
|-
| FireStandard
| The fire rating standard used in the material|| string ASCII 7-bit
|-
| FireClass
| The [https://en.wikipedia.org/wiki/Fire-resistance_rating fire resistance class] of the material in the above standard|| string ASCII 7-bit
|-
| SoundTransmissionClass
| The sound transmission class of this material || string ASCII 7-bit
|-
| Finish
| The type of finishing/coating of this material|| string ASCII 7-bit
|-
| Color
| The color specification of this material. This is not necessarily the color to display in the viewport, but might be, for example, the color name specified in the supplier's catalog|| string ASCII 7-bit
|-
| UnitsArea
| The number of units of this material necessary to fill a certain area. For example, in the case of a brick, 45 bricks/m²|| units/m^2
|}
</div>

<span id="TODO"></span>
== Aufgaben ==

<div lang="en" dir="ltr" class="mw-content-ltr">
* add sustainability & LEED properties
</div>


[[Category:Developer{{#translation:}}]]
[[Category:Developer Documentation{{#translation:}}]]
[[Category:Roadmap{{#translation:}}]]
{{BIM Tools navi{{#translation:}}}}
{{FEM Tools navi{{#translation:}}}}
[[Category:BIM{{#translation:}}]]
{{Userdocnavi{{#translation:}}}}
[[Category:File_Formats{{#translation:}}]]