<languages/>

{{Docnav/de
|[[Inspection_Workbench/de|Arbeitsbereich Inspection]]
|[[Mesh_Workbench/de|Arbeitsbereich Mesh]]
|IconL=Workbench_Inspection.svg
|IconR=Workbench_Mesh.svg
}}

[[Image:Workbench_Material.svg|thumb|128px|Symbol des Arbeitsbereichs Material]]

<span id="Introduction"></span>
==Einleitung==

{{Version/de|1.0}}

* Der Arbeitsbereich [[Image:Workbench_Material.svg|24px]] [[Material_Workbench/de|Material]] kümmert sich um FreeCADs Materialsystem. {{Version/de|1.0}}

<span id="Tools"></span>
==Werkzeuge==

* [[Image:Material_Edit.svg|32px]] [[Material_Edit/de|Material Bearbeiten]]: Öffnet die neuen Materialverwaltung.

<span id="Related_tools"></span>
===Zugehörige Werkzeuge===

Diese materialbezogenen Werkzeuge werden zwar nicht vom Arbeitsbereich Material bereitgestellt, sind jedoch im Kern von FreeCAD enthalten und können ohne Laden des Arbeitsbereichs verwendet werden:

* [[Image:Std_SetMaterial.svg|32px]] [[Std_SetMaterial/de|Material]]: Weist den ausgewählten Objekten ein Material zu.

* [[Image:Std_SetAppearance.svg|32px]] [[Std_SetAppearance/de|Darstellung]]: Legt die Anzeige-Eigenschaften ausgewählter Objekte fest. Wird häufig nach dem Anwenden eines Materials verwendet, wenn ein bestimmtes Material keine Darstellungs-Eigenschaften definiert.

<span id="Preferences"></span>
==Einstellungen==

* [[File:Preferences-material.svg|32px]] [[Material_Preferences/de|Einstellungen]]:
Einstellungen für den Arbeitsbereich Material.

<span id="Working_with_materials"></span>
== Arbeiten mit Materialien ==

Dieser Leitfaden erläutert die Kernkonzepte und Arbeitsabläufe für die Verwendung des Materialsystems in FreeCAD. Er behandelt die verschiedenen Werkzeuge, Eigenschaften und wichtigen technischen Details sowohl für die interaktive als auch für die skriptgesteuerte Verwendung.

<span id="Material_tools"></span>
=== Material-Werkzeuge ===

<span id="Material_Editor"></span>
==== Material-Editor ====

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Usage:''' Click the {{Button|[[Image:Material_Edit.svg|16px]] [[Material_Edit|Edit]]}} button in the Material Workbench.
* '''Purpose:''' The Material Editor is a tool for '''defining and managing materials'''. Its sole function is to create new materials, edit the properties of existing ones, and organize them.
* '''Behavior:'''
** It is disconnected from your 3D model; selecting an object in your document has no effect on the editor.
** '''You cannot assign a material to an object from this window.''' Clicking {{Button|OK}} simply closes the editor.
</div>

<span id="Material_Selector"></span>
===Material-Auswahl===

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Usage:''' Select one or more objects in the [[3D_View|3D View]] or [[Tree_View|Tree View]], then select the {{MenuCommand|[[Image:Std_SetMaterial.svg|16px]] [[Std_SetMaterial|Material]]}} option from the context menu.
* '''Purpose:''' This tool is used to '''assign a material to objects'''.
* '''Behavior:'''
** It opens a task panel containing a material browser tree.
** The {{Button|Launch Editor}} button launches the Material Editor to edit or create a material.
** Selecting a material in the material browser tree immediately applies its properties to the selected objects. This is the required step to link a material's physical data to a part.
</div>

<span id="Physical_vs._appearance_properties"></span>
=== Physikalische vs. Darstellungs-Eigenschaften ===

Ein Material in FreeCAD wird durch zwei unterschiedliche Eigenschaftssätze definiert:

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Physical properties:''' These define the engineering characteristics of a material, which are used for calculations and simulations (e.g., in the [[FEM_Workbench|FEM Workbench]]). Examples include {{Incode|Density}}, {{Incode|YoungsModulus}}, and {{Incode|PoissonRatio}}.
* '''Appearance properties:''' These define the visual look of a material for rendering purposes. Examples include {{Incode|DiffuseColor}}, {{Incode|Shininess}}, and {{Incode|Transparency}}.
</div>

Ein Material muss nicht beides aufweisen. Einige Materialien sind möglicherweise nur für die Analyse definiert (nur mit physikalischen Eigenschaften), während andere nur für die Visualisierung definiert sind (nur mit Darstellungs-Eigenschaften).

<span id="Override_material_appearance"></span>
=== Material-Darstellung überschreiben ===

Die endgültige Darstellung eines Objekts wird durch eine Hierarchie bestimmt. Die in einem Material festgelegten visuellen Eigenschaften können durch lokale Einstellungen am Objekt selbst überschrieben werden.

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''How to override:''' Select the {{MenuCommand|[[Image:Std_SetAppearance.svg|16px]] [[Std_SetAppearance|Appearance]]}} option from the object's [[Tree_View|Tree View]] or [[3D_View|3D View]] context menu. Any changes you make here will take precedence over the appearance properties of the assigned material.
* '''Caveats:''' This can be a source of confusion. If you have assigned a material to an object but its color doesn't change, it is likely because the object has a local appearance override. There is no clear visual indicator in the UI to show that an override is active. To restore the material's appearance, you can use the [[Image:Std_SetAppearance.svg|16px]] Appearance task panel to apply the material's visuals, but it is easier to temporarily apply a different material, and then apply the original material again.
</div>

<span id="Properties"></span>
=== Eigenschaften ===

Wenn ein Material zugewiesen wird, verknüpft FreeCAD die Daten mit dem Objekt und seinem Viewprovider mithilfe von zwei Eigenschaften.

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Shape Material}}: This is the most important property. It is added to the '''Document Object'''. It holds a link to a full {{Incode|Materials::Material}} object, giving access to all its physical and appearance data for calculations and scripting. This is a [[Property_View#Context_menu|hidden property]].
* {{PropertyView|Shape Appearance}}: This property exists on the object's '''View Provider'''. It is a list that controls the final rendering of the object in the 3D View and is what gets modified when you use the [[Image:Std_SetAppearance.svg|16px]] Appearance task panel.
</div>

<span id="Expressions"></span>
=== Ausdrücke ===

Auf Material-Eigenschaftswerte kann mithilfe von Ausdrücken zugegriffen werden, was besonders im [[Spreadsheet_Workbench/de| Arbeitsbereich Spreadsheet]] nützlich ist. Um sicherzustellen, dass man eine verwendbare numerische Größe anstelle einer Textzeichenfolge erhält, muss das Wörterbuch {{Incode|PropertyObjects}} verwendet werden.

* ❌ '''Fehlerhafte Methode (returns text):''' Nutzt das Dictionary {{Incode|PhysicalProperties}}, das eine Zeichenkette mit Einheiten zurück gibt, die nicht in den nachfolgende Formeln genutzt werden kann.

: {{Code|lang=text|code=
=<<MyBody>>.ShapeMaterial.PhysicalProperties[<<Density>>]
}}

: ''→ Gibt "7850 kg/m^3"'' zurück

* ✅ '''Korrigiere die Methode (returns a Quantity):''' Nutze das Dictionary {{Incode|PropertyObjects}} und greife auf seine  {{Incode|Value}}-Attribute zu, gibt ein vollständiges Quantity-Objekt zurück, das direkt in Berechnungen verwendet werden können.

: {{Code|lang=text|code=
=<<MyBody>>.ShapeMaterial.PropertyObjects[<<Density>>].Value
}}

: ''→ Gibt ein Quantity-Objekt zurück, das die Tabelle numerisch verwenden kann.''

: Wenn sich dieser Wert in der Zelle {{Incode|A1}} der Tabelle befindet, kann man eine Formel in Zelle {{Incode|A2}} wie  {{Incode|<nowiki>=</nowiki> A1 * 10}} schreiben, und es wird korrekt arbeiten.

<span id="Scripting"></span>
=== Skripten ===

Materialeigenschaften können mithilfe von Python-Skripten abgerufen und festgelegt werden. Die wichtigsten Methoden sind {{Incode|.getPhysicalValue()}} und {{Incode|.setPhysicalValue()}}.

{{Code|lang=python|code=
import FreeCAD
import FreeCADGui

# Get a reference to your object (e.g., a PartDesign Body)
obj = App.ActiveDocument.getObject("Body")

# --- Check for and get a property ---
if obj.ShapeMaterial.hasPhysicalProperty("Density"):
    
    # Get the value. This returns a FreeCAD.Quantity object.
    density_quantity = obj.ShapeMaterial.getPhysicalValue("Density")
    
    print(f"The material is: {obj.ShapeMaterial.Name}")
    print(f"The density is: {density_quantity}")
    print(f"Numerical value: {density_quantity.Value}")

else:
    print("The selected material does not have a 'Density' property.")


# --- Set a property ---
# The value can be a string with units or a FreeCAD.Quantity object.
try:
    obj.ShapeMaterial.setPhysicalValue("Density", "8000 kg/m^3")
    App.ActiveDocument.recompute()
    print("Density successfully updated.")

except Exception as e:
    print(f"Failed to set property: {e}")
}}


{{Docnav/de
|[[Inspection_Workbench/de|Arbeitsbereich Inspection]]
|[[Mesh_Workbench/de| Arbeitsbereich Mesh]]
|IconL=Workbench_Inspection.svg
|IconR=Workbench_Mesh.svg
}}

[[Category:Material{{#translation:}}]]
{{Userdocnavi{{#translation:}}}}
[[Category:Workbenches{{#translation:}}]]