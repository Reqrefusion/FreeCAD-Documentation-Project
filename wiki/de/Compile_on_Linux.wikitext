<languages/>

{{Docnav/de
|[[Compile_on_Windows/de|Kompilieren unter Windows]]
|[[Compile_on_MacOS/de|Kompilieren unter MacOS]]
}}

{{VeryImportantMessage|Es gibt einen experimentellen FreeCAD Docker Container, der für die FreeCAD Entwicklung getestet wird. Lies mehr darüber unter [[Compile on Docker/de|Kompilieren auf Docker]]}}

{{TOCright}}

<span id="Overview"></span>
==Überblick==

Am Aufbau von FreeCAD auf aktuellen Linux-Distributionen sind grundsätzlich drei Schritte beteiligt:
# Den FreeCAD-Quellcode laden.
# Die Abhängigkeiten von FreeCAD laden.
# FreeCAD kompilieren.

Nachfolgend finden sich detaillierte Erklärungen des gesamten Prozesses, einige  [[#Automatic build scripts/de|Bauskripte]] und Besonderheiten, denen man begegnen könnte. Wenn Du im folgenden Text etwas Falsches oder Veraltetes findest (Linux-Distributionen ändern sich oft), oder wenn Du eine Distribution verwendest, die nicht aufgeführt ist, diskutieren das Problem im [https://forum.freecad.org/index.php Forum] und hilf uns, es zu korrigieren.

[[File:FreeCAD_source_compilation_workflow.svg|800px]]

{{Caption|Allgemeiner Arbeitsablauf zur Kompilierung von FreeCAD aus der Quelle. Die Abhängigkeiten von Drittanbietern müssen im System vorhanden sein, ebenso wie der FreeCAD-Quellcode selbst. CMake konfiguriert das System so, dass mit einer einzigen make Anweisung das gesamte Projekt kompiliert wird.}}

<span id="Getting_the_source"></span>
== Abruf der Quelle ==

=== Git ===

Der beste Weg, den Code zu bekommen, ist, das schreibgeschützte [https://github.com/FreeCAD/FreeCAD Git-Repository] unter Verwendung des Programms {{incode|git}} zu klonen. Dieses kann auf den meisten Linux-Distributionen einfach installiert werden.

Zum Beispiel kann Git auf mit Debian verwandten Distributionen mit dem folgenden Befehl installiert werden:

{{Code|lang=bash|code=
sudo apt install git
}}

Der folgende Befehl legt eine Kopie der letzten Version des FreeCAD Quellcodes in einem neuen Verzeichnis namens {{incode|freecad-source}} ab.

{{Code|lang=bash|code=
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad-source
}}

Weitere Informationen über die Verwendung von Git und das Einbringen von Code in das Projekt siehe [[Source code management/de|Quellcodeverwaltung]].

<span id="Getting_the_dependencies"></span>
== Erhalten der Abhängigkeiten ==

Um FreeCAD zu kompilieren, müssen die unter [[Third Party Libraries/de|Third Party Libraries]] genannten Abhängigkeiten installiert sein; die Pakete, die diese Abhängigkeiten enthalten, sind unten für verschiedene Linux-Distributionen aufgeführt. Bitte beachten, dass die Namen und die Verfügbarkeit der Bibliotheken von der jeweiligen eigenen Distribution abhängen; wenn die eigene Distribution alt ist, kann es sein, dass einige Pakete nicht zur Verfügung stehen oder einen anderen Namen haben. In diesem Fall im nachfolgenden Abschnitt [[#Ältere und unkonventionelle Distributionen|Ältere und unkonventionelle Distributionen]] nachsehen.

Sobald du alle Abhängigkeiten installiert hast, gehe weiter zu [[#FreeCAD_kompilieren|kompiliere FreeCAD]].

Bitte beachte, dass der Quellcode von FreeCAD ca. 500 MB groß ist; er kann dreimal so groß sein, wenn Du das Git-Repository mit seiner gesamten Änderungshistorie klonst. Das Erhalten aller Abhängigkeiten kann das Herunterladen von 500 MB oder mehr neuer Dateien erfordern; wenn diese Dateien entpackt werden, können sie 1500 MB oder mehr Speicherplatz benötigen. Beachten auch, dass der Kompilierungsprozess bis zu 1500 MB zusätzliche Dateien erzeugen kann, wenn das System den gesamten Quellcode kopiert und ändert. Stelle daher sicher, dass genügend freier Speicherplatz auf Deiner Festplatte vorhanden ist, mindestens 4 GB, wenn Du mit dem Kompilieren beginnst.

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Debian_and_Ubuntu"></span>
=== Debian und Ubuntu ===

<div class="mw-collapsible-content">

Auf Debian-basierten Systemen (Debian, Ubuntu, Mint, etc.) ist es recht einfach, alle benötigten Abhängigkeiten zu installieren. Die meisten Bibliotheken sind über {{incode|apt}} oder den Synaptic Package Manager verfügbar.

Wenn du FreeCAD bereits aus den offiziellen Repositories installiert hast, kannst du seine Build Abhängigkeiten mit dieser einzigen Zeile Code in einem Terminal installieren:

{{Code|code=
sudo apt build-dep freecad
}}

Alternativ kann man {{incode|freecad}} durch {{incode|freecad-daily}} ersetzen, um die Build-Abhängigkeiten für den Hauptentwicklungszweig zu installieren. Dazu muss man die [[Installing_on_Linux/de#Development_PPA_(Daily)|freecad-stable/freecad-daily PPAs]] zu den Softwarequellen hinzufügen.

Wenn die Version von FreeCAD in den Repositorien jedoch alt ist, können die Abhängigkeiten die falschen sein, um eine aktuelle Version von FreeCAD zu erstellen. Bitte überprüfe daher, ob Du die folgenden Pakete installiert hast.

Diese Pakete sind unerlässlich für jede Art von Kompilierung, um erfolgreich zu sein:
*{{incode|build-essential}}, installiert die C- und C++-Compiler, die C-Entwicklungsbibliotheken und das Programm {{incode|make}}.
*{{incode|cmake}}, ein unverzichtbares Werkzeug zur Konfiguration der Quelle von FreeCAD. Du kannst auch {{incode|cmake-gui}} und {{incode|cmake-curses-gui}} für eine grafische Option installieren.
*{{incode|libtool}}, essentielle Werkzeuge zur Erstellung von gemeinsamen Bibliotheken.
*{{Incode|lsb-release}}, das Standard Basis Reporting Dienstprogramm ist normalerweise bereits in einem Debian System installiert und ermöglicht es Dir, programmgesteuert zwischen einer reinen Debian Installation und einer Variante wie Ubuntu oder Linux Mint zu unterscheiden. Entferne dieses Paket nicht, da viele andere Systempakete davon abhängen können.

Die Kompilierung von FreeCAD verwendet die Python Sprache, und sie wird auch zur Laufzeit als Skriptsprache verwendet. Wenn du eine Debian basierte Distribution verwendest, ist der Python Interpreter normalerweise bereits installiert.
*{{incode|python3}}
*{{incode|swig}}, das Werkzeug, das Schnittstellen zwischen C++ Code und Python schafft.

Die Verstärker Bibliotheken müssen installiert sein:

*{{incode|libboost-dev}}
*{{incode|libboost-date-time-dev}}
*{{incode|libboost-filesystem-dev}}
*{{incode|libboost-graph-dev}}
*{{incode|libboost-iostreams-dev}}
*{{incode|libboost-program-options-dev}}
*{{incode|libboost-python-dev}}
*{{incode|libboost-regex-dev}}
*{{incode|libboost-serialization-dev}}
*{{incode|libboost-thread-dev}}

Die Coin-Bibliotheken müssen installiert sein:
*{{incode|libcoin-dev}}, für Debian Buster, Ubuntu 19.04 und neuer, sowie für Ubuntu 18.04/18.10 mit den [[Installing_on_Linux/de#Development_PPA_(Daily)|freecad-stable/freecad-daily PPAs]] zu Deinen Softwarequellen hinzugefügt.

Einige Bibliotheken, die sich mit Mathematik, dreieckigen Oberflächen, Sortieren, Netzen, Computer Vision, kartographischen Projektionen, 3D-Visualisierung, Punktwolke-Bibliotheken, dem X11-Window-System, XML-Parsing und dem Lesen von Zip-Dateien befassen:

*{{incode|libeigen3-dev}}
*{{incode|libgts-bin}}
*{{incode|libgts-dev}}
*{{incode|libkdtree++-dev}}
*{{incode|libmedc-dev}}
*{{incode|libopencv-dev}} or {{incode|libcv-dev}}
*{{incode|libproj-dev}}
*{{incode|libvtk9-dev}}, {{incode|libvtk8-dev}}, {{incode|libvtk7-dev}} or {{incode|libvtk6-dev}}
*{{incode|libx11-dev}}
*{{incode|libxerces-c-dev}}
*{{incode|libyaml-cpp-dev}}
*{{incode|libzipios++-dev}}
*{{incode|libpcl-dev}}


<span id="Python_3_and_Qt6"></span>
==== Python 3 und Qt6 ====

Um FreeCAD unter Debian Trixie zu compilieren, müssen die folgenden Abhängigkeiten installiert werden.

*{{incode|pybind11-dev}}
*{{incode|qt6-base-dev}}
*{{incode|qt6-svg-dev}}
*{{incode|qt6-tools-dev}}
*{{incode|qt6-webengine-dev}}
*{{incode|libpyside6-dev}}
*{{incode|libshiboken6-dev}}
*{{incode|pyside6-tools}}
*{{incode|pyqt6-dev-tools}}
*{{incode|python3-dev}}
*{{incode|python3-lark}}
*{{incode|python3-matplotlib}}
*{{incode|python3-packaging}}
*{{incode|python3-pivy}}
*{{incode|python3-ply}}
*{{incode|python3-pyside6.qtcore}}
*{{incode|python3-pyside6.qtgui}}
*{{incode|python3-pyside6.qtnetwork}}
*{{incode|python3-pyside6.qtsvg}}
*{{incode|python3-pyside6.qtwebchannel}}
*{{incode|python3-pyside6.qtwebenginecore}}
*{{incode|python3-pyside6.qtwebenginequick}}
*{{incode|python3-pyside6.qtwebenginewidgets}}
*{{incode|python3-pyside6.qtwidgets}}

<span id="Python_3_and_Qt5"></span>
==== Python 3 und Qt5 ====

Um FreeCAD für Debian Buster, Ubuntu 19.04 und neueren, sowie Ubuntu 18.04/18.10 mit dem [[Installing_on_Linux/de#Development_PPA_(Daily)|freecad-stable/freecad-daily PPAs]] zu deinen Softwarequellen hinzuzufügen, installiere die folgenden Abhängigkeiten.

*{{incode|qtbase5-dev}}
*{{incode|qttools5-dev}}
*{{incode|qt5-default}} (if compiling 0.20 on a machine that still has Qt4)
*{{incode|libqt5opengl5-dev}}
*{{incode|libqt5svg5-dev}}
*{{incode|qtwebengine5-dev}}
*{{incode|libqt5xmlpatterns5-dev}}
*{{incode|libqt5x11extras5-dev}}
*{{incode|libpyside2-dev}}
*{{incode|libshiboken2-dev}}
*{{incode|pyside2-tools}}
*{{incode|pyqt5-dev-tools}}
*{{incode|python3-dev}}
*{{incode|python3-matplotlib}}
*{{incode|python3-packaging}}
*{{incode|python3-pivy}}
*{{incode|python3-ply}}
*{{incode|python3-pyside2.qtcore}}
*{{incode|python3-pyside2.qtgui}}
*{{incode|python3-pyside2.qtsvg}}
*{{incode|python3-pyside2.qtwidgets}}
*{{incode|python3-pyside2.qtnetwork}}
*{{incode|python3-pyside2.qtwebengine}}
*{{incode|python3-pyside2.qtwebenginecore}}
*{{incode|python3-pyside2.qtwebenginewidgets}}
*{{incode|python3-pyside2.qtwebchannel}}
*{{incode|python3-pyside2uic}} (not required on Ubuntu 20.04 and later)

<span id="OpenCascade_kernel"></span>
==== OpenCascade Kernel ====

Der OpenCascade Kern ist die zentrale Grafikbibliothek zur Erstellung von 3D-Formen. Es existiert in einer offiziellen Version OCCT und einer Community-Version OCE. Die Community-Version wird nicht mehr empfohlen, da sie veraltet ist.

Für Debian Buster und Ubuntu 18.10 und neuer, sowie Ubuntu 18.04 mit dem [[Install_on_Linux/de#Development_PPA_(Daily)|freecad-stable/freecad-daily PPAs]] zu deinen Softwarequellen hinzugefügt, installiere die offiziellen Pakete.

*{{incode|libocct*-dev}}
**{{incode|libocct-data-exchange-dev}}
**{{incode|libocct-draw-dev}}
**{{incode|libocct-foundation-dev}}
**{{incode|libocct-modeling-algorithms-dev}}
**{{incode|libocct-modeling-data-dev}}
**{{incode|libocct-ocaf-dev}}
**{{incode|libocct-visualization-dev}}
*{{incode|occt-draw}}

Für Debian Jessie, Stretch, Ubuntu 16.04 und neuer, installiere die Gemeinschafts Editionspakete.

*{{incode|liboce*-dev}}
**{{incode|liboce-foundation-dev}}
**{{incode|liboce-modeling-dev}}
**{{incode|liboce-ocaf-dev}}
**{{incode|liboce-ocaf-lite-dev}}
**{{incode|liboce-visualization-dev}}
*{{incode|oce-draw}}

Du kannst die Bibliotheken einzeln oder mit Hilfe der Sternchen-Erweiterung installieren. Ändere {{incode|occ}} für {{incode|oce}}, wenn Du die Gemeinschaftsbibliotheken installieren möchtest.

{{Code|code=
sudo apt install libocct*-dev
}}

<span id="Optional_packages"></span>
==== Optionale Pakete ====

Optional können auch diese zusätzlichen Pakete installiert werden:
* {{incode|libsimage-dev}}, damit Coin zusätzliche Bilddateiformate unterstützt.
* {{incode|doxygen}} und {{incode|libcoin-doc}} (oder {{incode|libcoin80-doc}} für ältere Systeme), wenn du beabsichtigst, Quellcode Dokumentation zu generieren.
* {{incode|libspnav-dev}}, Unterstützung für [[3D_input_devices/de|3D-Eingabegeräte]], wie "Space Navigator" oder "Space Pilot" von 3Dconnexion.
* {{incode|checkinstall}}, wenn Du vorhast, Deine installierten Dateien im Paketmanager Deines Systems zu registrieren, damit Du sie später deinstallieren kannst.

<span id="Single_command_for_Python_3_and_Qt5"></span>
==== Einzelbefehl für Python 3 und Qt5 ====

Erfordert Pyside2, das in Debian Buster und dem [[Installing_on_Linux/de#Official_Ubuntu_repository|freecad-stable/freecad-daily PPAs]] verfügbar ist.

{{Code|lang=bash|code=
sudo apt install cmake cmake-gui libboost-date-time-dev libboost-dev libboost-filesystem-dev libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev libboost-python-dev libboost-regex-dev libboost-serialization-dev libboost-thread-dev libcoin-dev libeigen3-dev libgts-bin libgts-dev libkdtree++-dev libmedc-dev libocct-data-exchange-dev libocct-ocaf-dev libocct-visualization-dev libopencv-dev libproj-dev libpyside2-dev libqt5opengl5-dev libqt5svg5-dev qtwebengine5-dev libqt5x11extras5-dev libqt5xmlpatterns5-dev libshiboken2-dev libspnav-dev libvtk7-dev libx11-dev libxerces-c-dev libzipios++-dev occt-draw pyside2-tools python3-dev python3-lark python3-matplotlib python3-packaging python3-pivy python3-ply python3-pyside2.qtcore python3-pyside2.qtgui python3-pyside2.qtsvg python3-pyside2.qtwidgets python3-pyside2.qtnetwork python3-pyside2.qtwebengine python3-pyside2.qtwebenginecore python3-pyside2.qtwebenginewidgets python3-pyside2.qtwebchannel python3-markdown python3-git python3-pyside2uic qtbase5-dev qttools5-dev swig libyaml-cpp-dev
}}

HINWEIS: Auf einigen Versionen von Ubuntu und einigen Versionen von Qt erhälst du eine Fehlermeldung, dass python3-pyside2uic nicht gefunden werden kann - auf diesen Systemen kannst du es getrost weglassen. Erhält man die Fehlermeldung, dass {{Incode|libvtk7-dev}} nicht zur Verfügung steht verwendet man stattdessen {{Incode|libvtk9-dev}}. Unter Ubuntu 20.04 musst du {{incode|pyqt5-dev-tools}}.  hinzufügen. Weitere Informationen findest du in [https://forum.freecad.org/viewtopic.php?t=51324 dieser Forumsdiskussion].

<div class="mw-collapsible mw-collapsed" style="background-color:#e0e0e0">
<div class="mw-collapsible-content">

{{Code|lang=bash|code=
sudo apt install cmake debhelper dh-exec dh-python libboost-date-time-dev libboost-dev libboost-filesystem-dev libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev libboost-python-dev libboost-regex-dev libboost-serialization-dev libboost-thread-dev libcoin80-dev libeigen3-dev libgts-bin libgts-dev libkdtree++-dev libmedc-dev libocct-data-exchange-dev libocct-ocaf-dev libocct-visualization-dev libopencv-dev libproj-dev libpyside-dev libqt4-dev libqt4-opengl-dev libqtwebkit-dev libshiboken-dev libspnav-dev libvtk6-dev libx11-dev libxerces-c-dev libzipios++-dev lsb-release occt-draw pyside-tools python-dev python-matplotlib python-pivy python-ply swig
}}

Ubuntu 16.04 Benutzer sehen bitte auch die Kompilierungsdiskussion im Forum: [https://forum.freecad.org/viewtopic.php?f=4&t=16292 Compile on Linux (Kubuntu): CMake can't find VTK].

</div>
</div>
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

=== Raspberry Pi ===

<div class="mw-collapsible-content">
Folge den gleichen Schritten wie in Debian und Ubuntu.

Es wurde von Problemen berichtet, wenn man versucht, in Raspberry-PI-OS 32-bit mit Python 3 und Qt5 zu kompilieren, aber die Kombination Python 3 und Qt4 scheint für ältere Versionen von FreeCAD (mit kleineren Problemchen) zu funktionieren.

Für neuere Versionen von FreeCAD (>= 0.20) ist die Kompilierung mit Py3/Qt5 erfolgreich, wenn das installierte Betriebssystem Raspberry-Pi-OS 64-bit oder Ubuntu 20.04 ist.

Aufgrund verschiedener Probleme mit Qt werden in Ubuntu 20.04 die normalen PySide-Werkzeuge nicht gefunden.
{{Code|lang=bash|code=
E: Unable to locate package python3-pyside2uic
}}

In diesem Fall können wir die Pakete von PyQt installieren und symbolische Links zu den benötigten Werkzeugen erstellen.
{{Code|lang=bash|code=
sudo apt-get install pyqt5-dev
sudo apt-get install pyqt5-dev-tools
cd /usr/bin/
ln -s pyrcc5 pyside2-rcc
ln -s pyuic5 pyside2-uic
}}

Nun kann die Kompilierung fortgesetzt werden.

{{Code|lang=bash|code=
cd build/
cmake ../ -DBUILD_QT5=ON -DPYTHON_EXECUTABLE=/usr/bin/python3 -DUSE_PYBIND11=ON
make -j2
}}

Die {{incode|-j}} Option für {{incode|make}} sollte nicht mehr als 3 sein, da das Raspberry Pi einen begrenzten Speicher hat. Die Kompilierung wird mehrere Stunden dauern, daher ist es besser, sie über Nacht durchzuführen.

Weitere Informationen, [https://forum.freecad.org/viewtopic.php?f=42&t=37458&start=160#p396652 FreeCAD und Raspberry Pi 4].
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

=== Fedora ===

<div class="mw-collapsible-content">

Es gibt einen Fehler in den CMake-Dateien von OpenCascade, der dazu führt, dass CMake die OpenCascade-Bibliotheken unter Fedora nicht finden kann. Dies lässt sich leicht beheben, indem man eine kleine Änderung an der obersten CMake-Datei von OpenCascade vornimmt, das unter Fedora installiert ist. Details findet man hier:
https://bugzilla.redhat.com/show_bug.cgi?id=2083568.

Nahe dem Anfang der Datei OpenCASCADEConfig.cmake die folgende Zeile ändern, um {{Incode|REAL_PATH()}} zu verwenden. Dadurch wird ein Fehler behoben, der durch die Verwendung eines Symlinks von {{Incode|/lib}} zu {{Incode|/usr/lib}} von Fedora ausgelöst wird, den das cmake-Skript nicht korrekt verarbeiten kann. Dies liegt daran, dass zu enge Annahmen darüber getroffen werden, wo sich die Include-Dateien unter Linux normalerweise befinden, und dass nicht auf ein gültiges Ergebnis geprüft wird. 

Diese Datei wird normalerweise unter {{FileName|/usr/lib64/cmake/opencascade/OpenCASCADEConfig.cmake}} installiert.

{{Code|lang=bash|code=
get_filename_component (OpenCASCADE_INSTALL_PREFIX "${OpenCASCADE_INSTALL_PREFIX}" PATH)
}}

ändere dies zu:

{{Code|lang=bash|code=
file (REAL_PATH ${OpenCASCADE_INSTALL_PREFIX} OpenCASCADE_INSTALL_PREFIX)
}}

Diese geringfügige Änderung muss im Build-Verzeichnis vorgenommen werden, nachdem cmake ausgeführt wurde und fehlgeschlagen ist. Bei erneuter Ausführung von cmake werden die OCCT-Bibliotheken dann auf normale Weise korrekt erkannt. 

<span id="Fedora40"></span>
====Fedora40====

Fedora ermöglicht die gleichzeitige Installation von Qt5- und Qt6-Bibliotheken. Das Hinzufügen der für FreeCAD relevanten Qt6-Bibliotheken kann mit dnf erfolgen:

{{Code|lang=bash|code=
dnf install python3-shiboken6 python3-shiboken6-devel python3-pyside6 python3-pyside6-devel\
 pyside6-tools qt6-qtsvg qt6-qtsvg-devel qt6-qttools-devel python3-pyqt6-devel
}}

'''VORSICHT:''' Im März 2025 wurde eine neue Funktion namens PCL eingeführt. Diese erfordert zwei zusätzliche Pakete: pcl und pcl-devel. Allerdings schlägt die Erstellung unter Fedora fehl, wenn Qt6-Bibliotheken verwendet werden. Folgendes zur cmake-Befehlszeile hinzufügen, um diesen Code zu deaktivieren.

{{Code|lang=bash|code=
-DFREECAD_USE_PCL=Off 
}}

Einige Remote-Google-Codes für automatische Tests der Codierungspraxis sind nun standardmäßig enthalten. Wenn man diesen externen Code, der ohne vorherige Ankündigung geändert werden kann, nicht einbinden möchten, verwendet man die cmake-Option:

{{Code|lang=bash|code=
-DENABLE_DEVELOPER_TESTS=Off
}}

Der folgende cmake-Befehl sollte für Fedora 40 mit Qt6 funktionieren:

{{Code|lang=bash|code=
cmake -DCMAKE_BUILD_TYPE=Release -DFREECAD_QT_VERSION=6 -Wno-dev -DENABLE_DEVELOPER_TESTS=Off -DFREECAD_USE_PCL=Off  ../FreeCAD
}}

Passe das endgültige Verzeichnis so an, dass es auf das FreeCAD-Quellcodeverzeichnis verweist.

<span id="Fedora38/39"></span>
====Fedora38/39====

Nun installiert man Python 3.11. Dies beinhaltet eine bemerkenswerte Änderung in der Art und Weise, wie Python beim Ausführen eines Programms initialisiert wird. Infolgedessen kann FreeCAD OpenCamLib nicht finden, was bedeutet, dass [[CAM_Surface/de|3D-Oberfläche]] und [[CAM_Waterline/de|Wasserlinie]] im [[CAM_Workbench/de|Arbeitsbereich CAM]] nicht verfügbar sind. Dies wurde am 20. März 2024 im Master-Zweig behoben ([https://github.com/FreeCAD/FreeCAD/pull/13059 Pull-Anfrage #13059]).

Folgende Pakete werden benötigt:

*{{Incode|gcc-c++}} (or possibly another C++ compiler?)
*{{Incode|cmake}}
*{{Incode|doxygen}}
*{{Incode|swig}}
*{{Incode|gettext}}
*{{Incode|dos2unix}}
*{{Incode|desktop-file-utils}}
*{{Incode|libXmu-devel}}
*{{Incode|freeimage-devel}}
*{{Incode|mesa-libGLU-devel}}
*{{Incode|opencascade-devel}}
*{{Incode|openmpi-devel}}
*{{Incode|python3}}
*{{Incode|python3-devel}}
*{{Incode|python3-pyside2}}
*{{Incode|python3-pyside2-devel}}
*{{Incode|pyside2-tools}}
*{{Incode|boost-devel}}
*{{Incode|tbb-devel}}
*{{Incode|eigen3-devel}}
*{{Incode|qt-devel}}
*{{Incode|qt5-qtwebengine-devel}}
*{{Incode|qt5-qtxmlpatterns}}
*{{Incode|qt5-qtxmlpatterns-devel}}
*{{Incode|qt5-qtsvg-devel}}
*{{Incode|qt5-qttools-static}}
*{{Incode|ode-devel}}
*{{Incode|xerces-c}}
*{{Incode|xerces-c-devel}}
*{{Incode|opencv-devel}}
*{{Incode|smesh-devel}}
*{{Incode|Coin3}}
*{{Incode|Coin3-devel}}
*{{Incode|yaml-cpp}}

(April 2021, Coin4 und Coin4-devel sind verfügbar )
(wenn coin2 die neueste verfügbare Version für deine Fedora Version ist, verwende Pakete von http://www.zultron.com/rpm-repo/)

*{{Incode|SoQt-devel}}
*{{Incode|freetype}}
*{{Incode|freetype-devel}}
*{{Incode|vtk}}
*{{Incode|vtk-devel}}
*{{Incode|med}}
*{{Incode|med-devel}}

Und optional: 

*{{Incode|libspnav-devel}} (für die Unterstützung von 3Dconnexion-Geräten wie Space-Navigator oder Space-Pilot)
*{{Incode|python3-pivy}} (https://bugzilla.redhat.com/show_bug.cgi?id=458975 Pivy ist nicht zwingend erforderlich, wird aber für den Arbeitsbereich Draft benötigt)
*{{Incode|python3-markdown}} (für den Addon-Manager, zum Anzeigen von nativem Markdown-Code)
*{{Incode|python3-GitPython}} (für den Addon-Manager, um Git zum Auschecken und Aktualisieren von Arbeitsbereichen und Makros zu nutzen)

Um alle Abhängigkeiten auf einmal zu installieren (gestestet unter Fedora 36 und 37)

{{Code|lang=bash|code=
sudo dnf install gcc-c++ cmake doxygen swig gettext dos2unix desktop-file-utils libXmu-devel freeimage-devel mesa-libGLU-devel opencascade-devel openmpi-devel python3 python3-devel python3-pyside2 python3-pyside2-devel pyside2-tools boost-devel tbb-devel eigen3-devel qt-devel qt5-qtwebengine-devel qt5-qtxmlpatterns qt5-qtxmlpatterns-devel qt5-qtsvg-devel qt5-qttools-static ode-devel xerces-c xerces-c-devel opencv-devel smesh-devel Coin3 Coin3-devel SoQt-devel freetype freetype-devel vtk vtk-devel med med-devel libspnav-devel python3-pivy python3-markdown python3-GitPython yaml-cpp
}}

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Gentoo ===

<div class="mw-collapsible-content">

Der einfachste Weg, um zu überprüfen, welche Pakete für die Kompilierung von FreeCAD benötigt werden, ist die Überprüfung über Portage:

<tt>emerge -pv freecad</tt>

Dies sollte eine schöne Liste von zusätzlichen Paketen liefern, die Du auf Deinem System installieren musst.

Wenn FreeCAD auf Portage nicht verfügbar ist, ist es auf dem [https://github.com/waebbl/waebbl-gentoo waebbl overlay] verfügbar. Der Issue Tracker auf dem Waebbl Overlay Github kann Dir helfen, einige Probleme zu lösen, auf die Du stoßen könntest. Das Overlay bietet <tt>freecad-9999</tt>, das Du kompilieren oder einfach verwenden kannst, um die Abhängigkeiten zu erhalten.

<tt>layman -a waebbl</tt>

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== openSUSE ===

<div class="mw-collapsible-content">

==== Tumbleweed ====

Die folgenden Befehle installieren die Pakete, die für die Erstellung von FreeCAD mit Qt5 und Python 3 erforderlich sind.

{{Code|code=
zypper in --no-recommends -t pattern devel_C_C++ devel_qt5

zypper in libqt5-qtbase-devel libqt5-qtsvg-devel libqt5-qttools-devel boost-devel swig libboost_program_options-devel libboost_mpi_python3-devel libboost_system-devel libboost_program_options-devel libboost_regex-devel libboost_python3-devel libboost_thread-devel libboost_system-devel libboost_headers-devel libboost_graph-devel python3 python3-devel python3-matplotlib python3-matplotlib-qt5 python3-pyside2 python3-pyside2-devel python3-pivy gcc gcc-fortran cmake occt-devel libXi-devel opencv-devel libxerces-c-devel Coin-devel SoQt-devel freetype2-devel eigen3-devel libode6 vtk-devel libmed-devel hdf5-openmpi-devel openmpi2-devel netgen-devel freeglut-devel libspnav-devel f2c doxygen dos2unix glew-devel yaml-cpp
}}

Der folgende Befehl installiert den Qt Creator und den GNU Project Debugger.

{{Code|code=zypper in libqt5-creator gdb}}

Wenn Pakete fehlen, dann kannst du die Datei Tumbleweed [https://build.opensuse.org/package/view_file/openSUSE:Factory/FreeCAD/FreeCAD.spec "FreeCAD.spec"] auf dem [https://build.opensuse.org/package/show/openSUSE:Factory/FreeCAD Open Build Service] überprüfen.

Überprüfe auch, ob es Patches gibt, die Du  installieren musst (z.B.[https://build.opensuse.org/package/view_file/openSUSE:Factory/FreeCAD/0001-find-openmpi2-include-files.patch 0001-find-openmpi2-include-files.patch]).

==== Leap ====

Wenn es einen Unterschied zwischen den verfügbaren Paketen auf Tumbleweed und Leap gibt, dann kannst du die Leap [https://build.opensuse.org/package/view_file/openSUSE:Leap:15.0/FreeCAD/FreeCAD.spec "FreeCAD.spec"] Datei auf dem [https://build.opensuse.org/ Open Build Service] lesen, um die benötigten Pakete zu ermitteln.

Siehe [https://forum.freecad.org/viewtopic.php?f=4&t=49726 piano_jonas unofficial "Kompiliren Unter openSUSE" Leitfaden].

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Arch Linux ===

<div class="mw-collapsible-content">

Du benötigst die folgenden Bibliotheken aus den offiziellen Repositorien:

*{{incode|blosc}}
*{{incode|boost}}
*{{incode|boost-libs}}
*{{incode|cmake}}
*{{incode|coin}}
*{{incode|curl}}
*{{incode|desktop-file-utils}}
*{{incode|eigen}}
*{{incode|fmt}}
*{{incode|git}}
*{{incode|glew}}
*{{incode|hicolor-icon-theme}}
*{{incode|jsoncpp}}
*{{incode|libspnav}}
*{{incode|med}}
*{{incode|netcdf}}
*{{incode|ninja}}
*{{incode|nlohmann-json}}
*{{incode|opencascade}}
*{{incode|pybind11}}
*{{incode|pyside6}}
*{{incode|pyside6-tools}}
*{{incode|python-matplotlib}}
*{{incode|python-packaging}}
*{{incode|python-pivy}}
*{{incode|python-ply}}
*{{incode|qt6-svg}}
*{{incode|qt6-tools}}
*{{incode|qt6-base}}
*{{incode|qt6-5compat}}
*{{incode|shared-mime-info}}
*{{incode|shiboken6}}
*{{incode|swig}}
*{{incode|vtk}}
*{{incode|verdict}}
*{{incode|xerces-c}}
*{{incode|yaml-cpp}}

{{Code|code=
sudo pacman -S --needed --asdeps blosc boost boost-libs cmake coin curl desktop-file-utils eigen fmt git glew hicolor-icon-theme jsoncpp libspnav med netcdf ninja nlohmann-json opencascade pybind11 pyside6 pyside6-tools python-matplotlib  python-packaging python-pivy python-ply qt6-svg qt6-tools qt6-base qt6-5compat shared-mime-info shiboken6 swig vtk xerces-c yaml-cpp 
}}

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

<span id="Older_and_non-conventional_distributions"></span>
=== Ältere und unkonventionelle Distributionen ===

<div class="mw-collapsible-content">

Bei anderen Distributionen haben wir nur sehr wenig Feedback von Benutzern, so dass es schwieriger sein könnte, die benötigten Pakete zu finden.

Versuche zuerst, die erforderlichen Bibliotheken zu finden, die in [[Third Party Libraries|third party libraries]] in deinem Paketmanager erwähnt werden. Beachte, dass einige von ihnen einen etwas anderen Paketnamen haben könnten; suche nach {{incode|name}}, aber auch {{incode|libname}}, {{incode|name-dev}}, {{incode|name-devel}} und ähnlichem. Wenn das nicht möglich ist, versuche, diese Bibliotheken selbst zu kompilieren.

FreeCAD benötigt die GNU g++ Kompiliererversion gleich oder über 3.0.0, da FreeCAD meist in C++ geschrieben ist. Während der Kompilierung werden einige Python Skripte ausgeführt, so dass der Python Interpreter ordnungsgemäß funktionieren muss. Um Probleme mit dem Linker zu vermeiden, ist es auch eine gute Idee, die Bibliothekspfade in der Variablen {{incode|LD_LIBRARY_PATH}} oder in der Datei {{incode|ld.so.conf}} zu haben. Dies geschieht bereits in modernen Linux-Distributionen, muss aber möglicherweise in älteren eingestellt werden.

</div>
</div>

=== Pivy ===

[[Pivy/de|Pivy]] (Python-Wrapper zu Coin3d) wird nicht benötigt, um FreeCAD zu bauen oder zu starten, aber es wird als Laufzeitabhängigkeit des Arbeitsbereichs [[Draft_Workbench/de|Draft]] benötigt. Wird dieser Arbeitsbereich nicht benutzt, wird Pivy nicht benötigt. Beachte jedoch, dass der Arbeitsbereich Draft intern von anderen Arbeitsbereich wie [[BIM Workbench/de|BIM]] verwendet wird, so dass Pivy installiert werden muss, um diese Arbeitsbereiche ebenfalls zu verwenden.

Bis November 2015 wird die im FreeCAD-Quellcode enthaltene veraltete Version von Pivy auf vielen Systemen nicht mehr kompiliert. Dies ist kein großes Problem, da Du normalerweise Pivy über den Paketmanager Deiner Distribution beziehen solltest; wenn Du Pivy nicht finden kannst, musst Du es möglicherweise selbst kompilieren, siehe [[Extra_python_modules#Pivy|Pivy compilation instructions]]

<span id="Debug_symbols"></span>
=== Fehlersuch Symbole ===

Um Abstürze in FreeCAD zu beheben, ist es sinnvoll, die Fehlersuche Symbole wichtiger Abhängigkeitsbibliotheken wie Qt zu haben. Versuche dazu, die Abhängigkeitspakete zu installieren, die mit {{incode|-dbg}}, {{incode|-dbgsym}}, {{incode|-debuginfo}} oder ähnlichem enden, abhängig von Deiner Linux-Distribution.

Unter Ubuntu musst Du möglicherweise spezielle Repositorien aktivieren, um diese Fehlersuch Pakete mit dem Paketmanager sehen und installieren zu können. Siehe [https://wiki.ubuntu.com/Debug_Symbol_Packages Fehlersuch Symbol Pakete] für weitere Informationen.

<span id="Compile_FreeCAD"></span>
== Kompiliere FreeCAD ==

{{VeryImportantMessage|Der Aufbau von FreeCAD 0.20 erfordert mindestens Python3.6 und Qt 5.9.}}

FreeCAD verwendet CMake als Hauptbuild-System, da es auf allen gängigen Betriebssystemen verfügbar ist. Die Kompilierung mit CMake ist in der Regel sehr einfach und erfolgt in zwei Schritten.

# CMake überprüft, ob alle benötigten Programme und Bibliotheken auf Ihrem System vorhanden sind und erzeugt eine {{incode|Makefile}}, die für den zweiten Schritt konfiguriert ist. FreeCAD hat mehrere Konfigurationsoptionen zur Auswahl, aber es wird mit sinnvollen Standardeinstellungen ausgeliefert. Einige Alternativen werden im Folgenden beschrieben.
# Die Kompilierung selbst, die mit dem Programm {{incode|make}} durchgeführt wird, das die FreeCAD-Ausführungsdateien erzeugt.

Da FreeCAD eine große Anwendung ist, kann die Kompilierung des gesamten Quellcodes je nach CPU und Anzahl der für die Kompilierung verwendeten CPU-Kerne zwischen 10 Minuten und einer Stunde dauern.

<span id="Building"></span>
===Zusammenstellung===

Für die Zusammenstellung (Aufbau) wird einfach ein Verzeichnis {{incode|build}} angelegt. Dann von diesem Verzeichnis eine Verknüpfung {{incode|cmake}} zum richtigen Quellordner erstellen. Alternativ zu {{incode|cmake}} können auch {{incode|cmake-gui}} oder {{incode|ccmake}} in den folgenden Anweisungen verwendet werden. Sobald {{incode|cmake}} die Konfiguration der Umgebung abgeschlossen hat, wird {{incode|make}} verwendet, um die eigentliche Kompilierung zu starten.

{{Code|lang=bash|code=
# from your freecad-source folder:
mkdir build
cd build
cmake ../
make -j$(nproc --ignore=2)
}}

Die Option {{incode|-j}} von {{incode|make}} steuert, wie viele Aufträge (Dateien) parallel kompiliert werden. Das Programm {{incode|nproc}} druckt die Anzahl der CPU-Kerne in Deinem System; indem Du es zusammen mit der Option {{incode|-j}} verwendest, kannst Du wählen, ob Du so viele Dateien wie möglich verarbeiten möchtest, um die Gesamtübersetzung des Programms zu beschleunigen. Im obigen Beispiel verwendet es alle Kerne in Deinem System mit Ausnahme von zwei; dies hält Deinen Computer für andere Anwendungen reaktionsschnell, während die Kompilierung im Hintergrund abläuft. Die FreeCAD-Ausführdatei wird schließlich im Verzeichnis {{incode|build/bin}} erscheinen. Siehe auch [[Compiling_(Speeding_up)/de|Kompilieren (Beschleunigen)]], um die Kompilierungsgeschwindigkeit zu verbessern.

<span id="Resolving_cmake_issues"></span>
=== Behebung von cmake Problemen ===

Wenn du schon einmal eine Zusammenstellung durchgeführt hast und an einer Abhängigkeit hängen bleibst, die nicht erkannt wird oder nicht aufgelöst werden kann, versuche Folgendes:

* Lösche die Inhalte des Bau Verzeichnisses, vor dem erneuten ausführen von cmake. FreeCAD ist ein sich schnell veränderndes Ziel, möglicherweise stolperst du über zwischengespeicherte cmake Informationen, die auf eine ältere Version verweisen, als der neue Repositoriumdkopf verwenden kann. Leeren des Zwischenspeichers,  kann cmake erlauben sich zu erholen und die Version erkennen, die du tatsächlich benötigst.

* Wenn sich cmake darüber beschwert, dass eine bestimmte Datei fehlt, verwende ein Werkzeug wie "apt-file search" oder ein entsprechendes Werkzeug in anderen Paketsystemen, um herauszufinden, zu welchem Paket diese Datei gehört und installiere sie. Denke daran, dass du wahrscheinlich die -dev-Version des Pakets benötigst, die Kopf- oder Konfigurationsdateien enthält, die FreeCAD benötigt, um das Paket zu verwenden.

<span id="Compiling_against_GNU_libc_2.34_and_later"></span>
===Compilieren gegen GNU libc 2.34 und später===

GNU libc 2.34 führt eine Änderung an der Bibliothek ein, die dazu führen kann, dass Builds auf einigen Linux-Systemen mit einer Fehlermeldung wie der folgenden fehlschlagen:

{{Code|lang=bash|code=
No rule to make target '/usr/lib/x86_64-linux-gnu/libdl.so
}}

Um dieses Problem zu beheben, muss manuell ein symbolischer Link von der (jetzt leeren) systeminstallierten libdl.so.* zu dem Speicherort erstellt werden, an dem der Compiler nach der Datei sucht. Beispiel (wenn die tatsächlich installierte Kopie von libdl.so auf Ihrem System /usr/lib/x86_64-linux-gnu/libdl.so.2 lautet):

{{Code|lang=bash|code=
sudo ln -s /usr/lib/x86_64-linux-gnu/libdl.so.2 /usr/lib/x86_64-linux-gnu/libdl.so
}}

Den Befehl an die Struktur des Systems anpassen, indem man nach libdl.so* sucht und ihn mit dem entsprechenden Speicherort verknüpft.

<span id="How_to_repair_your_source_code_directory"></span>
===Wie Du dein Quellcode Verzeichnis reparieren kannst ===

Wenn du versehentlich eine Kompilierung im Quellcode Verzeichnis durchgeführt oder seltsame Dateien hinzugefügt hast und den Inhalt nur im ursprünglichen Quellcode wiederherstellen möchtest, kannst du die folgenden Schritte durchführen.

{{Code|lang=bash|code=
> .gitignore
git clean -df
git reset --hard HEAD
}}

Die erste Zeile löscht die Datei {{incode|.gitignore}}. Dadurch wird sichergestellt, dass die folgenden Clean  und Reset Befehle sich auf alles im Verzeichnis auswirken und keine Elemente ignorieren, die den Ausdrücken in {{incode|.gitignore}} entsprechen. Die zweite Zeile löscht alle Dateien und Verzeichnisse, die nicht vom git Repository verfolgt werden; dann setzt der letzte Befehl alle Änderungen an den überwachten Dateien zurück, einschließlich des ersten Befehls, der die Datei {{incode|.gitignore}} gelöscht hat.

Wenn du das Quellverzeichnis nicht löschst, können nachfolgende Durchläufe von {{incode|cmake}} keine neuen Optionen für das System erfassen, wenn sich der Code ändert.

<span id="Configuration"></span>
=== Konfiguration ===

Durch die Übergabe verschiedener Optionen an {{incode|cmake}} kannst Du ändern, wie FreeCAD kompiliert wird. Die Syntax ist wie folgt.

{{Code|code=
cmake -D <var>:<type>=<value> $SOURCE_DIR
}}

Wobei {{incode|$SOURCE_DIR}} das Verzeichnis ist, das den Quellcode enthält. Der {{incode|<type>}} kann in den meisten Fällen weggelassen werden. Das Leerzeichen nach der Option {{incode|-D}} kann ebenfalls weggelassen werden.

Zum Beispiel, um den Bau der [[FEM Workbench/de|FEM Arbeitsbereich]] zu vermeiden:

{{Code|lang=bash|code=
cmake -D BUILD_FEM:BOOL=OFF ../
cmake -DBUILD_FEM=OFF ../
}}

Alle möglichen Variablen sind in der {{incode|InitializeFreeCADBuildOptions.cmake}} Datei aufgelistet, die sich im {{incode|cMake/FreeCAD_Helpers}} Verzeichnis befindet. Suche in dieser Datei nach dem Wort {{incode|option}}, um zu den einstellbaren Variablen zu gelangen und deren Standardwerte zu sehen.

<!--Do not remove the <pre> </pre> tags-->
<pre>
# ==============================================================================
# =================   All the options for the build process    =================
# ==============================================================================

option(BUILD_FORCE_DIRECTORY "The build directory must be different to the source directory." OFF)
option(BUILD_GUI "Build FreeCAD Gui. Otherwise you have only the command line and the Python import module." ON)
option(FREECAD_USE_EXTERNAL_ZIPIOS "Use system installed zipios++ instead of the bundled." OFF)
option(FREECAD_USE_EXTERNAL_SMESH "Use system installed smesh instead of the bundled." OFF)
...
</pre>
<!--Do not remove the <pre> </pre> tags-->

Alternativ kannst Du den Befehl {{incode|cmake -LH}} verwenden, um die aktuelle Konfiguration und damit alle Variablen aufzulisten, die geändert werden können. Du kannst auch {{incode|cmake-gui}} installieren und verwenden, um eine grafische Oberfläche zu starten, die alle Variablen anzeigt, die geändert werden können. In den nächsten Abschnitten listen wir einige der wichtigsten Optionen auf, die du vielleicht verwenden möchtest.

<span id="For_a_Debug_build"></span>
==== Für einen Fehlersuch Bau ==== 

Erstelle einen {{incode|Debug}} Build, um Abstürze in FreeCAD zu beheben. Beachte, dass mit diesem Build die [[Sketcher Workbench/de|Skizzierer Arbeitsbereich]] bei komplexen Skizzen sehr langsam wird.

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 -DCMAKE_BUILD_TYPE=Debug ../
}}

<span id="For_a_Release_build"></span>
==== Für ein Veröffentlichungs Bau ====

Erstelle einen {{incode|Release}} Build, um Code zu testen, der nicht abstürzt. Ein {{incode|Release}} Build wird viel schneller ausgeführt als ein {{incode|Debug}} Build.

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 -DCMAKE_BUILD_TYPE=Release ../
}}

<span id="Building_against_Python_3_and_Qt5"></span>
==== Bauen gegen Python 3 und Qt5 ====

FreeCAD wird zu Qt6 migriert und wird bald die Unterstützung für Qt5 und für das Setzen von FREECAD_QT_VERSION auf "5"  beenden.

Für 0.20 und 0.21_dev:

{{Code|lang=bash|code=
cmake ../
}}

Beachte, dass es beim Wechsel zwischen 0.20 und den 0.21_dev-Builds notwendig sein kann, CMakeCache.txt zu löschen, bevor cmake ausgeführt wird.

<span id="Building_for_a_specific_Python_version"></span>
==== Bauen für eine bestimmte Python Version ====

Wenn die standardmäßige ausführbare {{incode|Python}}-Datei auf dem eigenen System nicht erwünscht ist, kann eine andere Python-Versioausgewählt werden, indem der Pfad zu einer bestimmten ausführbaren Datei an {{incode|cmake}} übergeben wird:

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 ../
}}

Wenn das nicht funktioniert, musst Du möglicherweise zusätzliche Variablen definieren, die auf die gewünschten Python Bibliotheken und Include Verzeichnisse verweisen:

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3.6 \
    -DPYTHON_INCLUDE_DIR=/usr/include/python3.6m \
    -DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.6m.so \
    -DPYTHON_PACKAGES_PATH=/usr/lib/python3.6/site-packages/ \
    ../
}}

Es ist möglich, mehrere unabhängige Versionen von Python im selben System zu haben, so dass die Speicherorte und Versionsnummern deiner Python Dateien von deiner jeweiligen Linux Distribution abhängen. Verwende {{incode|python3 -V}}, um die Version von Python anzuzeigen, die Du gerade verwendest; nur die ersten beiden Zahlen sind notwendig; wenn das Ergebnis beispielsweise {{incode|Python 3.6.8}} ist, musst Du die Verzeichnisse angeben, die sich auf die Version 3.6 beziehen. Wenn Du die richtigen Verzeichnisse nicht kennst, versuche mit dem Befehl {{incode|locate}} nach ihnen zu suchen.

{{Code|code=
locate python3.6
}}

Du kannst {{incode|python3 -m site}} in einem Terminal verwenden, um das Verzeichnis {{incode|site-packages}} zu bestimmen, oder {{incode|dist-packages}} für Debian Systeme.

Einige Komponenten von FreeCAD, wie beispielsweise PySide, versuchen, die aktuellste auf dem System installierte Python-Version automatisch zu erkennen. Dies kann fehlschlagen, wenn diese von der oben eingegebenen Version abweicht. Das Hinzufügen der folgenden CMake-Option kann das Problem möglicherweise beheben:

{{Code|lang=bash|code=
-DPython3_FIND_STRATEGY=LOCATION
}}

<span id="Building_with_Qt_Creator_against_Python_3_and_Qt5"></span>
==== Bauen mit Qt Creator gegen Python 3 und Qt5 ====

1. Qt Creator starten.

2. Klicke auf {{MenuCommand|Projekt öffnen}}.

3. Wechsle zu dem Verzeichnis, in dem sich der Quellcode befindet, {{incode|freecad-source/}}, und wähle die oberste {{incode|CMakeLists.txt}} Datei.

4. Durch Wahl der Datei, wird automatisch {{incode|cmake}} darauf ausgeführt, aber es kann fehlschlagen, wenn die geeigneten Optionen nicht korrekt eingestellt sind.

5. Gehe zu {{MenuCommand|Projekte → Bauen & Ausführen → Importierter Bausatz → Bau → Build Einstellungen → CMake}}. Setze das entsprechende Build Verzeichnis, {{incode|build/}}.

6. Setze die geeigneten Variablen im Schlüssel-Wert Dialogfeld {{incode|String}} und {{incode|Bool}}.
{{Code|code=
PYTHON_EXECUTABLE=/usr/bin/python3
}}

7. Wenn die Variablen das Projekt nicht korrekt laden, musst du möglicherweise zu {{MenuCommand|Projekte → Bausätze verwalten → Bausätze → Standard (oder importierter Bausatz oder ähnliches) → CMake Konfiguration}} gehen.
Drücke dann {{Button|Change}} und füge die geeignete Konfiguration wie oben beschrieben hinzu. Möglicherweise musst du weitere Variablen über die Python Pfade hinzufügen, falls das System Python nicht gefunden wird.

{{Code|code=
PYTHON_EXECUTABLE:STRING=/usr/bin/python3.7
PYTHON_INCLUDE_DIR:STRING=/usr/include/python3.7m
PYTHON_LIBRARY:STRING=/usr/lib/x86_64-linux-gnu/libpython3.7m.so
PYTHON_PACKAGES_PATH:STRING=/usr/lib/python3.7/site-packages
}}

7.1. Drücke {{Button|Apply}}, dann {{Button|OK}}.

7.2. Stelle sicher, dass die restlichen Optionen korrekt eingestellt sind, z.B. sollte {{MenuCommand|Qt Version}} eine im System installierte aktuelle Version sein, wie {{incode|Qt 5.9.5 in PATH (qt5)}}.

Drücke {{Button|Apply}}, dann {{Button|OK}} um die Konfiguration zu schließen.

Das {{incode|cmake}} Programm sollte wieder automatisch ausgeführt werden, und es sollte das gesamte Schlüssel Wert Dialogfeld  mit allen konfigurierbaren Variablen füllen.

8. Gehe zu {{MenuCommand|Projekte → Bauen & Ausführen → Importierter Bausätze → Ausführen → Ausführen → Ausführen Einstellungen → Ausführen → Ausführen → Konfiguration Ausführen}} und wähle {{incode|FreeCADMain}}, um die grafische Version von FreeCAD zu kompilieren, oder {{incode|FreeCADMainCMD}}, um nur die Befehlszeilenversion zu kompilieren.

9. Abschließend gehe zum Menü {{MenuCommand|Bau → Bau Projekt "FreeCAD"}}. Wenn es sich um eine neue Kompilierung handelt, sollte sie je nach Anzahl der zur Verfügung stehenden Prozessoren mehrere Minuten, inklusive Stunden, dauern.

<span id="Qt_designer_plugin"></span>
==== Qt Designer Zusatzprogramm ====

Wenn du Qt Code für FreeCAD entwickeln möchtest, benötigst du die Qt Designer Zusatzprogramm, das alle benutzerdefinierten Widgets von FreeCAD bereitstellt.

Gehe in ein Hilfsverzeichnis des Quellcodes, den Run {{incode|qmake}} mit der angegebenen Projektdatei, um eine {{incode|Makefile}} zu erstellen; führe dann {{incode|make}} aus, um das Zusatzprogramm zu kompilieren.

{{Code|lang=bash|code=
cd freecad-source/src/Tools/plugins/widget
qmake plugin.pro
make
}}

Wenn du für Qt5 kompilierst, stelle sicher, dass die Binärdatei {{incode|qmake}} diejenige für diese Version ist, so dass die resultierende {{incode|Makefile}} die notwendigen Informationen für Qt5 enthält.

{{Code|lang=bash|code=
cd freecad-source/src/Tools/plugins/widget
$QT_DIR/bin/qmake plugin.pro
make
}}

wobei {{incode|$QT_DIR}} das Verzeichnis ist, das Qt Binärbibliotheken speichert, z.B. {{incode|/usr/lib/x86_64-linux-gnu/qt5}}.

Die erstellte Bibliothek ist {{incode|libFreeCAD_widgets.so}}, die nach {{incode|$QT_DIR/plugins/designer}} kopiert werden muss.

{{Code|lang=bash|code=
sudo cp libFreeCAD_widgets.so $QT_DIR/plugins/designer
}}

<span id="External_or_internal_Pivy"></span>
==== Externes oder internes Pivy ====

Bisher wurde eine Version von Pivy in den Quellcode von FreeCAD (intern) aufgenommen. Wenn Du die Kopie von Pivy (extern) Deines Systems verwenden möchtest, musst Du {{Incode|-DFREECAD_USE_EXTERNAL_PIVY=1}} verwenden.

Die Verwendung von externem Pivy wurde bei der Entwicklung von FreeCAD 0.16 zum Standard, so dass diese Option nicht mehr manuell gesetzt werden muss.

<span id="Doxygen_documentation"></span>
==== Doxygen-Dokumentation ====

Wenn Du Doxygen installiert hast, kannst Du die Quellcode Dokumentation erstellen. Siehe [[source documentation/de]] für Anweisungen.

<span id="Additional_documentation"></span>
=== Zusätzliche Dokumentation ===

Der Quellcode von FreeCAD ist sehr umfangreich, und mit CMake ist es möglich, viele Optionen zu konfigurieren. Das Erlernen der vollständigen Nutzung von CMake kann nützlich sein, um die richtigen Optionen für Ihre speziellen Bedürfnisse auszuwählen.
* [https://cmake.org/documentation/ CMake Referenzdokumentation] von Kitware.
* [https://preshing.com/20170511/how-to-build-a-cmake-based-project/ Wie man ein CMake-basiertes Projekt erstellt] (Blog) durch Preshing auf Programmierung.
* [https://preshing.com/20170522/learn-cmakes-scripting-language-in-15-minutes/ CMakes Skriptsprache in 15 Minuten lernen] (Blog) durch Preshing auf Programmierung.

<span id="Making_a_debian_package"></span>
=== Ein Debian Paket erstellen ===

Wenn Du planst, ein Debian-Paket aus den Quellen zu erstellen, musst Du zuerst bestimmte Pakete installieren:

{{Code|lang=bash|code=
sudo apt install dh-make devscripts lintian
}}

Gehe in das FreeCAD Verzeichnis und wähle

{{Code|lang=bash|code=
debuild
}}

Sobald das Paket erstellt ist, kannst Du mit {{incode|lintian}} prüfen, ob das Paket Fehler enthält.

{{Code|lang=bash|code=
lintian freecad-package.deb
}}

<span id="*.deb_package_with_checkinstall"></span>
====*.deb-Paket mit checkinstall====

Das Debian-Skript {{incode|checkinstall}} ermöglicht die Erstellung eines *.deb-Pakets, das mit den Standardbefehlen {{incode|dpkg}} installiert und entfernt werden kann. Möglicherweise muss es zuerst installiert werden (unter Ubuntu verwendet man {{incode|sudo apt install checkinstall}}). Es ist interaktiv und fragt die erforderlichen Informationen ab, wobei hilfreiche Standardwerte angegeben werden. Während des Vorgangs wird das Paket installiert und eine *.deb-Datei sowie ein Sicherungsarchiv erstellt.

Es empfiehlt sich, einen Namen und eine kurze Beschreibung für das Paket festzulegen. Der Name muss eingegeben werden, um es wieder zu deinstallieren, und die Beschreibung wird mit {{incode|dpkg -l}} aufgelistet. Der Standardname "build" ist nicht sehr aussagekräftig.

Beispiel:

{{Code|lang=bash|code=
cd freecad-source/build
cmake ..
make
sudo checkinstall                                  # e.g. name=freecad-test1
}}

Das Ergebnis ist eine *.deb-Datei im Build-Ordner. {{incode|checkinstall}} installiert den Build standardmäßig. So kann man ihn installieren oder deinstallieren:

{{Code|lang=bash|code=
cd freecad-source/build
ls <nowiki>|</nowiki> grep freecad
        freecad-test1_20220814-1_amd64.deb
sudo dpkg -i freecad-test1_20220814-1_amd64.deb   # install
dkpg -l <nowiki>|</nowiki> grep freecad                            # find by name
sudo dpkg -r freecad-test1                        # uninstall by name
}}

<span id="Updating_the_source_code"></span>
== Aktualisierung des Quellcodes ==

Das CMake System ermöglicht es Dir, den Quellcode intelligent zu aktualisieren und nur die Änderungen neu zu kompilieren, was spätere Kompilierungen beschleunigt.

Gehe an den Speicherort, an dem der FreeCAD Quellcode zuerst heruntergeladen wurde, und ziehe den neuen Code:

{{Code|lang=bash|code=
cd freecad-source
git pull
}}

Gehe dann in das Build Verzeichnis, in dem der Code ursprünglich kompiliert wurde, und führe  {{incode|cmake}} unter Angabe des aktuellen Verzeichnisses (gekennzeichnet durch einen Punkt) aus; löse dann die Neukompilierung mit {{incode|make}} aus.

{{Code|lang=bash|code=
cd build
cmake ../
make -j$(nproc --ignore=2)
}}

<span id="Uninstalling_the_source_code"></span>
==Den Quellcode deinstallieren==

Falls der kompilierte Quellcode mit {{incode|sudo make install}} (für Debian) installiert wurde, wurden die Dateien in den Ordner {{FileName|/usr/local}} in mehrere Unterordner kopiert. Zur Deinstallation kann die Datei {{FileName|install_manifest.txt}} verwendet werden. Diese wurde während der Kompilierung im Build-Ordner erstellt und enthält alle installierten Dateien. Solange diese Datei vorhanden ist, kann die Installation deinstalliert werden.

{{Code|lang=bash|code=
cd freecad-source/build
xargs sudo rm < install_manifest.txt
}}

<span id="Troubleshooting"></span>
== Fehlerbehebung ==

<span id="For_64_bit_systems"></span>
=== Für 64 Bit Systeme ===

Beim Erstellen von FreeCAD für 64-Bit gibt es ein bekanntes Problem mit dem OpenCASCADE (OCCT) 64-Bit Paket. Um FreeCAD richtig zum Laufen zu bringen, musst du möglicherweise das Skript {{incode|configure}} ausführen und zusätzlich {{incode|CXXFLAGS}} einstellen:

{{Code|lang=bash|code=
./configure CXXFLAGS="-D_OCC64"
}}

Für Debian basierte Systeme wird diese Option nicht benötigt, wenn die vorkompilierten OpenCASCADE Pakete verwendet werden, da diese intern die richtigen {{incode|CXXFLAGS}} setzen.

<span id="Automatic_build_scripts"></span>
== Automatische Build Skripte ==

Hier findest du alles, was du für einen vollständigen Aufbau von FreeCAD benötigst. Es ist ein Ein-Skript-Ansatz und funktioniert auf einer frisch installierten Linux Distribution. Die Befehle fragen nach dem Root Passwort für die Installation von Paketen und neuen Online Repositorien. Diese Skripte sollten auf 32  und 64 Bit Versionen laufen. Sie sind für verschiedene Versionen geschrieben, werden aber wahrscheinlich auch auf einer späteren Version mit oder ohne größere Änderungen laufen.

Wenn du ein solches Skript für deine bevorzugte Distribution hast, diskutiere es bitte auf dem [https://forum.freecad.org/viewforum.php?f=21&sid=e3c22dca9da076fefb56b1d5c5fb3134 FreeCAD Forum], damit wir es einbauen können.

<div class="mw-collapsible mw-collapsed toccolours">

=== Ubuntu === 

<div class="mw-collapsible-content">

Diese Skripte bieten eine zuverlässige Möglichkeit, die richtigen Abhängigkeiten zu installieren, die für die Erstellung und Ausführung von FreeCAD auf Ubuntu erforderlich sind. Sie nutzen die Ubuntu Personal Package Archives (PPA) und sollten an jeder Version von Ubuntu arbeiten, die von der PPA erfasst wird. Die [https://launchpad.net/~freecad-tainers/+archive/ubuntu/freecad-tages freecad-tages freecad-tages] PPA zielt auf aktuelle Versionen von Ubuntu ab, während die [https://launchpad.net/~freecad-maintainers/+archive/ubuntu/freecad-stable freecad-stable] PPA zielt auf offiziell unterstützte Versionen von Ubuntu ab.

Dieses Skript installiert den täglich erstellten Schnappschuss von FreeCAD und seinen Abhängigkeiten. Es fügt das tägliche Repository hinzu, holt die Abhängigkeiten, um diese Version zu erstellen, und installiert die erforderlichen Pakete. Anschließend wird der Quellcode in ein bestimmtes Verzeichnis gezogen, ein Build-Verzeichnis erstellt und in dieses gewechselt, die Kompilierungsumgebung mit {{incode|cmake}} konfiguriert und schließlich das gesamte Programm mit {{incode|make}} erstellt. Speichere das Skript in einer Datei, mache es ausführbar und führe es aus, verwende aber nicht {{incode|sudo}}; Superuser Rechte werden nur für ausgewählte Befehle abgefragt.

{{Code|lang=bash|code=
#!/bin/sh
sudo add-apt-repository --enable-source ppa:freecad-maintainers/freecad-daily && sudo apt-get update
sudo apt-get build-dep freecad-daily
sudo apt-get install freecad-daily

git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad-source
mkdir freecad-source/build
cd freecad-source/build
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 -DFREECAD_USE_PYBIND11=ON ../
make -j$(nproc --ignore=2)
}}

Wenn du möchtest, kannst du die vorkompilierte Version von FreeCAD ({{incode|freecad-daily}}) deinstallieren, während du die Abhängigkeiten an Ort und Stelle lässt, aber wenn du dieses Paket installiert lässt, kann der Paketmanager seine Abhängigkeiten auch auf dem neuesten Stand halten; dies ist vor allem nützlich, wenn du die Entwicklung von FreeCAD verfolgen und die Quellen aus dem Git Repository ständig aktualisieren und kompilieren willst.

Das vorherige Skript geht davon aus, dass du die neueste Version von FreeCAD kompilieren möchtest, also benutzt du das "tägliche" Repository, um die Abhängigkeiten zu erhalten. Du kannst jedoch stattdessen die Build Abhängigkeiten der "stabilen" Version für deine aktuelle Ubuntu-Version erhalten. Wenn dies der Fall ist, ersetze den oberen Teil des vorherigen Skripts durch die folgenden Anweisungen. Für Ubuntu 12.04 lasse {{incode|---enable-source}} vom Befehl aus.

{{Code|lang=bash|code=
#!/bin/sh
sudo add-apt-repository --enable-source ppa:freecad-maintainers/freecad-stable && sudo apt-get update
sudo apt-get build-dep freecad
sudo apt-get install libqt5xmlpatterns5-dev   # Needed for 0.20; should go away on next packaging update 
sudo apt-get install freecad
}}

Sobald du das Paket {{incode|freecad}} aus dem Repository {{incode|freecad-stable}} installiert hast, ersetzt es die FreeCAD Ausführdatei, die im Universe Ubuntu Repository verfügbar ist. Die ausführbare Datei wird einfach {{incode|freecad}} genannt und nicht {{incode|freecad-stable}}.

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== openSUSE ===

<div class="mw-collapsible-content">

Zum Kompilieren von FreeCAD werden keine externen Datenquellen benötigt. Es gibt jedoch eine Inkompatibilität mit python3-devel, die entfernt werden muss. FreeCAD kann aus GIT kompiliert werden.

{{Code|lang=bash|code=
# install needed packages for development
sudo zypper install gcc cmake OpenCASCADE-devel libXerces-c-devel \
python-devel libqt4-devel python-qt4 Coin-devel SoQt-devel boost-devel \
libode-devel libQtWebKit-devel libeigen3-devel gcc-fortran git swig
 
# create new dir, and go into it
mkdir FreeCAD-Compiled 
cd FreeCAD-Compiled
 
# get the source
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git free-cad
 
# Now you will have a subfolder in this location called free-cad. It contains the source
 
# make another dir for compilation, and go into it
mkdir FreeCAD-Build1
cd FreeCAD-Build1 
 
# build configuration 
cmake ../free-cad
 
# build FreeCAD
make
 
# test FreeCAD
cd bin
./FreeCAD -t 0
}}

Da Du git verwendest, musst Du beim nächsten Mal, wenn Du kompilieren möchtest, nicht alles klonen, sondern ziehst einfach von git ab und kompilierst erneut.

{{Code|lang=bash|code=
# go into free-cad dir created earlier
cd free-cad
 
# pull
git pull
 
# get back to previous dir
cd ..
 
# Now repeat last few steps from before.
 
# make another dir for compilation, and go into it
mkdir FreeCAD-Build2
cd FreeCAD-Build2
 
# build configuration 
cmake ../free-cad
 
# build FreeCAD
# Note: to speed up build use all CPU cores: make -j$(nproc)
make
 
# test FreeCAD
cd bin
./FreeCAD -t 0
}}

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Debian Squeeze ===

<div class="mw-collapsible-content">
{{Code|lang=bash|code=
# get the needed tools and libs
sudo apt-get install build-essential python libcoin60-dev libsoqt4-dev \
libxerces-c2-dev libboost-dev libboost-date-time-dev libboost-filesystem-dev \
libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev \
libboost-serialization-dev libboost-signals-dev libboost-regex-dev \
libqt4-dev qt4-dev-tools python2.5-dev \
libsimage-dev libopencascade-dev \
libsoqt4-dev libode-dev subversion cmake libeigen2-dev python-pivy \
libtool autotools-dev automake gfortran
 
# checkout the latest source
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad
 
# go to source dir
cd freecad
 
# build configuration 
cmake .
 
# build FreeCAD
# Note: to speed up build use all CPU cores: make -j$(nproc)
make
 
# test FreeCAD
cd bin
./FreeCAD -t 0
}}

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Fedora 27/28/29 === 

<div class="mw-collapsible-content">

Veröffentlicht von Benutzer [[https://forum.freecad.org/memberlist.php?mode=viewprofile&u=3666 PrzemoF]] im Forum.

{{Code|lang=bash|code=
#!/bin/bash

ARCH=$(arch)

MAIN_DIR=FreeCAD
BUILD_DIR=build

#FEDORA_VERSION=27
#FEDORA_VERSION=28
FEDORA_VERSION=29

PACKAGES="gcc cmake gcc-c++ boost-devel zlib-devel swig eigen3 qt-devel \
shiboken shiboken-devel pyside-tools python-pyside python-pyside-devel xerces-c \
xerces-c-devel OCE-devel smesh graphviz python-pivy python-matplotlib tbb-devel \
 freeimage-devel Coin3 Coin3-devel med-devel vtk-devel"

FEDORA_29_PACKAGES="boost-python2 boost-python3 boost-python2-devel boost-python3-devel"

if [ "$FEDORA_VERSION" = "29" ]; then
    PACKAGES="$PACKAGES $FEDORA_29_PACKAGES"
fi

echo "Installing packages required to build FreeCAD"
sudo dnf -y install $PACKAGES
cd ~
mkdir $MAIN_DIR <nowiki>||</nowiki> { echo "~/$MAIN_DIR already exist. Quitting.."; exit; }
cd $MAIN_DIR
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git
mkdir $BUILD_DIR <nowiki>||</nowiki> { echo "~/$BUILD_DIR already exist. Quitting.."; exit; }
cd $BUILD_DIR
cmake ../FreeCAD 
make -j$(nproc)
}}

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

<span id="Arch_using_AUR"></span>
=== Bogen mit AUR ===

<div class="mw-collapsible-content">

[https://aur.archlinux.org/ Arch User Repository (AUR)] ist eine Sammlung von benutzerdefinierten Rezepten zum Erstellen von Paketen, die nicht offiziell von Distributionsmoderatoren / Gemeinschaft unterstützt werden. Sie sind in der Regel sicher. Du kannst sehen, wer das Paket gepflegt hat und wie lange. Es wird empfohlen, die Konstruktionsdateien zu überprüfen. Auch nicht quelloffene Software ist in diesem Bereich verfügbar, auch wenn sie von der offiziellen Eigentümerfirma gepflegt wird.

Voraussetzung: git

Schritte :
#Öffne ein Terminal. Optional kann ein Verzeichnis erstellt werden, z.B. {{incode | mkdir git}}. Optional kann das Verzeichnis geändert werden, z.B. {{incode|cd git}}.
#Klone  das AUR-Repository : {{incode|git clone https://aur.archlinux.org/freecad-git.git}}
#Gib den AUR-Repository-Ordner ein: {{incode|cd freecad-git}}
#Kompiliere mit [https://wiki.archlinux.org/index.php/Makepkg Arch makepkg] : {{incode|makepkg -s}}. Das Flag -s oder --syncdeps installiert auch die erforderlichen Abhängigkeiten.
#Installiere das erstellte Paket : {{incode|makepkg --install}} oder doppelklicke auf das pkgname-pkgver.pkg.tar.xz in Deinem Dateibrowser.

Um FreeCAD auf den neuesten Stand zu bringen, wird alles  ab Schritt 3 wiederholt. Wenn es eine schwerwiegende Änderung im Ablaufplan oder neue Funktionen gibt, wird das AUR-Repository aktualisiert, indem {{incode|git checkout -f}} im Ordner verwendet wird.

</div>
</div>

{{docnav/de
|[[Compile_on_Windows/de|Kompilieren unter Windows]]
|[[Compile_on_MacOS/de|Kompilieren unter MacOS]]
}}

{{Userdocnavi{{#translation:}}}}
[[Category:Developer_Documentation{{#translation:}}]]
[[Category:Developer{{#translation:}}]]