<languages/>

{{Macro/de
|Name=Macro Heat Flow Convection Conduction
|Name/de=Makro Wärmeströmung Konvektion Wärmeleitung
|Description=Dieses Makro berechnet die Wärmeflussrate in einer Richtung aufgrund von Konvektion und (oder) Wärmeleitung, wenn sich das Phänomen im stationären Zustand befindet. Es berechnet auch die Temperaturen zwischen den Schichten der Materialien.
|Author=Garlic
|Download=[https://www.freecadweb.org/wiki/images/2/2c/Text-x-python.png Text-x-python.png]
|Links=[https://git.disroot.org/CrowdDiscussesAlternatives/ScriptsForFreeCAD/src/branch/master/Thermal/HeatFlowConvectionConduction_documentation.pdf Wärmeströmung Konvektion Wärmeleitung Dokumentation]
|Date=2025-09-14
|Version=0.0.2
|FCVersion= Alle
}}

<span id="Description"></span>
==Beschreibung==

Dies ist ein Algorithmus, der den Wärmefluss aufgrund von Wärmeleitung und/oder Konvektion in einer Richtung berechnet (z. B. bei einer Wand, die aus verschiedenen Materialien wie Putz, Ziegeln und Dämmstoff besteht, oder bei einem Fenster mit Doppelverglasung und einem mit Luft gefüllten Hohlraum usw.). Das Phänomen muss sich im stationären Zustand befinden (d. h. es darf nicht zeitabhängig sein).

Die Eingabe der Daten muss in einer Tabelle in [https://freecad.org FreeCAD] erfolgen, und die Ergebnisse werden in derselben Tabelle einige Zeilen unterhalb der zuletzt geschriebenen Zeile ausgegeben. Diese Eingabedaten müssen (in einer bestimmten Reihenfolge) die thermischen Eigenschaften der Materialien der Schichten, in denen der Wärmefluss stattfindet, die Dicke jeder Schicht, die Fläche, die Temperatur des ersten und letzten Punktes in Richtung des Wärmeflusses, die Art des Phänomens in jeder Schicht (z. B. [https://de.wikipedia.org/wiki/W%C3%A4rmeleitung Wärmeleitung], oder erzwungene [https://de.wikipedia.org/wiki/Konvektion Konvektion], oder freie Konvektion an einer horizontalen, vertikalen, geneigten Oberfläche oder einem geschlossenen Hohlraum). Die Ergebnisse sind die Wärmeleistungsrate (in Watt), die relative Genauigkeit der Berechnungen (der Algorithmus verwendet thermische Strömungsgleichungen und löst das Problem in Iterationen, wobei er versucht, zu konvergieren) und die berechneten Temperaturen der beiden Oberflächen auf jeder Schicht.

==Installation==

Man beachte, dass die folgenden Schritte nur einmal ausgeführt werden müssen:
# Im FreeCAD-Menü auf {{MenuCommand|Makro → Makros}} gehen
# Herausfinden, welcher Pfad in das Feld  '''"Speicherort der Benutzermakros"''' geschrieben wurde:
# Diesen Ordner mit dem Datei-Explorer (oder einer anderen Dateiverwaltungsanwendung) öffnen.
# Die Dateien '''HeatFlowConvectionConduction.py''', '''Thermal.py''' und '''SpreadsheetDataReadWrite.py''' von https://git.disroot.org/CrowdDiscussesAlternatives/ScriptsForFreeCAD/src/branch/master/Thermal herunterladen und in diesen Ordner kopieren.
# Mit der Schaltfläche {{Button|Schliessen}} das [[Std_DlgMacroExecute/de|Dialogfenster Makro ausführen]] schliessen.

Weitere Informationen zur manuellen Installation von Makros findet man [[How_to_install_macros/de|hier]].

<span id="Usage"></span>
==Anwendung==

Die folgenden Beispiele demonstrieren, wie das Skript genutzt wird.

<span id="Example_1"></span>
===Beispiel 1===

In diesem Beispiel wird die Wärmeleistung berechnet, die durch ein doppelt verglastes Fenster fließt. Es ist gegeben, dass die Umgebungstemperatur im Raum 25 °C beträgt und die Umgebungstemperatur außerhalb des Fensters 10 °C. Die Größe des Fensters beträgt 0,57 m Höhe × 0,43 m Breite (d. h. eine Fläche von 0,2451 m<sup>2</sup>). Die Dicke jedes Glases beträgt 4 mm (d. h. 0,004 m) und der Luftspalt dazwischen beträgt 16 mm.

Um den Algorithmus zu verwenden, öffnet man zunächst die FreeCAD-Anwendung. Wählt dann den [[Spreadsheet_Workbench/de|Arbeitsbereich Spreadsheet]], erzeugt ein neues  [[Image:Std_New.svg|16px]] [[Std_New/de|Dokument]] und erstellt danach ein neues [[File:Spreadsheet_CreateSheet.svg|16px]] [[Spreadsheet_CreateSheet/de|Tabellenblatt]].

<span id="Input_data"></span>
====Eingabedaten====

Der Algorithmus durchsucht die erste Spalte der Tabelle, um die erste Zahl zu finden. Wenn er sie findet, nimmt er an, dass dies die ID der ersten Ebene ist. Anschließend sucht er nach der ID der zweiten Ebene. Wenn fünf aufeinanderfolgende Zeilen keine Zahl in der ersten Spalte enthalten, geht er davon aus, dass es keine weiteren Ebenen gibt. Die Zeilen zwischen den Daten der Ebenen können verwendet werden, um Einheiten, Kommentare usw. einzutragen. Die Eigenschaften jeder Ebene müssen in einer bestimmten Reihenfolge eingetragen werden.

Für dieses Beispiel können die Daten in der Tabelle wie in der Abbildung unten dargestellt geschrieben werden.

[[File:HeatFlowConvectionConduction_Macro_Example1_InputData.png]]

Zeile 4 enthält die Daten der Schicht mit der ID 1. Dies ist die Schicht, in der die Konvektion zwischen der Umgebungsluft außerhalb des Fensters und der Außenfläche der Außenverglasung des Fensters stattfindet. '''Die Einheiten der Daten sind in  [https://de.wikipedia.org/wiki/Internationales_Einheitensystem SI]''' (metrisches System).

Temp. 1 ist die Außenumgebungstemperatur in Kelvin (die bekannt ist: 10 °C + 273,15 = 283,15 K).

Temp. 2 ist die Temperatur der Außenfläche des Außenglases und wird grob auf 286,15 K geschätzt. Dies ist ein Anfangswert für den Löser, um die erste Iteration zu starten. Diese Temperatur wird berechnet und in den Ergebnissen dargestellt. Um einen Anfangswert zu schätzen, haben wir die folgende Gleichung verwendet: (25 - 10) / 5 = 3, wobei 25 °C die Innentemperatur, 10 °C die Außentemperatur und 5 die Anzahl der Schichten sind, sodass wir 3 zu 283,15 K addiert haben.

0,2451 m<sup>2</sup> ist die Fläche des Fensters.

2 ist die Zahl, die die Kategorie ''"freie Konvektion auf einer geneigten oder vertikalen Fläche"'' (als Mechanismus der Wärmeübertragung in dieser Schicht) angibt.

101325 Pa ist der atmosphärische Druck auf Meereshöhe.

0,7 (70% / 100) ist die relative Luftfeuchtigkeit der Aussenluft.

0,57 m ist die charakteristische Länge (bei einer freien Konvektion auf einer vertikalen Ebene ist die charakteristische Länge die Höhe der Ebene).

0 Grad ist der Winkel zwischen der Ebene und der Vertikalen.

'''Man beachte, dass die Daten in der oben genannten Reihenfolge geschrieben werden müssen, damit der Algorithmus sie verstehen kann.''' (ohne leere Zellen dazwischen), wenn der Wärmeübertragungsmechanismus freie Konvektion auf einer vertikalen Ebene ist.

Zeile 7 enthält die Daten der Schicht, in der die Wärmeleitung am Außenfensterglas stattfindet. 2 ist die ID dieser Schicht.

Temp. 1 ist die Temperatur der Außenfläche des Außenverglasung und wird grob auf 286,15 K geschätzt (sie muss denselben Wert wie Temp. 2 der vorherigen Schicht haben, da sie sich auf dieselbe Oberfläche bezieht).

Temp. 2 ist die Temperatur der Innenfläche des Außenfensters (d. h. der Fläche, die mit der zwischen den beiden Fenstern eingeschlossenen Luft in Kontakt steht) und wird grob auf 289,15 K geschätzt (die vorherige Temperatur plus 3 K). Diese Temperatur wird vom Löser berechnet.

0,2451 m<sup>2</sup> ist die Fläche des Fensters.

1 ist die Zahl, die die Kategorie ''"Wärmeleitung"'' (als Mechanismus der Wärmeübertragung in dieser Schicht) angibt.

0,96 W / (m × K) ist die Wärmeleitfähigkeit des Glases [https://www.engineeringtoolbox.com/thermal-conductivity-d_429.html]. Im Internet gibt es verschiedene Tabellen, die die thermischen Eigenschaften der gängigsten Materialien enthalten. Man kann auch den [[Material_Workbench/de|Arbeitsbereich Material]] verwenden, um die Eigenschaften eines [[Std SetMaterial/de|Materials]] anzuzeigen.

0,004 m ist die Dicke des Glases.

Die oben genannte Reihenfolge ist diejenige, in der die Daten in die Tabelle geschrieben werden müssen, wenn es um die Durchführung geht.

Zeile 10 enthält die Daten der Luftschicht, die zwischen den beiden Gläsern eingeschlossen ist. 3 ist die ID dieser Schicht.

289,15 K ist die ungefähr geschätzte Temperatur der Innenfläche des Außenverglasung.

292,15 K ist die grob geschätzte Temperatur der gegenüberliegenden Oberfläche, die die Luft umschließt (d. h. die Oberfläche des anderen Glases, das mit der eingeschlossenen Luft in Kontakt steht). Diese Temperatur wird ebenfalls vom Löser berechnet.

0,2451 m<sup>2</sup> ist die Fensterfläche.

4 ist die Zahl, die die Kategorie ''"freie Konvektion in einem geschlossenen Raum"'' (als Mechanismus der Wärmeübertragung in dieser Schicht) angibt. Man beachte, dass die Gleichungen im Algorithmus (für diesen Fall) nur für kleine Zwischenräume geeignet sind, ähnlich wie der Zwischenraum in einem doppelt verglasten Fenster (d. h. weniger als 0,05 m).[https://iopscience.iop.org/article/10.1088/1757-899X/939/1/012049/pdf].

101325 Pa ist der atmosphärische Druck auf Meereshöhe.

0,2 (20% / 100) ist die relative Luftfeuchtigkeit der der eingeschlossenen Luft.

0,016 m ist die charakteristische Länge (bei freier Konvektion in einem Gehäuse ist die charakteristische Länge die Dicke des Luftspalts, d. h. der Abstand zwischen den beiden Gläsern).

Zeile 13 enthält die Daten der Ebene mit der ID 4, die sich auf die Wärmeleitung (Kategorie 1) beziehen, die am zweiten Glas des Fensters auftritt.

Zeile 16 enthält die Daten der Schicht mit der ID 5, die sich auf die freie Konvektion (Kategorie 2) bezieht, die an der Oberfläche der zweiten Glasscheibe des Fensters auftritt, die mit der Umgebungsluft des Raums in Kontakt steht. Man beachte, dass die Temperatur 2 dieser Schicht 298,15 K beträgt, was 25 °C entspricht (einem in diesem Beispiel vorgegebenen Wert).

<div class="mw-translate-fuzzy">
Man beachte, dass die verwendeten Gleichungen für einen Wertebereich der Eingabedaten gültig sind (die Kommentare im Skript [https://git.disroot.org/CrowdDiscussesAlternatives/ScriptsForFreeCAD/src/branch/master/Thermal/Thermal.py Thermal.py] definieren diese Bereiche). '''Wenn diese Bereiche überschritten werden, werden Warnungen (oder Fehler) in der [[Python_Console/de|Python-Konsole]] von FreeCAD ausgegeben.'''
</div>

<span id="Executing_the_script"></span>
====Das Skript ausführen====

Damit der Algorithmus ausgeführt werden kann, muss die [[Python_Console/de|Python-Konsole]] in FreeCAD geöffnet werden und der folgenden Code ausgeführt werden (d. h. jede Zeile des folgenden Codes separat kopieren und einfügen und jedes Mal {{Button|Enter}} drücken).

{{Code|lang=python|code=
import HeatFlowConvectionConduction
heatFlowObj = HeatFlowConvectionConduction.HeatFlowConvectionConduction()
heatFlowObj.calcHeatFlowConvectionConduction()
}}

Man beachte, dass nach dem Öffnen von FreeCAD die ersten beiden Zeilen dieses Codes nur einmal kopiert und eingefügt werden müssen (die erste Zeile importiert das Skript und die zweite Zeile erstellt ein Objekt). Wenn dann der Algorithmus des Skripts ausgeführt werden soll (um die Daten der Tabellenkalkulation zu lesen, den Löser auszuführen und die Ergebnisse anzuzeigen), kopiert man einfach die dritte Zeile des obigen Codes und drückt dann {{Button|Enter}}.

Die Ergebnisse werden in dieselbe Tabelle geschrieben, drei Zeilen unterhalb der zuletzt geschriebenen Zeile (bitte beachten, dass der Algorithmus nur überprüft, ob die ersten zehn Spalten in sieben aufeinanderfolgenden Zeilen leer sind, und wenn dies der Fall ist, geht er davon aus, dass er „die zuletzt geschriebene Zeile” gefunden hat).

<span id="Results"></span>
====Ergebnisse====

[[File:HeatFlowConvectionConduction Macro Example1 Results.png]]

Die Wärmeleistung beträgt 2,62 W. Wir haben zuerst die niedrigere Temperatur angegeben, daher zeigt das Minuszeichen in der Abbildung oben an, dass die Strömung in die entgegengesetzte Richtung verläuft (d. h. von der höheren zur niedrigeren Temperatur).

Die relative Genauigkeit beträgt 0,76 % (der Löser des Algorithmus wird beendet, wenn die relative Genauigkeit weniger als 5 % beträgt oder die Anzahl der Iterationen mehr als zehn beträgt – diese Grenzwerte können geändert werden, indem ihre Werte in der Funktion {{incode|simulate_thermal_flow}} im Skript geändert werden).

Die Temperaturen jeder Schicht werden berechnet. Die übrigen Eingabedaten werden der Übersichtlichkeit halber ebenfalls für jede Schicht erneut ausgegeben.

<span id="Example_2"></span>
===Beispiel 2===

Ein Wind mit einer Geschwindigkeit von 10 m/s, einer Luftfeuchtigkeit von 40 % und einer Temperatur von 10 °C strömt parallel zur Breite einer Wand, die 5 m breit und 3 m hoch ist und deren Oberfläche eine Temperatur von 11 °C hat.

Um die Wärmeleistung zu berechnen, müssen wir die Daten in der richtigen Reihenfolge in die Tabelle eintragen.

1 ist die ID der Ebene.

283,15 K ist die Temperatur der Luft (die Temperatur der Wand hätte auch zuerst angegeben werden können).

284,15 K ist die Temperatur der Wandoberfläche.

15 m<sup>2</sup> ist die Fläche der Oberfläche.

5 legt die Kategorie ''"erzwungene Konvektion parallel zu einer ebenen Fläche"'' fest.

101325 Pa ist der atmosphärische Druck auf Meereshöhe.

0,4 ist die relative Luftfeuchtigkeit geteilt durch 100.

5 m ist die charakteristische Länge (bei erzwungener Konvektion ist dies die Abmessung der Oberfläche, die parallel zur Strömung verläuft).

10 m/s ist die Strömungsgeschwindigkeit.

Die Ergebnisse zeigen, dass die Wärmeleistung 367,18 W beträgt.

<span id="Example_3"></span>
===Beispiel 3===

Die Fläche einer Terrasse hat eine Größe von 50m<sup>2</sup> (10 m Länge × 5 m Breite) und einer Temperatur von 11 °C. Die Außenumgebungstemperatur beträgt 10 °C und die Luftfeuchtigkeit 50 %.

Um die Wärmeleistung zu berechnen, müssen wir diese Daten in der richtigen Reihenfolge eingeben.

1 ist die ID der Ebene.

283,15 K ist die Temperatur der Umgebungsluft (d. h. die Temperatur der Flüssigkeit außerhalb der [https://de.wikipedia.org/wiki/Thermische_Grenzschicht thermische Grenzschicht], in Kelvin).

284,15 K ist die Temperatur der Terasse.

50 m<sup>2</sup> ist die Fläche der Oberfläche.

3 legt die Kategorie ''"erzwungene Konvektion parallel zu einer ebenen Fläche"'' fest.

101325 Pa ist der atmosphärische Druck auf Meereshöhe.

0,5 ist die relative Luftfeuchtigkeit geteilt durch 100.

1,67 m ist die charakteristische Länge (bei freier Konvektion auf einer horizontalen Fläche ist dies die Fläche der Oberfläche geteilt durch den Umfang: 50 / (10 + 5 + 10 + 5)). '''Man beachte, dass damit die Daten korrekt gelesen werden können, in die Zelle der Tabelle 1,67 (und nicht = 50 / (10 + 5 + 10 + 5)) eingetragen werden sollten.'''

1 ist die Richtung der Oberfläche. Da sich die Luft oben auf der Oberfläche befindet, muss dieser Eintrag 1 sein. Befände sich die Luft unten auf der Oberfläche (z. B. im Fall einer Decke), dann sollte -1 eingetragen werden.

2 ist der letzte Eintrag in der Zeile und gibt an, dass temp. 1 die Lufttemperatur und temp. 2 die Oberflächentemperatur ist. Hätte man zuerst die Oberflächentemperatur und dann die Lufttemperatur angegeben, müsste dieser letzte Eintrag 1 sein.

Die Ergebnisse zeigen, dass die Wärmeleistung 92,55 W beträgt.

<span id="Simulated_cases_of_heat_transfer"></span>
===Simulierte Fälle von Wärmeübertragung===

Die oben genannten Beispiele decken die fünf Fälle (Kategorien) ab, in denen der Algorithmus im Skript den Wärmefluss berechnen kann:
* Kategorie 1: Wärmeleitung.
* Kategorie 2: Freie Konvektion auf einer geneigten oder vertikalen Fläche.
* Kategorie 3: Freie Konvektion auf einer horizontalen Fläche.
* Kategorie 4: Freie Konvektion in einem geschlossenen Raum (für kleine Zwischenräume, ähnlich dem Zwischenraum in einem doppelt verglasten Fenster).
* Kategorie 5: Erzwungene Konvektion parallel zu einer ebenen Fläche.

<span id="Scripts"></span>
==Skript==

Die Dateien HeatFlowConvectionConduction.py, Thermal.py und
SpreadsheetDataReadWrite.py können heruntergeladen werden unter:

https://git.disroot.org/CrowdDiscussesAlternatives/ScriptsForFreeCAD/src/branch/master/Thermal

<span id="Links"></span>
==Verweise==

Die Forumsdiskussion: [https://forum.freecad.org/viewtopic.php?t=99795 Presenting HeatFlowConvectionConduction macro]

Die Dokumentation dieses Skripts im PDF-Format: [https://git.disroot.org/CrowdDiscussesAlternatives/ScriptsForFreeCAD/src/branch/master/Thermal/HeatFlowConvectionConduction_documentation.pdf Wärmeströmung Konvektion Wärmeleitung Dokumentation]

<span id="References"></span>
==Referenzen==

# [https://www.engineeringtoolbox.com/thermal-conductivity-d_429.html Wärmeleitfähigkeit gängiger Materialien – Feststoffe, Flüssigkeiten und Gase (englisch)]
# Wärmeübertragung durch ein doppelt verglastes Fenster mittels Konvektion, V А Маiоrоv. Zitat V A Maiorov 2020 IOP Conf. Ser.: Mater. Sci. Eng. 939 012049, DOI 10.1088/1757-899X/939/1/012049. https://iopscience.iop.org/article/10.1088/1757-899X/939/1/012049/pdf
# Handbuch zur Wärmeübertragung, von Adrian Bejan und Allan D. Kraus