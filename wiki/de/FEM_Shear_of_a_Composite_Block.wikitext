<languages/>

{{TutorialInfo/de
|Topic=Finite-Elemente-Analyse
|Level=Anfänger/Zwischenstufe
|Time=30 Minuten
|Author=[https://wiki.freecad.org/index.php?title=User: HarryvL]
|FCVersion=0.17.12960  oder höher
}}

<span id="Introduction"></span>
==Einleitung==

In diesem Tutorial analysieren wir die Scherverformung eines Verbundblocks, der aus einem steifen Kern besteht, der in eine weiche Matrix eingebettet ist. Es zeigt die Verwendung von BooleanFragments und CompoundFilter, um aus zwei konzentrischen Würfeln Volumenkörper für den Block und die Matrix zu erstellen. Dieser Arbeitsablauf stellt sicher, dass separate MeshRegions, Materialien und Randbedingungen für den Block und die umgebende Matrix definiert werden können. Zur Auswahl interner Bereiche können wir das [https://github.com/drhooves/SelectionTools-Makro von Markus Hovorka] verwenden oder einen alternativen Ansatz wählen. Die CalculiX-Ergebnisse zeigen deutlich den Einfluss des steifen Kerns auf das Verhalten des Verbundblocks.

<span id="Geometry"></span>
== Geometrie ==

Zunächst erstellen wir zwei konzentrische Würfel, einen mit einer Größe von 10 mm und einen mit einer Größe von 5 mm. Dies geschieht im [[Part_Workbench/de|Arbeitsbereich Part]]. Standardmäßig wird der Würfel am Ursprung [0, 0, 0] platziert, sodass der kleinere Würfel verkleinert und verschoben werden muss, indem die Einstellungen auf der Registerkarte Daten des Eigenschaften-Ansicht geändert werden. Um den Kern sichtbar zu machen, wird die Transparenz des äußeren Blocks in der Registerkarte Ansicht der [[Property_View/de|Eigenschaften-Ansicht]] auf 50 gesetzt. Das Ergebnis ist unten dargestellt.

[[Image:Pic1.png|700px]]

Als Nächstes die beiden Blöcke im Baum markieren und ein BooleanFragments-Objekt ('''Part → Teilen → Boolsche Fragmente''') erstellen. Im "Eigenschaftenfenster – Registerkarte Daten" den Modus zu CompSolid ändern. Nun die BooleanFragments im Objektbaum markieren und einen CompoundFilter ('''Part → Verbund → Verbundfilter''') erstellen.

[[Image:Pic2.png|700px]]

<span id="Mesh_and_Mesh_Regions"></span>
== Netze und Netzbereiche ==

Aus dem Arbeitsbereich FEM erstellen wir einen Analyse-Container. Dieser enthält alle für die CalculiX-Analyse erforderlichen Definitionen und deren Ergebnisse. Es ist zu beachten, dass dieser Analyse-Container bei jedem erneuten Laden der Datei oder nach dem Zurückwechseln von anderen Analysen aktiviert werden muss (Rechtsklick und "Analyse aktivieren" auswählen). Um den Vernetzungsprozess zu starten, markiert man den CompoundFilter im Objektbaum und aktiviert den Vernetzungsdialog '''Mesh → FEM-Vernetzung aus Form durch Gmsh'''. Den Dialog mit einem Klick auf OK verlassen. 

Ein Mesh-Objekt wird nun im Objektbaum erstellt. Dieses Objekt markieren und ein Mesh-Region-Objekt über '''Mesh → FEM-Mesh-Region''' erstellen. Das Dialogfeld für diese Mesh-Region durch Doppelklick öffnen und das Optionsfeld für Festkörper aktivieren. Anschließend auf die Schaltfläche "Referenz hinzfügen" klicken und das CompoundFilter-Objekt im Grafikfenster auswählen. Dadurch sollte eine Referenz zu "CompoundFilter:Solid1" in der Objektliste der Mesh Region hinzugefügt werden. Abschließend die maximale Elementgröße für diesen Bereich festlegen (5 mm in der aktuellen Analyse). Das Dialogfeld verlassen, indem man auf OK klickt.

[[Image:Pic3.png|700px]]

Als nächstes ein neues Mesh-Objekt wie oben beschrieben erstellen und mit dem Auswahlmakro (Tastenkombination S, E) das Objekt Cube_Core im Grafikfenster auswählen. Diesmal sollte in der Referenzliste "CompoundFilter:Solid2" angezeigt werden, wie unten dargestellt. Alternativ kann man das Compound-Objekt ausblenden und das Objekt Cube_Core anzeigen (indem man das Compound-Objekt in der Baumstruktur erweitert, jedes einzelne Element auswählt und die Leertaste drückt). Wir haben eine maximale Elementgröße von 1 mm gewählt. 

Hinweis 1: Die Auswahl von "CompoundFilter:Solid2" erfordert die Auswahl einer seiner Flächen. 

Hinweis 2: Wenn man Schwierigkeiten bei der Auswahl von "CompoundFilter:Solid2" hat, hat man möglicherweise vergessen, den BooleanFragments-Modus auf CompSolid zu setzen.

[[Image:Pic4.png|700px]]

<span id="Material_Assignment"></span>
== Materialzuweisungen ==

Material wird Mesh-Regionen über ein SolidMaterial-Objekt zugewiesen. In diesem Tutorial weisen wir zwei Materialien zu: eines für die Matrix und eines für den Kern. 

Zunächst den CompoundFilter im Objektbaum auswählen. Dann über die Menüoption '''Model → FEM-Material für Festkörper''' ein SolidMaterial-Objekt erzeugen. Das Dialogfeld öffnen, das Optionsfeld Festkörper aktivieren, auf "Referenz hinzufügen" klicken und das CompoundFilter-Objekt aus dem Grafikfenster auswählen. Die Referenzliste sollte nun wie zuvor "CompoundFilter:Solid1" anzeigen. Wir weisen der Matrix ABS-Material zu, dessen Elastizitätsmodul etwa 1 % des Elastizitätsmoduls von Stahl beträgt.   

[[Image:Pic5.png|700px]] 

Den oben beschriebenen Vorgang für den Kern ("CompoundFilter:Solid2") mithilfe des Auswahlmakros oder des zuvor beschriebenen alternativen Ansatzes wiederholen. Dieses Mal weisen wir CalculiX-Steel zu, das wesentlich steifer ist als das ABS-Material für die Matrix.

<span id="Sliding_Support"></span>
== Gleitende Unterstützung ==

Um eine "Einfache Scherung"-Bedingung für den Verbundblock zu erstellen, müssen die Verformungen an den Grenzen uneingeschränkt sein. Zu diesem Zweck wird der Block auf einer Gleitauflage platziert. Dadurch bleiben drei Freiheitsgrade in der Ebene der Auflage (2 Translationen und eine Rotation), die später eingeschränkt werden. (Hinweis: Da die Ebene ein Verziehen der Fläche verhindert, führt sie dennoch zu einer geringfügigen Einschränkung, die durch eine andere Wahl der Randbedingungen beseitigt werden könnte). Um eine Gleitrandbedingung zu erstellen, fügt man ein FemConstraintDisplacement-Objekt hinzu ('''Modell → Mechanische Randbedingungen und Lasten → Verschiebungsrandbedingung'''). Im geöffneten Dialogfeld zunächst die Fläche auswählen, auf die die Randbedingung angewendet werden soll, und dann auf die Schaltfläche Hinzufügen klicken. Da der Block in der XY-Ebene gleiten darf, wird nur das Optionsfeld "Fest" für "Verschiebung z" ausgewählt, während alle anderen Optionsfelder auf "Frei" belassen werden.

[[Image:Pic6.png|700px]]

<span id="Fixed_Nodes"></span>
== Feste Knoten ==

Um eine starre Körperbewegung in der Gleitebene zu verhindern, müssen drei unabhängige Freiheitsgrade eliminiert werden. Dazu wird ein Eckpunkt in der Gleitebene in x- und y-Richtung eingeschränkt (wodurch zwei Freiheitsgrade eliminiert werden) und ein Eckpunkt in x-Richtung fixiert (wodurch der letzte Freiheitsgrad eliminiert wird). Zu diesem Zweck werden zwei zusätzliche FemConstraintDisplacement-Objekte erstellt. Das Ergebnis ist unten dargestellt.

[[Image:Pic7.png|700px]]

<span id="Shear_Forces"></span>
== Scherkräfte ==

Der letzte Schritt in der Definition der Analyse ist die Anwendung von Lasten. Um eine einfache Scherbedingung zu erstellen, wird eine Reihe von Scherkräften wie unten gezeigt angewendet. Jede Last wird mit 1000 N gewählt, und unter Berücksichtigung der Anwendungsrichtungen wird für alle Translations- und Rotationsfreiheitsgrade ein Kräfte- und Momentengleichgewicht erreicht. In FreeCAD erfordert dies das Hinzufügen von vier FemConstraintForce-Objekten ('''Modell → Mechanische Randbedingungen und Lasten → Kraftlast''') – eines für jede Fläche. Bei geöffnetem Dialogfeld drückt man zunächst die Schaltfläche Referenz hinzufügen und wählt dann die Fläche aus, auf die die Randbedingung angewendet werden soll (Hinweis: Dies ist eine andere Reihenfolge als bei FemConstraintDisplacement). Standardmäßig wird dadurch eine Reihe von Kräften senkrecht zur Fläche erzeugt (d. h. eine Normalkraft). Um dies in eine Scherkraft zu ändern, drückt man die Richtungstaste und wählt eine Würfelkante aus, die in die gewünschte Richtung verläuft. Wenn die resultierende Kraft in die entgegengesetzte Richtung wie erforderlich zeigt, wählt man das Optionsfeld "Richtung umkehren".

[[Image:Pic8.png|700px]]

<span id="CalculiX_Analysis"></span>
== CalculiX-Analyse ==

Nachdem nun alle Netzbereiche, Material- und Randbedingungen definiert sind, können wir die Verformung des Blocks mit CalculiX analysieren. Die Analyse aktivieren, indem man mit der rechten Maustaste auf "Analyse aktivieren" klickt, das CalculiX-Dialogfeld durch Doppelklicken auf das CalculiXccxTools-Objekt öffnen und ein Verzeichnis für die von FC und CCX erstellten temporären Dateien auswählen. Die CCX-Eingabedatei schreiben und überprüfen, ob Warn- oder Fehlermeldungen angezeigt werden.  

[[Image:PIC9.png|700px]]

Danach kann die Analyse durch Drücken der Schaltfläche RunCalculiX gestartet werden. Wenn alles gut geht, sollten im CCX-Ausgabefenster die folgenden Meldungen angezeigt werden.

[[Image:Pic10.png|700px]]

<span id="CalculiX_Results"></span>
== CalculiX-Ergebnisse ==

Nach Abschluss der Analyse doppelklickt man auf das Objekt "CalculiX_static_results" und wählt die Option "Abs displacement" (Absolute Verschiebung). Die maximale Verschiebung von ~ 0,08 mm wird im entsprechenden Ausgabefeld angezeigt. Da die maximale Verschiebung im Vergleich zu den Abmessungen des Blocks relativ gering ist (<1 % der Blockgröße), müssen die Verschiebungen vergrößert werden. Dies kann unter der Überschrift "Displacement" (Verschiebung) erfolgen, indem man das Optionsfeld "Show" (Anzeigen) aktiviert und die Verschiebung um einen Faktor von beispielsweise 20 skaliert. Die maximale Verschiebung wird nun auf etwa 20 % der Feldgröße übertrieben dargestellt. Nach dem Schließen des Dialogfensters kann das verformte Netz wieder sichtbar gemacht werden, indem man das Objekt "Result_mesh" markiert und die Leertaste drückt. 

[[Image:Figure 11 Deformed Mesh.png|700px]]

Um die Verformung des Kerns zu untersuchen, müssen wir den Block in Scheiben schneiden. Dies kann durch Erstellen eines Clip-Filters erfolgen. Um diese Funktion zu aktivieren, müssen wir zunächst eine "Nachbearbeitungspipeline" erstellen, indem wir das Objekt "CalculiX_static_results" markieren und im Menü '''Ergebnisse → Nachbearbeitungspipeline aus Ergebnis''' auswählen. Als Nächstes erstellt man bei ausgewählter Pipeline einen Warp-Filter (Ergebnisse → Warp-Filter), setzt Vektor=Verschiebung und Wert=20, um die Verschiebung zu skalieren, und Anzeigemodus = "Oberfläche mit Kanten", Farbfeld = "Verschiebung", Vektor = "Größe", um farbige Verschiebungskonturen anzuzeigen. Auf "Übernehmen" und "OK" klicken. Als letzten Schritt einen Clip-Filter hinzufügen (Ergebnisse → Clip-Filter) und eine Ebene mit dem Ursprung [5,0,2,5,0] und der Normalen [0,1,0] erstellen, d. h. an einer Kernfläche mit der Normalen in y-Richtung. Das Optionsfeld "Zellen schneiden" aktivieren, um eine flache Oberfläche zu erstellen. Wie zuvor den Anzeigemodus = "Oberfläche mit Kanten", das Farbfeld = "Verschiebung" und den Vektor = "Größe" einstellen, um farbige Verschiebungskonturen anzuzeigen. Auf "Übernehmen" und "OK" klicken. Schließlich den Verzerrungsfilter auf unsichtbar schalten, um nur den geschnittenen Block anzuzeigen. 

[[Image:Figure12 Deformed Mesh Clipped View (2).png|700px]]

Aus dem Ergebnis geht hervor, dass der Kern weitgehend unverformt bleibt und dazu beiträgt, der Verformung der weichen Matrix entgegenzuwirken (vergleiche den Scherwinkel des blau gefärbten Teils mit dem des grün gefärbten Teils). Es wird jedoch auch deutlich, dass sich die Flächen des Verbundblocks unter einfachen Scherbedingungen verziehen, was darauf hindeutet, dass die Gleitrandbedingung an der Basis des Würfels eine unzulässige Einschränkung darstellt.

<span id="Further_work"></span>
== Weitere Arbeiten ==

Die folgenden Herausforderungen könnten als weitere Übung interessant sein:

1) Korrektur der durch die gleitende Randbedingung verursachten unzulässigen Einschränkung

2) Versuchen, die Kontaktrandbedingungen zwischen dem Kern und der Matrix zu erstellen, um zu sehen, ob eine Trennung auftritt.

Die FreeCAD-Datei für dieses Tutorial ist unten als Ausgangspunkt angehängt.

Diskussion im FreeCAD-Forum: 
https://forum.freecad.org/viewtopic.php?f=18&t=26517&start=20

Viel Spaß!


{{FEM_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}