<languages/>

{{TutorialInfo/de
|Topic=Finite Elemente Analyse
|Level=Anfänger
|Time=30 min
|Author=[https://wiki.freecad.org/User:Sudhanshu_Dubey Sudhanshu Dubey]
|FCVersion=0.19 oder höher
|Files=Programmgesteuert erstellt
}}

<span id="Introduction"></span>
==Einleitung== 

Dieses Beispiel soll zeigen, wie das 6. Beispiel der [https://www.nic.funet.fi/pub/sci/physics/elmer/doc/ElmerTutorials.pdf Elmer-GUI-Tutorials], '''Electrostatic equation – Capacitance of two balls''', unter Verwendung der neuen [[FEM_Examples/de|FEM Beispiele]] simuliert wird. Es zeigt, wie das Beispiel aufgebaut wird, beschreibt verschiedene Bestandteile, zeigt die Berechnung mit [[FEM_SolverElmer/de|Elmer]] und wie die Ergebnisse mit [[FEM_PostFilterClipRegion/de|Ausschnittfiltern]] dargestellt werden.

[[File:Two_balls_result_2.png|1000px]]
{{Caption|Das Endergebnis dieses Tutorium}}

<span id="Requirements"></span>
==Voraussetzungen== 

* Eine kompatible Version von FreeCAD, die in der Tutorial-Übersicht angegeben ist. 
*: Den Befehl {{MenuCommand|Hilfe → Über FreeCAD}} verwenden, um die installierte Version von FreeCAD anzuzeigen.
* Zum Laden des Beispiels, Anzeigen des Netzes und der Geometrie sowie zum Visualisieren der Ergebnisse ist keine externe Software erforderlich.
* Für die Lösung der Finite-Elemente-Analyse (FEA) muss die Löser-Software Elmer auf dem Computer installiert sein. Informationen zur Installation von Elmer findet man auf [[FEM_SolverElmer/de#Installation|dieser Seite]].

<span id="Set_up_the_example"></span>
==Das Beispiel vorbereiten== 

<span id="Load_FEM_Workbench"></span>
===Arbeitsbereich FEM laden===

* FreeCAD starten, Der Arbeitsbereich Start sollte geladen werden.
* Zum Arbeitsbereich [[Image:Workbench_FEM.svg|32px]] [[FEM_Workbench/de|FEM]] wechseln.

<span id="Load_the_example"></span>
===Das Beispiel laden=== 

* Zu {{MenuCommand|Werkzeuge → [[File:FEM_Examples.svg|24px]] FEM-Beispiele öffnen}} gehen.
* Wenn sich die Grafische Benutzeroberfläche  öffnet, sucht man "Elektrostatik Kapazität Zwei Kugeln" und öffnet es. Das Beispiel findet man ganz einfach unter {{MenuCommand|Alle}} oder unter {{MenuCommand|Löser → Elmer}}. Um das Beispiel zu öffnen, entweder darauf doppelklicken oder es auswählen und auf {{Button|Einrichtung}} klicken.

[[File:Two_balls_selection.png|300px]]

<span id="Understanding_the_Simulation_Case"></span>
==Den Simulationsfall verstehen ==

Dieser Fall stellt die Lösung der Kapazität von perfekt leitenden Kugeln im freien Raum dar. Eine Spannungsdifferenz zwischen den Kugeln führt dazu, dass elektrische Ladung in das System eingebracht wird. Die Kugeln haben auch eine Eigenkapazität, die aus der Spannungsdifferenz mit dem Fernfeld resultiert. Daher muss eine symmetrische Kapazitätsmatrix der Größe 2 × 2 gelöst werden. Die Kapazitäten können aus zwei verschiedenen Spannungskonfigurationen berechnet werden.

<span id="Understanding_the_Model"></span>
==Das Modell verstehen==

* Das Modell enthält drei Kugeln.
# Die beiden kleineren sind perfekt leitende Kugeln.
# Die größere Kugel simuliert die Umgebungsluft.
* Die beiden kleineren Kugeln werden miteinander verschmolzen und diese Verschmelzung wird dann von der größeren Kugel abgeschnitten.

[[File:Two_balls_model_full.png|1000px]]
{{Caption|Das Ausgangsmodell}}

<span id="Analysis_container_and_its_objects"></span>
==Der Analyse-Container und seine Objekte==

Die in dieser elektrostatischen Analyse verwendeten Objekte:
# [[Image:FEM_Analysis.svg|24px]] Analysecontainer
# [[Image:FEM_SolverElmer.svg|24px]] LöserElmer
# [[Image:FEM_EquationElectrostatic.svg|24px]] Elektrostatik, die elektrostatische Gleichung
# [[Image:FEM_MaterialFluid.svg|24px]] FemMaterial, ein flüssiges Material zur Darstellung der umfließenden Luft
# [[Image:FEM_ConstraintElectrostaticPotential.svg|24px]] Elektrostatisches Potential, Einschränkungen (3 davon)
# [[Image:FEM_ConstantVacuumPermittivity.svg|24px]] Konstante Vakuumpermittivität, optional
# [[Image:FEM_MeshGmshFromShape.svg|24px]] Netz, ein [[FEM_MeshGmshFromShape/de|Gmsh]]-Netz
# [[Image:FEM_MeshRegion.svg|24px]] MeshRegion, ein Netzbereich für die kleineren Kugeln

[[File:Two_balls_analysis.png]]
{{Caption|Die Objekte, wie sie in der [[Tree_view/de|Baumansicht]] dargestellt werden}}

<span id="Running_the_FEA"></span>
==Die FEA durchführen==

* In der [[Tree_View/de|Baumansicht]] auf das Löser-Objekt  [[Image:FEM_SolverElmer.svg|24px]] doppelklicken.
* Im gleichen Aufgaben-Fenster auf die Schaltfläche {{Button|Schreiben}} klicken. Man beobachte das Protokollfenster, bis "write completed" angezeigt wird. Die möglicherweise angezeigte Warnung zur Vakuumpermittivität kann ignoriert werden.
* Auf die Schaltfläche {{Button|Ausführen}} drücken. Da es sich um eine kleine Analyse handelt, sollte die Ausführung nur wenige Sekunden dauern. Bitte warten, bis Folgendes in der Ausgabe zu sehen ist: "ELMER SOLVER FINISHED AT".
* Auf die Schaltfläche {{Button|Schliessen}} im Aufgaben-Fenster drücken, nachdem der Durchlauf beendet ist.
* In der Baumansicht sollten zwei neue Ergebnisobjekte erstellt werden, [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult und [[Image:TextDocument.svg|24px]] SolverElmerOutput.

Wenn man beim Auslösen der Analyse eine Fehlermeldung zu Solver-Binärdateien oder Ähnlichem erhält, Folgendes überprüfen: [[FEM_SolverElmer/de#Installation|Die  Installation]] von Elmer.

<span id="Visualizing_Results"></span>
==Ergebnisse darstellen==

<div lang="en" dir="ltr" class="mw-content-ltr">
* Make sure the mesh is invisible. If not, select the [[Image:FEM_MeshGmshFromShape.svg|24px]] Mesh object and press {{KEY|Space}} to toggle the visibility.
* Also make sure the Cut object is invisible.
* Double click on the [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult object to open its task dialog.
* Change the "Field" to "potential" and press {{Button|OK}}.
* You will notice that the color of the sphere has changed to blue and that the gradient on the right is showing values from 0 to 1. It should look something like this:
</div>

[[File:Two_balls_potential.png|1000px]]

<span id="Post_Processing_the_Result"></span>
==Die Ergebnisse nachbearbeiten==

<div lang="en" dir="ltr" class="mw-content-ltr">
* While we have successfully visualised the potential result, currently we are only seeing the zero potential in the air surrounding the two balls. To view the potential on the balls we need to apply a [[FEM_PostFilterClipRegion|clip filter]].
* In the Tree View select the [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult object and then from the tool bar click on the button {{Button|[[Image:FEM_PostFilterClipRegion.svg|20px]] Region Clip Filter}}.
* This will open a dialog with the filter configurations. Click there on the button {{Button|[[Image:list-add.svg|16px]] Create}} and choose [[Image:FEM_PostCreateFunctionPlane.svg|24px]] Plane. This adds a plane through the center of the sphere at which the result mesh is cut. To smooth the cut face, check the option '''Cut Cells'''. Eventually click {{Button|Apply}}.
</div>

[[File:Two_balls_postcreate.png|300px]]

* In der Baumansicht gibt es einen neuen Eintrag namens Funktionen. Er enthält die erstellte [[Image:FEM_PostCreateFunctionPlane.svg|24px]] Ebene. Mit der {{KEY|Leertaste}} unsichtbar machen.
* Doppel-Klick auf das [[Image:FEM_PostFilterClipRegion.svg|24px]] Zuschnitt-Objekt in der Baumansicht.
* Das "Feld" auf "Potential" ändern und  {{Button|OK}} drücken.
* Die Sichtbarkeit des [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult-Objekts mittels der  {{KEY|Leertaste}} umschalten und man sieht etwa Folgendes:

[[File:Two_balls_result.png|1000px]]

Jetzt können wir diese potenzielle Verteilung in und um die Kugeln herum deutlich erkennen.

Beachte, dass wenn [[Image:FEM_PostApplyChanges.svg|24px]] [[FEM_PostApplyChanges/de|Änderungen anwenden]] aktiviert ist, das „Feld“ direkt im Zuschneiden-Dialogfeld ausgewählt werden konnte und somit hätte es nach der Erstellung der Ebene nicht erneut geöffnet werden müssen.

<span id="Finding_the_Capacitance"></span>
== Die Kapazität ermitteln ==

* Unser eigentlicher Fokus liegt darauf, die Kapazität zu ermitteln, die in der [[Image:TextDocument.svg|24px]] SolverElmerOutput enthalten sind.
* Doppelt auf [[Image:TextDocument.svg|32px]] SolverElmerOutput klicken, um es zu öffnen. Nach unten scrollen, bis Folgendes zu finden ist:

<pre>
StatElecSolve: Capacitance matrix computation performed (i,j,C_ij)
StatElecSolve:   1  1    5.07016E+00
StatElecSolve:   1  2    1.69328E+00
StatElecSolve:   2  2    5.07201E+00
</pre>

* Hier ist unser gewünschtes Ergebnis <code>C<sub>12</sub> = 1,69328</code>. Dieser Wert liegt nahe an dem in den [https://www.nic.funet.fi/pub/sci/physics/elmer/doc/ElmerTutorials.pdf Elmer GUI Tutorials] angegebenen Wert {{incode|1,691}}. Wir können einen noch genaueren Wert erhalten, indem wir einen feineren [[FEM_MeshRegion/de| NetzBereich]] erstellen, aber diese Aufgabe bleibt dem Benutzer überlassen. Außerdem wird dem Benutzer empfohlen, mit dem [[FEM_PostFilterClipRegion/de|Schnittbereich-Filter]] zu experimentieren, um ein visuelles Ergebnis zu erhalten, das dem ersten Bild dieses Tutorials ähnelt.

{{FEM_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}