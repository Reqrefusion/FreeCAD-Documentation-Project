<languages/>

{{TutorialInfo/de
|Topic=Finite Elemente Analyse
|Level=Anfänger
|Time=30 min
|Author=[https://wiki.freecad.org/User:Sudhanshu_Dubey Sudhanshu Dubey]
|FCVersion=0.19 oder höher
|Files=Programmgesteuert erstellt
}}

<span id="Introduction"></span>
==Einleitung== 

Dieses Beispiel soll zeigen, wie das 6. Beispiel der [https://www.nic.funet.fi/pub/sci/physics/elmer/doc/ElmerTutorials.pdf Elmer-GUI-Tutorials], '''Electrostatic equation – Capacitance of two balls''', unter Verwendung der neuen [[FEM_Examples/de|FEM Beispiele]] simuliert wird. Es zeigt, wie das Beispiel aufgebaut wird, beschreibt verschiedene Bestandteile, zeigt die Berechnung mit [[FEM_SolverElmer/de|Elmer]] und wie die Ergebnisse mit [[FEM_PostFilterClipRegion/de|Ausschnittfiltern]] dargestellt werden.

[[File:Two_balls_result_2.png|1000px]]
{{Caption|Das Endergebnis dieses Tutorium}}

<span id="Requirements"></span>
==Voraussetzungen== 

<div lang="en" dir="ltr" class="mw-content-ltr">
* A compatible version of FreeCAD designated in the tutorial overview. 
*: Use the {{MenuCommand|Help → About FreeCAD}} to see the version of FreeCAD installed
* No external software is needed for loading the example, viewing the mesh and geometry as well as for visualizing the results.
* For solving the finite element analysis (FEA), the solver software Elmer must be installed on your computer. See [[FEM_SolverElmer#Installation|this page]] for how to install Elmer.
</div>

<span id="Set_up_the_example"></span>
==Das Beispiel vorbereiten== 

<span id="Load_FEM_Workbench"></span>
===Arbeitsbereich FEM laden===

* FreeCAD starten, Der Arbeitsbereich Start sollte geladen werden.
* Zum Arbeitsbereich [[Image:Workbench_FEM.svg|32px]] [[FEM_Workbench/de|FEM]] wechseln.

<span id="Load_the_example"></span>
===Das Beispiel laden=== 

<div lang="en" dir="ltr" class="mw-content-ltr">
* Go to {{MenuCommand|Utilities → [[File:FEM_Examples.svg|24px]] Open FEM examples}}.
* When the GUI opens, find and open "Electrostatics Capacitance Two Balls". You can easily find the example in {{MenuCommand|All}} or in {{MenuCommand|Solvers → Elmer}}. For opening the example, either double click on it or select it and click {{Button|Setup}}.
</div>

[[File:Two_balls_selection.png|300px]]

<span id="Understanding_the_Simulation_Case"></span>
==Den Simulationsfall verstehen ==

Dieser Fall stellt die Lösung der Kapazität von perfekt leitenden Kugeln im freien Raum dar. Eine Spannungsdifferenz zwischen den Kugeln führt dazu, dass elektrische Ladung in das System eingebracht wird. Die Kugeln haben auch eine Eigenkapazität, die aus der Spannungsdifferenz mit dem Fernfeld resultiert. Daher muss eine symmetrische Kapazitätsmatrix der Größe 2 × 2 gelöst werden. Die Kapazitäten können aus zwei verschiedenen Spannungskonfigurationen berechnet werden.

<span id="Understanding_the_Model"></span>
==Das Modell verstehen==

<div lang="en" dir="ltr" class="mw-content-ltr">
* The model contains three spheres.
# The two smaller ones are the perfectly conducting balls.
# The bigger one is to simulate the surrounding air.
* The two smaller spheres are fused together and then that fusion is is cut from the bigger sphere.
</div>

[[File:Two_balls_model_full.png|1000px]]
{{Caption|Das Ausgangsmodell}}

<span id="Analysis_container_and_its_objects"></span>
==Der Analyse-Container und seine Objekte==

<div lang="en" dir="ltr" class="mw-content-ltr">
The objects used in this electrostatic analysis:
# [[Image:FEM_Analysis.svg|24px]] Analysis container
# [[Image:FEM_SolverElmer.svg|24px]] SolverElmer
# [[Image:FEM_EquationElectrostatic.svg|24px]] Electrostatic, the electrostatics equation
# [[Image:FEM_MaterialFluid.svg|24px]] FemMaterial, a fluid material to represent the surrounding air
# [[Image:FEM_ConstraintElectrostaticPotential.svg|24px]] ElectrostaticPotential, constraints (3 of them)
# [[Image:FEM_ConstantVacuumPermittivity.svg|24px]] ConstantVaccumPermittivity, optional
# [[Image:FEM_MeshGmshFromShape.svg|24px]] Mesh, a [[FEM_MeshGmshFromShape|Gmsh]] mesh
# [[Image:FEM_MeshRegion.svg|24px]] MeshRegion, a mesh region for the smaller spheres
</div>

[[File:Two_balls_analysis.png]]
{{Caption|Die Objekte, wie sie in der [[Tree_view/de|Baumansicht]] dargestellt werden}}

<span id="Running_the_FEA"></span>
==Die FEA durchführen==

<div lang="en" dir="ltr" class="mw-content-ltr">
* In [[Tree_View|Tree View]] double click on the solver object [[Image:FEM_SolverElmer.svg|24px]].
* Click on {{Button|Write}} file in the same task panel. Watch the log window until it prints "write completed." You can ignore the warning about the vacuum permittivity that might appear.
* Click on {{Button|Run}}. Since this is a small analysis it should take a few seconds to run so wait till you see "ELMER SOLVER FINISHED AT" in the output. 
* Click on {{Button|Close}} in the task panel after the run is finished.
* Two new result objects should be created in the Tree View, [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult and [[Image:TextDocument.svg|24px]] SolverElmerOutput.
</div>

Wenn man beim Auslösen der Analyse eine Fehlermeldung zu Solver-Binärdateien oder Ähnlichem erhält, Folgendes überprüfen: [[FEM_SolverElmer/de#Installation|Die  Installation]] von Elmer.

<span id="Visualizing_Results"></span>
==Ergebnisse darstellen==

<div lang="en" dir="ltr" class="mw-content-ltr">
* Make sure the mesh is invisible. If not, select the [[Image:FEM_MeshGmshFromShape.svg|24px]] Mesh object and press {{KEY|Space}} to toggle the visibility.
* Also make sure the Cut object is invisible.
* Double click on the [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult object to open its task dialog.
* Change the "Field" to "potential" and press {{Button|OK}}.
* You will notice that the color of the sphere has changed to blue and that the gradient on the right is showing values from 0 to 1. It should look something like this:
</div>

[[File:Two_balls_potential.png|1000px]]

<span id="Post_Processing_the_Result"></span>
==Die Ergebnisse nachbearbeiten==

<div lang="en" dir="ltr" class="mw-content-ltr">
* While we have successfully visualised the potential result, currently we are only seeing the zero potential in the air surrounding the two balls. To view the potential on the balls we need to apply a [[FEM_PostFilterClipRegion|clip filter]].
* In the Tree View select the [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult object and then from the tool bar click on the button {{Button|[[Image:FEM_PostFilterClipRegion.svg|20px]] Region Clip Filter}}.
* This will open a dialog with the filter configurations. Click there on the button {{Button|[[Image:list-add.svg|16px]] Create}} and choose [[Image:FEM_PostCreateFunctionPlane.svg|24px]] Plane. This adds a plane through the center of the sphere at which the result mesh is cut. To smooth the cut face, check the option '''Cut Cells'''. Eventually click {{Button|Apply}}.
</div>

[[File:Two_balls_postcreate.png|300px]]

* In der Baumansicht gibt es einen neuen Eintrag namens Funktionen. Er enthält die erstellte [[Image:FEM_PostCreateFunctionPlane.svg|24px]] Ebene. Mit der {{KEY|Leertaste}} unsichtbar machen.
* Doppel-Klick auf das [[Image:FEM_PostFilterClipRegion.svg|24px]] Zuschnitt-Objekt in der Baumansicht.
* Das "Feld" auf "Potential" ändern und  {{Button|OK}} drücken.
* Die Sichtbarkeit des [[Image:FEM_PostPipelineFromResult.svg|24px]] SolverElmerResult-Objekts mittels der  {{KEY|Leertaste}} umschalten und man sieht etwa Folgendes:

[[File:Two_balls_result.png|1000px]]

Jetzt können wir diese potenzielle Verteilung in und um die Kugeln herum deutlich erkennen.

Beachte, dass wenn [[Image:FEM_PostApplyChanges.svg|24px]] [[FEM_PostApplyChanges/de|Änderungen anwenden]] aktiviert ist, das „Feld“ direkt im Zuschneiden-Dialogfeld ausgewählt werden konnte und somit hätte es nach der Erstellung der Ebene nicht erneut geöffnet werden müssen.

<span id="Finding_the_Capacitance"></span>
== Die Kapazität ermitteln ==

* Unser eigentlicher Fokus liegt darauf, die Kapazität zu ermitteln, die in der [[Image:TextDocument.svg|24px]] SolverElmerOutput enthalten sind.
* Doppelt auf [[Image:TextDocument.svg|32px]] SolverElmerOutput klicken, um es zu öffnen. Nach unten scrollen, bis Folgendes zu finden ist:

<pre>
StatElecSolve: Capacitance matrix computation performed (i,j,C_ij)
StatElecSolve:   1  1    5.07016E+00
StatElecSolve:   1  2    1.69328E+00
StatElecSolve:   2  2    5.07201E+00
</pre>

<div lang="en" dir="ltr" class="mw-content-ltr">
* Here, our desired result is <code>C<sub>12</sub> = 1.69328</code>. This value is close to the {{incode|1.691}} given in the [https://www.nic.funet.fi/pub/sci/physics/elmer/doc/ElmerTutorials.pdf Elmer GUI Tutorials]. We can get an even closer value by making a finer [[FEM_MeshRegion|Mesh Region]] but this activity is left for the user. Also, the user is advised to play with the [[FEM_PostFilterClipRegion|Clip Filter]] to get a visual result similar to the first picture of this tutorial.
</div>

{{FEM_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}