<languages/>

{{Docnav/de
|[[Pivy/de|Pivy]]
|[[Interface_creation/de|Schnittstellen erstellen]]
}}

{{TOCright}}

<span id="Introduction"></span>
==Einleitung==

Die [[PySide/de|PySide]]-Bibliothek ist ein Python-Wrapper für den plattformübergreifenden GUI-Werkzeugsatz Qt. FreeCAD setzt Qt als seinen Hauptwerkzeugsatz für die Benutzerschnittstelle (GUI) ein. Qt selbst ist mehr als nur ein GUI-Werkzeugsatz, es ist eine Sammlung von C++ Bibliotheken für viele unterschiedliche Aufgaben; man kann beispielsweise mit Komponenten der Bibliothek netzwerken, und durch Pyside kann auf alles mit Python zugegriffen werden. Jede grafische Oberfläche, die in C++ erstellt werden kann, kann auch in Python erstellt und modifiziert werden. Ein Vorteil der Verwendung von Python ist, dass Qt-Oberflächen entwickelt und live getestet werden können, da wir die Quelldateien nicht kompilieren müssen.

Die empfohlene Methode zum Importieren von PySide (jeder Version) in FreeCAD ist:

{{Code|code=
from PySide import QtCore, QtGui, QtWidgets
}}

<span id="Qt_&amp;_PySide_versions"></span>
==Qt & PySide-Versionen==

* Version 1.0 von Qt wurde Mitte der 1990er Jahre veröffentlicht.
* Version 4.0 von Qt wurde 2005 veröffentlicht und die 4.x-Serie wurde 2015 offiziell eingestellt.
** Der Python-Wrapper für Qt4.x trägt den Namen PySide.
* Version 5.0 von Qt wurde 2012 veröffentlicht, und die 5.x-Serie wurde 2020 offiziell eingestellt.
** Der Python-Wrapper für Qt5.x trägt den Namen PySide2.
* Version 6.0 von Qt wurde 2020 veröffentlicht und ist die aktuelle Versionsserie.
** Der Python-Wrapper für Qt6.x trägt den Namen PySide6. 

[[File:PySideScreenSnapshot1.jpg]] [[File:PySideScreenSnapshot2.jpg]]
{{Caption|Mit PySide erstellte Beispiele. Links: ein einfacher Dialog. Rechts: ein komplexerer Dialog mit Diagrammen.}}
{{Top}}
<span id="FreeCAD_and_PySide"></span>
==FreeCAD und PySide==

Die ursprüngliche Idee hinter FreeCAD war es, Cas.CADE (geometrischer Kernel), Qt (GUI-Toolkit) und Python zusammenzuführen, um ein freies parametrisches 3D-CAD-Programm mit integrierter Skript-Engine zu schaffen. Dies war in den frühen 2000er Jahren, also vor der Existenz von PySide, sodass in den ersten zehn Jahren des Bestehens von FreeCAD ein anderer Wrapper – PyQt – verwendet wurde. PySide wurde entwickelt, um Lizenzprobleme mit PyQt zu lösen, und 2013 erfolgte die Umstellung von FreeCAD auf PySide ([https://github.com/FreeCAD/FreeCAD/commit/1dc122dc9a commit 1dc122dc9a]).

Wenn man wissen möchte, welche Qt-Version die Installation verwendet, findet man im [[Std_About/de|Dialog Über FreeCAD]] eine Liste der Versionen, in denen Qt enthalten ist.

Für weitere Informationen siehe:
* [https://en.wikipedia.org/wiki/PySide Wikipedia:PySide]
* [https://wiki.qt.io/Differences_Between_PySide_and_PyQt Unterschiede zwischen PySide und PyQt (engl.)]

Wird FreeCAD installiert, erhält man sowohl Qt als auch ein passendes PySide als Teil des Pakets. Wenn man selbst [[Compiling/de|kompiliert]], muss man überprüfen, ob passende Versionen diese beiden Bibliotheken installiert sind, damit FreeCAD korrekt läuft. Natürlich wird PySide nur funktionieren, wenn Qt vorhanden ist.
{{Top}}
<span id="Multi_version_compatibility"></span>
==Kompatibilität mit verschieden Versionen==

Der Hauptunterschied zwischen den Bibliotheken PySide und den nachfolgenden PySide2 und PySide6 besteht im Namensraum. PySide (Qt4) hat die Hauptnamensräume {{incode|QtGui}} und {{incode|QtCore}}, während PySide2 (Qt5) und PySide6 (Qt6) den zusätzlichen Namensraum {{incode|QtWidgets}} eingeführt haben, in dem sich nun alle Widgets befinden, die zuvor im QtGui-Namensraum lagen.

Der Ansatz von FreeCAD zur Handhabung der verschiedenen Versionen von Qt/PySide besteht darin, sie alle als PySide zu bezeichnen, was eigentlich als PySideX verstanden werden sollte. Es spielt keine Rolle, welche Qt/PySide-Version installiert ist, sie werden alle mit PySide importiert.

Ein [https://de.wikipedia.org/wiki/Shim_(Informatik) Shim] verwaltet die Unterschiede zwischen den Versionen. Dieser {{incode|PySide}} Shim befindet sich im Verzeichnis {{incode|Ext/}} einer für Qt5/Qt6 kompilierten FreeCAD-Installation.

{{Code|code=
/usr/share/freecad/Ext/PySide
}}

Dieses Modul importiert einfach die erforderlichen Klassen aus {{incode|PySide2/6}}, bringt sie aber im Namensraum von {{incode|PySide}} unter. Diese Herangehensweisen wurde ausgewählt, da sie, von Qt4 aus betrachtet, eine Rückwärtskompatibilität ermöglicht.

{{Code|code=
PySide2.QtCore -> PySide.QtCore
PySide2.QtGui -> PySide.QtGui
PySide2.QtWidgets -> PySide.QtWidgets
PySide2.QtSvg -> PySide.QtSvg
PySide2.QtUiTools -> PySide.QtUiTools
}}

Aus diesem Grund sind die Klassen der {{incode|PySide2.QtWidgets}} auch im Namensraum {{incode|PySide.QtGui}} untergebracht.

{{Code|code=
PySide2.QtWidgets.QCheckBox -> PySide.QtGui.QCheckBox
}}

Aber der derzeit empfohlene Weg ist die Verwendung der moderneren  Namespacing-Variante.

{{Code|code=
from PySide import QtCore, QtGui, QtWidgets

my_check_box = QtWidgets.QCheckBox()
}}
{{Top}}
<span id="Examples_of_PySide_use"></span>
==Beispiele für die Verwendung von PySide==

* [[PySide_Beginner_Examples/de|PySide Anfänger Beispiele]], Hallo Welt, Ankündigungen, Text eingeben, Nummer eingeben.
* [[PySide_Intermediate_Examples/de|PySide Beispiele für Fortgeschrittene]], Fenstergröße, Widgets ausblenden, Aufklappmenüs, Mausposition, Mausereignisse.
* [[PySide_Advanced_Examples/de|PySide Zwischenbeispiele]], viele Widgets.

Die Beispiele von PySide sind in 3 Teile unterteilt, die sich nach dem Grad der Exposition gegenüber PySide, Python und den FreeCAD Interna unterscheiden. Die erste Seite gibt einen Überblick über PySide; die zweite und dritte Seite sind meist Code Beispiele auf verschiedenen Niveaus.

Es wird erwartet, dass diese Beispiele für den Anfang nützlich sind, und danach kann der Benutzer andere Ressourcen online oder die offizielle Dokumentation hinzuziehen.
{{Top}}
<span id="Documentation"></span>
==Dokumentation==

Es gibt einige Unterschiede in der Behandlung von Widgets zwischen den unterschiedlichen Versionen. Programmierer sollten sich dieser Inkompatibilitäten bewusst sein und die offizielle Dokumentation konsultieren, wenn etwas auf einer bestimmten Plattform nicht wie erwartet funktioniert. Wenn auch selten, kann es manchmal erforderlich sein, versionsabhängige Aufrufe über If-Abfragen zu erstellen.

Die PySide-Dokumentation bezieht sich auf die Klassen im Python-Stil; da Qt jedoch ursprünglich eine C++ Bibliothek ist, sollten dieselben Informationen auch in der entsprechenden C++ Referenz vorhanden sein.
* [https://doc.qt.io/qtforpython/modules.html Qt-Module] bereitgestellt von PySide2/PySide6 (Qt5/Qt6).
* [https://doc.qt.io/qt-5/modules-cpp.html Alle Qt-Klassen nach Modulen] in Qt5 für C++.
* [https://pyside.readthedocs.io/en/latest/ Qt-Module] bereitgestellt von PySide (Qt4).
{{Top}}

{{Docnav/de
|[[Pivy/de|Pivy]]
|[[Interface_creation/de|Schnittstellen erstellen]]
}}

{{Powerdocnavi{{#translation:}}}}
[[Category:Developer Documentation{{#translation:}}]]
[[Category:Python Code{{#translation:}}]]