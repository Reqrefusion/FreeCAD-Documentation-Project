<languages/>

[[Image:FreecadRobustMCPBridge.svg|thumb|128px|Symbol des Arbeitsbereichs Robust MCP Bridge]]

{{TOCright}}

<span id="Description"></span>
==Beschreibung==

<div class="mw-translate-fuzzy">
Der '''Arbeitsbereich Robust MCP Bridge''' stellt den serverseitigen Verbindungspunkt bereit, der eine Brücke (engl. Bridge) zum [https://pypi.org/project/freecad-robust-mcp/ Robust MCP-Server] bildet, wodurch externe Anwendungen FreeCAD über das [https://modelcontextprotocol.io/ Model Context Protocol (MCP)] steuern können. Der Arbeitsbereich läuft innerhalb von FreeCAD und stellt XML-RPC- und JSON-RPC-Schnittstellen bereit, mit denen externe MCP-Clients eine Verbindung herstellen können.
</div>

<div class="mw-translate-fuzzy">
Dieser Arbeitsbereich ist für die Verwendung mit dem [https://pypi.org/project/freecad-robust-mcp/ Robust MCP-Server] (verfügbar auf PyPI) konzipiert, der es KI-Assistenten wie [https://claude.ai Claude] ermöglicht, über natürliche Sprache mit FreeCAD zu interagieren. Die vollständige Dokumentation und der Quellcode sind unter [https://github.com/spkane/freecad-robust-mcp-and-more github/spkane/freecad-robust-mcp-and-more] zu finden, wo der MCP-Server, Brücke und einige FreeCAD-Makros gefunden werden können, die für verschiedene Zwecke verwendet werden, die nicht unbedingt mit KI oder der MCP-Arbeit zusammenhängen.
</div>

'''Wichtigste Merkmale:'''
* Symbolleistensteuerelemente zum Starten/Beenden der MCP-Brücke.
* Statusanzeige für den Verbindungsstatus (grün = läuft, rot = angehalten).
* XML-RPC-Server auf konfigurierbarem Port (Standard: 9875).
* JSON-RPC-Socket-Server auf konfigurierbarem Port (Standard: 9876).
* Unterstützung des Kopflos-Modus für Automatisierung und CI/CD-Pipelines.
* Thread-sicheres Warteschlangensystem für sichere FreeCAD-Operationen.
* Konfigurierbarer Autostart beim Start von FreeCAD.

==Installation==

<span id="Via_Addon_Manager_(recommended)"></span>
===Über den Addon-Manager (empfohlen)===

# FreeCAD öffnen.
# Zum {{MenuCommand|Extras → Addon-Manager}} gehen.
# Nach „Robust MCP Bridge“ suchen.
# Auf {{Button|Installieren}} klicken.
# FreeCAD neu starten.

<span id="Manual_installation"></span>
===Manuelle Installation===

Die neueste Version von [https://github.com/spkane/freecad-robust-mcp-and-more/releases GitHub-Veröffentlichungen] herunterladen und sie in das FreeCAD Mod-Verzeichnis extrahieren:

* '''Linux''': {{FileName|~/.local/share/FreeCAD/Mod/FreecadRobustMCPBridge/}}
* '''macOS''': {{FileName|~/Library/Application Support/FreeCAD/Mod/FreecadRobustMCPBridge/}}
* '''Windows''': {{FileName|%APPDATA%/FreeCAD/Mod/FreecadRobustMCPBridge/}}

<span id="Usage"></span>
==Anwendung==

<span id="GUI_mode"></span>
===Grafischer Benutzeroberflächenmodus===

[[Image:Addon_RobustMCPBridge_toolbar.png|Symbolleiste des Arbeitsbereichs Robust MCP Bridge]]

# Mit der Arbeitsbereichsauswahl zum Arbeitsbereich '''Robust MCP Bridge''' wechseln.
# In der Symbolleiste auf {{Button|Start Bridge}} klicken.
# Die Statusanzeige wird während der Ausführung grün.
# Externe MCP-Clients können nun eine Verbindung zu localhost:9875 (XML-RPC) oder localhost:9876 (Socket) herstellen.

Um die Brücke (Bridge) zu stoppen, in der Symbolleiste auf {{Button|Bridge Stop}} klicken.

[[Image:Addon_RobustMCPBridge_statusbar.png|Statusleiste des Arbeitsbereichs Robust MCP Bridge]]

<span id="Headless_mode"></span>
===Kopfloser Modus===

Für Automatisierung und CI/CD-Pipelines kann die Brücke ohne grafische Benutzeroberfläche ausgeführt werden:

'''Linux:'''

{{Code|code=
freecadcmd ~/.local/share/FreeCAD/Mod/FreecadRobustMCPBridge/freecad_mcp_bridge/blocking_bridge.py
}}

'''macOS:'''

{{Code|code=
/Applications/FreeCAD.app/Contents/Resources/bin/freecadcmd \
    ~/Library/Application\ Support/FreeCAD/Mod/FreecadRobustMCPBridge/freecad_mcp_bridge/blocking_bridge.py
}}

Die Brücke startet und hält FreeCAD am Laufen, bis Strg+C gedrückt wird.

<span id="Configuration"></span>
==Konfiguration==

Zugriff auf die Einstellungen über {{MenuCommand|Bearbeiten → Einstellungen → Robust MCP Bridge}} oder {{MenuCommand|Robust MCP Bridge → MCP Bridge-Preferences...}}

{| class="wikitable"
! Einstellung !! Beschreibung !! Standard
|-
| Auto-start bridge || Brücke beim Start von FreeCAD automatisch starten || Deaktiviert
|-
| Show status indicator || Anzeige des Verbindungsstatus in der Statusleiste von FreeCAD || Aktiviert
|-
| XML-RPC Port || Port für XML-RPC-Verbindungen || 9875
|-
| Socket Port || Port für JSON-RPC Socket-Verbindungen || 9876
|}

[[Image:Addon RobustMCPBridge preferences.png|800px|Einstellungsfenster des Arbeitsbereichs Robust MCP Bridge]]

<span id="Features_by_mode"></span>
==Funktionen nach Modus==

{| class="wikitable"
! Funktion !! Grafischer Benutzeroberflächen-Modus !! Kopfloser Modus
|-
| Objekterstellung || Yes || Yes
|-
| Boolsche Verknüpfungen || Yes || Yes
|-
| Export (STEP, STL, 3MF) || Yes || Yes
|-
| Makro-Ausführung || Yes || Yes
|-
| Dokumentenverwaltung || Yes || Yes
|-
| Bildschirmaufnahmen || Yes || No
|-
| Objektfarben/-sichtbarkeit || Yes || No
|-
| Kamera-/Ansichtssteuerung || Yes || No
|}

<span id="Connecting_MCP_clients"></span>
==MCP-Clients verbinden==

Dieser Arbeitsbereich stellt den Server bereit, mit dem sich MCP-Clients verbinden. Um sie mit KI-Assistenten wie Claude zu verwenden, wird ein MCP-Client wie den [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server] benötigt:

{{Code|code=
pip install freecad-robust-mcp
}}

Oder mit uv:

{{Code|code=
uv tool install freecad-robust-mcp
}}

Die vollständige Dokumentation zur Konfiguration von MCP-Clients ist im [https://github.com/spkane/freecad-robust-mcp-and-more GitHub-Repository] zu finden.

<span id="Troubleshooting"></span>
==Fehlerbehebung==

<span id="Bridge_won&#039;t_start"></span>
===Brücke startet nicht===

# Die FreeCAD-Python-Konsole ({{MenuCommand|Ansicht → Fenster → Python-Konsole}}) auf Fehlermeldungen überprüfen.
# Sicherstellen, dass kein anderer Prozess die Ports 9875/9876 verwendet.
# Versuchen, FreeCAD neu zu starten.

<span id="Connection_refused"></span>
===Verbindung abgelehnt===

# Überprüfen, ob die Bridge läuft (grüne Statusanzeige in der Symbolleiste).
# Überprüfen, ob die Ports in den Arbeitsbereichs-Einstellungen mit der MCP-Client-Konfiguration übereinstimmen.
# Wenn eine Verbindung über Docker hergestellt werden soll, {{incode|host.docker.internal}} anstelle von {{incode|localhost}} verwenden.

<span id="Headless_mode_won&#039;t_start"></span>
<div class="mw-translate-fuzzy">
===Kopfloser-Modus startet nicht===
</div>

# Sicherstellen, dass {{incode|freecadcmd}} (nicht {{incode|freecad}}) verwendet wird.
# Überprüfen, ob der Skriptpfad für die Installation korrekt ist.
# FreeCAD zunächst testen: {{incode|freecadcmd -c "print('test')"}}.

<span id="Links"></span>
==Verweise==

<div class="mw-translate-fuzzy">
* [https://github.com/spkane/freecad-robust-mcp-and-more GitHub-Repository] - Quellcode, Dokumentation und Problemverfolgung (Issue Tracker).
* [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server auf PyPI] - Der MCP-Client, der eine Verbindung zu dieser Brücke (Bridge) herstellt.
* [https://modelcontextprotocol.io/ Model Context Protocol] - Die Protokollspezifikation.
</div>


[[Category:Addons{{#translation:}}]]
[[Category:External_Workbenches{{#translation:}}]]