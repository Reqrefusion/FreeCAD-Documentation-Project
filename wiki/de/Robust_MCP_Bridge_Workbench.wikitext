<languages/>

[[Image:FreecadRobustMCPBridge.svg|thumb|128px|Symbol des Arbeitsbereichs Robust MCP Bridge]]

{{TOCright}}

<span id="Description"></span>
==Beschreibung==

Der '''Arbeitsbereich Robust MCP Bridge''' stellt den serverseitigen Verbindungspunkt bereit, der eine Brücke (engl. Bridge) zum [https://pypi.org/project/freecad-robust-mcp/ Robust MCP-Server] bildet, wodurch externe Anwendungen FreeCAD über das [https://modelcontextprotocol.io/ Model Context Protocol (MCP)] steuern können. Der Arbeitsbereich läuft innerhalb von FreeCAD und stellt XML-RPC- und JSON-RPC-Schnittstellen bereit, mit denen externe MCP-Clients eine Verbindung herstellen können.

Dieser Arbeitsbereich ist für die Verwendung mit dem [https://pypi.org/project/freecad-robust-mcp/ Robust MCP-Server] (verfügbar auf PyPI) konzipiert, der es KI-Assistenten wie [https://claude.ai Claude] ermöglicht, über natürliche Sprache mit FreeCAD zu interagieren. Die vollständige Dokumentation und der Quellcode sind unter [https://github.com/spkane/freecad-robust-mcp-and-more github/spkane/freecad-robust-mcp-and-more] zu finden, wo der MCP-Server, Bridge und einige FreeCAD-Makros gefunden werden können, die für verschiedene Zwecke verwendet werden, die nicht unbedingt mit KI oder der MCP-Arbeit zusammenhängen.

'''Wichtigste Merkmale:'''
* Symbolleistensteuerelemente zum Starten/Beenden der MCP-Brücke.
* Statusanzeige für den Verbindungsstatus (grün = läuft, rot = angehalten).
* XML-RPC-Server auf konfigurierbarem Port (Standard: 9875).
* JSON-RPC-Socket-Server auf konfigurierbarem Port (Standard: 9876).
* Unterstützung des Kopflos-Modus für Automatisierung und CI/CD-Pipelines.
* Thread-sicheres Warteschlangensystem für sichere FreeCAD-Operationen.
* Konfigurierbarer Autostart beim Start von FreeCAD.

==Installation==

<span id="Via_Addon_Manager_(Recommended)"></span>
===Über den Addon-Manager (Empfohlen)===

# FreeCAD öffnen.
# Zum {{MenuCommand|Extras → Addon-Manager}} gehen.
# Nach „Robust MCP Bridge“ suchen.
# Auf {{Button|Installieren}} klicken.
# FreeCAD neu starten.

<span id="Manual_Installation"></span>
===Manuelle Installation===

Die neueste Version von [https://github.com/spkane/freecad-robust-mcp-and-more/releases GitHub-Veröffentlichungen] herunterladen und sie in das FreeCAD Mod-Verzeichnis extrahieren:

* '''Linux''': {{FileName|~/.local/share/FreeCAD/Mod/FreecadRobustMCPBridge/}}
* '''macOS''': {{FileName|~/Library/Application Support/FreeCAD/Mod/FreecadRobustMCPBridge/}}
* '''Windows''': {{FileName|%APPDATA%/FreeCAD/Mod/FreecadRobustMCPBridge/}}

<span id="Usage"></span>
==Anwendung==

<span id="GUI_Mode"></span>
===Grafischer Benutzeroberflächenmodus===

[[Image:Addon_RobustMCPBridge_toolbar.png|Symbolleiste des Arbeitsbereichs Robust MCP Bridge]]

# Mit der Arbeitsbereichsauswahl zum Arbeitsbereich '''Robust MCP Bridge''' wechseln.
# In der Symbolleiste auf {{Button|Start Bridge}} klicken.
# Die Statusanzeige wird während der Ausführung grün.
# Externe MCP-Clients können nun eine Verbindung zu localhost:9875 (XML-RPC) oder localhost:9876 (Socket) herstellen.

Um die Brücke (Bridge) zu stoppen, in der Symbolleiste auf {{Button|Bridge Stop}} klicken.

[[Image:Addon_RobustMCPBridge_statusbar.png|Statusleiste des Arbeitsbereichs Robust MCP Bridge]]

<span id="Headless_Mode"></span>
===Kopfloser Modus===

Für Automatisierung und CI/CD-Pipelines kann die Brücke ohne grafische Benutzeroberfläche ausgeführt werden:

'''Linux:'''

{{Code|code=
freecadcmd ~/.local/share/FreeCAD/Mod/FreecadRobustMCPBridge/freecad_mcp_bridge/blocking_bridge.py
}}

'''macOS:'''

{{Code|code=
/Applications/FreeCAD.app/Contents/Resources/bin/freecadcmd \
    ~/Library/Application\ Support/FreeCAD/Mod/FreecadRobustMCPBridge/freecad_mcp_bridge/blocking_bridge.py
}}

Die Brücke startet und hält FreeCAD am Laufen, bis Strg+C gedrückt wird.

<span id="Configuration"></span>
==Konfiguration==

<div lang="en" dir="ltr" class="mw-content-ltr">
Access preferences via {{MenuCommand|Edit → Preferences → Robust MCP Bridge}} or {{MenuCommand|Robust MCP Bridge → MCP Bridge Preferences...}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable"
! Setting !! Description !! Default
|-
| Auto-start bridge || Start bridge automatically when FreeCAD launches || Disabled
|-
| Show status indicator || Display connection status in FreeCAD's status bar || Enabled
|-
| XML-RPC Port || Port for XML-RPC connections || 9875
|-
| Socket Port || Port for JSON-RPC socket connections || 9876
|}
</div>

[[Image:Addon RobustMCPBridge preferences.png|800px|Einstellungsfenster des Arbeitsbereichs Robust MCP Bridge]]

<span id="Features_by_Mode"></span>
==Funktionen nach Modus==

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable"
! Feature !! GUI Mode !! Headless Mode
|-
| Object creation || Yes || Yes
|-
| Boolean operations || Yes || Yes
|-
| Export (STEP, STL, 3MF) || Yes || Yes
|-
| Macro execution || Yes || Yes
|-
| Document management || Yes || Yes
|-
| Screenshots || Yes || No
|-
| Object colors/visibility || Yes || No
|-
| Camera/view control || Yes || No
|}
</div>

<span id="Connecting_MCP_Clients"></span>
==MCP-Clients verbinden==

<div lang="en" dir="ltr" class="mw-content-ltr">
This workbench provides the server that MCP clients connect to. To use with AI assistants like Claude, you need an MCP client such as the [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server]:
</div>

{{Code|code=
pip install freecad-robust-mcp
}}

Oder mit uv:

{{Code|code=
uv tool install freecad-robust-mcp
}}

Die vollständige Dokumentation zur Konfiguration von MCP-Clients ist im [https://github.com/spkane/freecad-robust-mcp-and-more GitHub-Repository] zu finden.

<span id="Troubleshooting"></span>
==Fehlerbehebung==

<span id="Bridge_Won&#039;t_Start"></span>
===Brücke startet nicht===

<div lang="en" dir="ltr" class="mw-content-ltr">
# Check the FreeCAD Python console ({{MenuCommand|View → Panels → Python console}}) for error messages.
# Ensure no other process is using ports 9875/9876.
# Try restarting FreeCAD.
</div>

<span id="Connection_Refused"></span>
===Verbindung abgelehnt===

<div lang="en" dir="ltr" class="mw-content-ltr">
# Verify the bridge is running (green status indicator in toolbar).
# Check that ports match between the workbench preferences and your MCP client configuration.
# If connecting from Docker, use {{incode|host.docker.internal}} instead of {{incode|localhost}}.
</div>

<span id="Headless_Mode_Won&#039;t_Start"></span>
===Kopfloser-Modus startet nicht===

<div lang="en" dir="ltr" class="mw-content-ltr">
# Ensure you're using {{incode|freecadcmd}} (not {{incode|freecad}}).
# Verify the script path is correct for your installation.
# Test FreeCAD first: {{incode|freecadcmd -c "print('test')"}}.
</div>

<span id="Links"></span>
==Verweise==

* [https://github.com/spkane/freecad-robust-mcp-and-more GitHub-Repository] - Quellcode, Dokumentation und Problemverfolgung (Issue Tracker).
* [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server auf PyPI] - Der MCP-Client, der eine Verbindung zu dieser Brücke (Bridge) herstellt.
* [https://modelcontextprotocol.io/ Model Context Protocol] - Die Protokollspezifikation.


[[Category:Addons{{#translation:}}]]
[[Category:External_Workbenches{{#translation:}}]]