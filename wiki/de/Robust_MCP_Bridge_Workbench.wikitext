<languages/>

[[Image:FreecadRobustMCPBridge.svg|thumb|128px|Symbol des Arbeitsbereichs Robust MCP Bridge]]

{{TOCright}}

<span id="Description"></span>
==Beschreibung==

<div lang="en" dir="ltr" class="mw-content-ltr">
The '''Robust MCP Bridge Workbench''' provides the server-side connection point that provides a bridge to the [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server], which enables external applications to control FreeCAD through the [https://modelcontextprotocol.io/ Model Context Protocol (MCP)]. The workbench runs inside FreeCAD and exposes XML-RPC and JSON-RPC interfaces that external MCP clients can connect to.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
This workbench is designed to work with the [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server] (available on PyPI), which allows AI assistants like [https://claude.ai Claude] to interact with FreeCAD through natural language. The full documentation and source code can be found at [https://github.com/spkane/freecad-robust-mcp-and-more github/spkane/freecad-robust-mcp-and-more], where you will find the MCP Server, Bridge and some MFreeCAD acros used for various things, not necessary related to AI or the MCP work.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Key Features:'''
* Toolbar controls for starting/stopping the MCP bridge.
* Status indicator showing connection state (green=running, red=stopped).
* XML-RPC server on configurable port (default: 9875).
* JSON-RPC socket server on configurable port (default: 9876).
* Headless mode support for automation and CI/CD pipelines.
* Thread-safe queue system ensuring safe FreeCAD operations.
* Configurable auto-start on FreeCAD launch.
</div>

==Installation==

<span id="Via_Addon_Manager_(Recommended)"></span>
===Über den Addon-Manager (Empfohlen)===

# FreeCAD öffnen.
# Zum {{MenuCommand|Extras → Addon-Manager}} gehen.
# Nach „Robust MCP Bridge“ suchen.
# Auf {{Button|Installieren}} klicken.
# FreeCAD neu starten.

<span id="Manual_Installation"></span>
===Manuelle Installation===

Die neueste Version von [https://github.com/spkane/freecad-robust-mcp-and-more/releases GitHub-Veröffentlichungen] herunterladen und sie in das FreeCAD Mod-Verzeichnis extrahieren:

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Linux''': {{FileName|~/.local/share/FreeCAD/Mod/FreecadRobustMCPBridge/}}
* '''macOS''': {{FileName|~/Library/Application Support/FreeCAD/Mod/FreecadRobustMCPBridge/}}
* '''Windows''': {{FileName|%APPDATA%/FreeCAD/Mod/FreecadRobustMCPBridge/}}
</div>

<span id="Usage"></span>
==Anwendung==

<span id="GUI_Mode"></span>
===Grafischer Benutzeroberflächenmodus===

[[Image:Addon_RobustMCPBridge_toolbar.png|Symbolleiste des Arbeitsbereichs Robust MCP Bridge]]

<div lang="en" dir="ltr" class="mw-content-ltr">
# Switch to the '''Robust MCP Bridge''' workbench using the workbench selector
# Click {{Button|Start Bridge}} in the toolbar
# The status indicator turns green when running
# External MCP clients can now connect to localhost:9875 (XML-RPC) or localhost:9876 (Socket)
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
To stop the bridge, click {{Button|Stop Bridge}} in the toolbar.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
[[Image:Addon_RobustMCPBridge_statusbar.png|Robust MCP Bridge workbench statusbar]]
</div>

<span id="Headless_Mode"></span>
===Kopfloser Modus===

<div lang="en" dir="ltr" class="mw-content-ltr">
For automation and CI/CD pipelines, the bridge can run without the GUI:
</div>

'''Linux:'''

{{Code|code=
freecadcmd ~/.local/share/FreeCAD/Mod/FreecadRobustMCPBridge/freecad_mcp_bridge/blocking_bridge.py
}}

'''macOS:'''

{{Code|code=
/Applications/FreeCAD.app/Contents/Resources/bin/freecadcmd \
    ~/Library/Application\ Support/FreeCAD/Mod/FreecadRobustMCPBridge/freecad_mcp_bridge/blocking_bridge.py
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
The bridge will start and keep FreeCAD running until you press Ctrl+C.
</div>

<span id="Configuration"></span>
==Konfiguration==

<div lang="en" dir="ltr" class="mw-content-ltr">
Access preferences via {{MenuCommand|Edit → Preferences → Robust MCP Bridge}} or {{MenuCommand|Robust MCP Bridge → MCP Bridge Preferences...}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable"
! Setting !! Description !! Default
|-
| Auto-start bridge || Start bridge automatically when FreeCAD launches || Disabled
|-
| Show status indicator || Display connection status in FreeCAD's status bar || Enabled
|-
| XML-RPC Port || Port for XML-RPC connections || 9875
|-
| Socket Port || Port for JSON-RPC socket connections || 9876
|}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
[[Image:Addon RobustMCPBridge preferences.png|800px|Robust MCP Bridge workbench preference pane]]
</div>

<span id="Features_by_Mode"></span>
==Funktionen nach Modus==

<div lang="en" dir="ltr" class="mw-content-ltr">
{| class="wikitable"
! Feature !! GUI Mode !! Headless Mode
|-
| Object creation || Yes || Yes
|-
| Boolean operations || Yes || Yes
|-
| Export (STEP, STL, 3MF) || Yes || Yes
|-
| Macro execution || Yes || Yes
|-
| Document management || Yes || Yes
|-
| Screenshots || Yes || No
|-
| Object colors/visibility || Yes || No
|-
| Camera/view control || Yes || No
|}
</div>

<span id="Connecting_MCP_Clients"></span>
==MCP-Clients verbinden==

<div lang="en" dir="ltr" class="mw-content-ltr">
This workbench provides the server that MCP clients connect to. To use with AI assistants like Claude, you need an MCP client such as the [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server]:
</div>

{{Code|code=
pip install freecad-robust-mcp
}}

Oder mit uv:

{{Code|code=
uv tool install freecad-robust-mcp
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
See the [https://github.com/spkane/freecad-robust-mcp-and-more GitHub repository] for full documentation on configuring MCP clients.
</div>

<span id="Troubleshooting"></span>
==Fehlerbehebung==

<span id="Bridge_Won&#039;t_Start"></span>
===Brücke startet nicht===

<div lang="en" dir="ltr" class="mw-content-ltr">
# Check the FreeCAD Python console ({{MenuCommand|View → Panels → Python console}}) for error messages.
# Ensure no other process is using ports 9875/9876.
# Try restarting FreeCAD.
</div>

<span id="Connection_Refused"></span>
===Verbindung abgelehnt===

<div lang="en" dir="ltr" class="mw-content-ltr">
# Verify the bridge is running (green status indicator in toolbar).
# Check that ports match between the workbench preferences and your MCP client configuration.
# If connecting from Docker, use {{incode|host.docker.internal}} instead of {{incode|localhost}}.
</div>

<span id="Headless_Mode_Won&#039;t_Start"></span>
===Kopfloser-Modus startet nicht===

<div lang="en" dir="ltr" class="mw-content-ltr">
# Ensure you're using {{incode|freecadcmd}} (not {{incode|freecad}}).
# Verify the script path is correct for your installation.
# Test FreeCAD first: {{incode|freecadcmd -c "print('test')"}}.
</div>

<span id="Links"></span>
==Verweise==

<div lang="en" dir="ltr" class="mw-content-ltr">
* [https://github.com/spkane/freecad-robust-mcp-and-more GitHub Repository] - Source code, documentation, and issue tracker.
* [https://pypi.org/project/freecad-robust-mcp/ Robust MCP Server on PyPI] - The MCP client that connects to this bridge.
* [https://modelcontextprotocol.io/ Model Context Protocol] - The protocol specification.
</div>


[[Category:Addons{{#translation:}}]]
[[Category:External_Workbenches{{#translation:}}]]