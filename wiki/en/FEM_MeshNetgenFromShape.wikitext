<languages/>

{{Docnav
|[[FEM_ConstantVacuumPermittivity|Constant vacuum permittivity]]
|[[FEM_MeshGmshFromShape|FEM mesh from shape by Gmsh]]
|[[FEM_Workbench|FEM]]
|IconL=FEM_ConstantVacuumPermittivity.svg
|IconR=FEM_MeshGmshFromShape.svg
|IconC=Workbench_FEM.svg
}}

{{GuiCommandContainer|
{{GuiCommand
|Name=FEM MeshNetgenFromShape
|MenuLocation=Mesh → Mesh From Shape by Netgen
|Workbenches=[[FEM_Workbench|FEM]]
|SeeAlso=[[FEM_tutorial|FEM tutorial]]
}}
{{GuiCommandFemInfo
|Solvers=CalculiX, Mystran, Z88
}}
}}

==Description==

For a finite element analysis, the geometry needs to be discretized into a [[FEM_Mesh|FEM Mesh]]. This command uses [https://www.ngsolve.org/ Netgen] (which needs to be installed on the system) to generate the mesh. Netgen meshes are not supported by [[FEM_SolverElmer|Elmer]].

Depending on your operating system and installation package, Netgen might be bundled with FreeCAD or not. For further information see [[FEM_Install#Netgen|FEM Install]].

{{Version|1.0}}: The refactored Netgen mesher is available. It can be activated in the preferences and is installed via Python bindings as explained on the aforementioned FEM Install page.

==Usage==

# Select the shape you want to analyze. For a volume, this needs to be solid or compsolid. A compsolid is necessary if your part is made from multiple materials (a compsolid can be created with the [[Part_BooleanFragments|Part BooleanFragments]] command).
# There are several ways to invoke the command:
#* Press the {{Button|[[Image:FEM_MeshNetgenFromShape.svg|16px]] [[FEM_MeshNetgenFromShape|Mesh From Shape by Netgen]]}} button.
#* Select the {{MenuCommand|Mesh → [[Image:FEM_MeshGmshFromShape.svg|16px]] Mesh From Shape by Netgen}} option from the menu.
# Optionally, set the max/min element size (the default setting usually creates meshes that are too coarse) and element order (using the ''Second Order'' checkbox).
# Optionally, change the ''Fineness'' to one of the predefined choices or choose ''UserDefined'' and manually edit the parameters.
# Click the {{Button|Apply}} button to generate the mesh. {{Version|1.0}}: Optionally, use the {{Button|Cancel}} button to abort meshing if using the new Netgen implementation.
# Click the {{Button|OK}} button to generate the mesh and close the dialogue. You can also click the {{Button|Cancel}} button to cancel the changes or creation of the mesh object.

== Properties - Legacy Netgen ==

* {{PropertyData|Max. Size}}: Maximum size of the element in mm.
* {{PropertyData|Min. Size}}: {{Version|1.0}}: Minimum size of the element in mm.
* {{PropertyData|Second order}}: Second order elements contain more nodes per element. Usually, it is enough to use rougher mesh to obtain same solution precision as with the first order elements,
** true (default); second order elements,
** false; first order elements. 
* {{PropertyData|Fineness}}: Offers predefined levels of mesh density.
* {{PropertyData|Growth Rate}}: Defines how much adjacent elements can differ in size.
* {{PropertyData|Nb. Segs per Edge}}: Defines the minimum number of mesh segments per edge.
* {{PropertyData|Nb. Segs per Radius}}: Defines the minimum number of mesh segments per radius.
* {{PropertyData|Optimize}}:
** true (default): applies optimization algorithm to improve mesh quality
** false

== Properties - Refactored Netgen ==

* {{PropertyData|Bad Element Limit}}: Limit for max element angle (150-180).
* {{PropertyData|Base Element Np}}: If non-zero, baseelement must have BaseElementlNp points.
* {{PropertyData|Block Fill}}: If enabled, block filling is performed.
* {{PropertyData|Check Chart Boundary}}: If enabled, chart boundary is checked.
* {{PropertyData|Check Impossible}}
* {{PropertyData|Check Overlap}}: If enabled, overlapping surfaces are checked.
* {{PropertyData|Check Overlapping Boundary}}: If enabled, overlapping surface mesh is checked before volume meshing.
* {{PropertyData|Close Edge Factor}}: Factor to restrict meshing based on close edges.
* {{PropertyData|Curvature Safety}}: Safety factor for curvatures (elements per radius).
* {{PropertyData|Delaunay}}: If enabled, Delaunay algorithm is used for 3D meshing.
* {{PropertyData|Delaunay2d}}: If enabled, Delaunay algorithm is used for 2D meshing.
* {{PropertyData|Element Order}}: High order element curvature.
* {{PropertyData|Element Size Weight}}: Weight of element size with respect to element shape.
* {{PropertyData|End Step}}: Last step:
** AnalyzeGeometry
** MeshEdges
** MeshSurface
** OptimizeSurface
** MeshVolume
** OptimizeVolume
* {{PropertyData|Fill Distance}}: Block filling up to distance.
* {{PropertyData|Fineness}}: Offers predefined levels of mesh density:
** VeryCoarse
** Coarse
** Moderate
** Fine
** VeryFine
** UserDefined
* {{PropertyData|Give Up Tolerance}}: Give up quality class for 3D meshing.
* {{PropertyData|Give Up Tolerance2d}}: Give up quality class for 2D meshing.
* {{PropertyData|Give Up Tolerance Open Quads}}: Give up quality class for closing open quads, greater than 100 for free pyramids.
* {{PropertyData|Glue}}: {{Version|1.1}}: Glue shapes to get a conformal mesh.
* {{PropertyData|Growth Rate}}: Grading for local h.
* {{PropertyData|Heal Shape}}: If enabled, shape is healed before meshing.
* {{PropertyData|Invert Tets}}
* {{PropertyData|Invert Trigs}}
* {{PropertyData|Local H}}: If enabled, uses local h.
* {{PropertyData|Max Outer Steps}}: Maximum outer steps.
* {{PropertyData|Max Size}}: Maximum size of the element in mm.
* {{PropertyData|Min Size}}: Minimum size of the element in mm.
* {{PropertyData|Only3d Domain Nr}}
* {{PropertyData|Optimization Error Power}}: Power of error to approximate max error optimization.
* {{PropertyData|Optimization Steps2d}}: Number of 2D optimization steps.
* {{PropertyData|Optimization Steps3d}}: Number of 3D optimization steps.
* {{PropertyData|Optimize2d}}: 2D optimization strategy.
* {{PropertyData|Optimize3d}}: 3D optimization strategy.
* {{PropertyData|Parallel Meshing}}: If enabled, uses parallel meshing.
* {{PropertyData|Quad Dominated}}: If enabled, uses quad dominated surface meshing.
* {{PropertyData|Relinner Safety}}: Radius of active environment (times h).
* {{PropertyData|Safety}}: Radius of local environment (times h).
* {{PropertyData|Second Order}}: If enabled, uses second order element meshing.
* {{PropertyData|Second Order Linear}}: If enabled, second order nodes are created by linear interpolation.
* {{PropertyData|Segments Per Edge}}: Minimum number of segments per edge.
* {{PropertyData|Sloppy}}: Quality tolerances are handled less careful.
* {{PropertyData|Star Shape Class}}: Class starting star-shape filling.
* {{PropertyData|Start In Surface}}: If enabled, starts surface meshing from everywhere in surface.
* {{PropertyData|Start Step}}: First step:
** AnalyzeGeometry
** MeshEdges
** MeshSurface
** OptimizeSurface
** MeshVolume
** OptimizeVolume
* {{PropertyData|Try Hexes}}: If enabled, tries hexahedral elements.
* {{PropertyData|Use Local H}}: If enabled, uses local H.
* {{PropertyData|ZRefine}}: {{Version|1.1}}: Z-refinement for extruded shapes, can create extruded hex meshes when combined with the ''Quad Dominated'' property. Will work only for first-order meshes (unless the generated elements are all hexahedrons):
** No - Z-refinement is disabled
** Regular - all elements have the same height
** Custom - the height of each element must be specified
* {{PropertyData|ZRefine Direction}}: {{Version|1.1}}: Z-refinement direction (change if the shape is extruded in a direction other than the Z axis).
* {{PropertyData|ZRefine Size}}: {{Version|1.1}}: Z-refinement size (element height) given as a fraction of the shape size (total height). For a regular partition, only one value is needed.


{{Docnav
|[[FEM_ConstantVacuumPermittivity|Constant vacuum permittivity]]
|[[FEM_MeshGmshFromShape|FEM mesh from shape by Gmsh]]
|[[FEM_Workbench|FEM]]
|IconL=FEM_ConstantVacuumPermittivity.svg
|IconR=FEM_MeshGmshFromShape.svg
|IconC=Workbench_FEM.svg
}}

{{FEM Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}