<languages/>

{{Docnav
|[[Cables_CableConduit|CableConduit]]
|[[Cables_CableConnector|CableConnector]]
|[[Cables_Workbench|Cables]]
|IconL=Cables_CableConduit.svg
|IconR=Cables_CableConnector.svg
|IconC=Cables_workbench_icon.svg
}}

{{GuiCommand
|Name=Cables CableBox
|MenuLocation=Cables → Cable Box
|Workbenches=[[Cables_Workbench|Cables]]
|Shortcut={{KEY|C}} {{KEY|X}}
|Version=0.1.0
|SeeAlso=[[Cables_Cable|Cables Cable]], [[Cables_CableConnector|Cables CableConnector]], [[Cables_SuppLines|Cables SuppLines]]
}}

==Description==

New concept of Cable Box Preset and SuppLines child object: <span style="color:blue;">introduced in version 0.3.0</span>

The [[Image:Cables_CableBox.svg|24px]] [[Cables_CableBox|Cable Box]] creates a parametric cable box object. It has default size upon creation, but some parameters, like '''Diameter''', '''Height''' or '''Thickness''' can be changed later. The '''Cable Box''' belongs to the [[Arch_Component|Arch Component]] class and inherits all of its properties. The '''Cable Box''' has inlet holes equipped with [[Cables_SuppLines|SuppLines]] crosses. Each [[Cables_SuppLines|SuppLines]] cross has five vertices which can be used as attachment supports for up to five cables entering single hole. [[Cables_SuppLines|SuppLines]] object is not a part of Cable Box shape, it is a separate child object also visible in the [[Tree_View|Tree View]].

The '''Cable Box''' offers two shape types based on {{Value|Circle}} or {{Value|Rectangle}} [[#Data|{{PropertyData|Profile Type}}]] property. Both types allow to make parametric shapes (with small restrictions introduced for simplicity) suitable for quite accurate modeling of real cable boxes available commercially. For further simplicity and creation speed the [[#Data|{{PropertyData|Preset}}]] property has been introduced. It allows quick selection of predefined Cable Box shape from the list. There are several predefined shapes in the Cables Workbench, but the user can create his own library of boxes if desired. See [[#Cable Box Presets|Cable Box Presets]] for details.

Moreover, the '''Cable Box''' is equipped with two adjustable helper rings. Their purpose is to offer a <u>temporary</u> snapping points during editing cable subwires in [[Cables_Edit|Cables Edit]] mode to help to give them the desired shape. When not needed anymore, the helper rings can be hidden by setting [[#Data|{{PropertyData|Helper Rings Hidden}}]] property. <u>Temporary</u> means that helper rings should not be used as attachment support for vertexes of subwires.

'''Cable Box''' object can be automatically equipeed with [https://en.wikipedia.org/wiki/DIN_rail DIN TH35 rails]. For details see [[#Data|{{PropertyData|Din Rails}}]].

'''Cable Box''' object can be colored by attaching desired [[Arch_SetMaterial|Material]] to the '''Material''' property. It supports [[Arch_MultiMaterial|Arch Multimaterials]] as well. There is a predefined {{Value|boxMultiMat2m}} avalilable in [[Cables_Material|Cables Material]] which is designed to support DIN rails.

[[File:Cables_CableBox_Example1.png]]
{{Caption|Example of the default Cable Box:<br/>There are visible [[Cables_SuppLines|SuppLines]] crosses inside holes and helper rings inside a box.}}

[[File:Cables_CableBox_ExampleDIN1.png]]
{{Caption|Example of Cable Box with DIN rail. Helper rings are hidden here.}}

==Usage==

# Select the vertex, point on surface or object in the [[3D_View|3D View]] or select nothing.
# Create Cable Box by one of these methods:
#* Press the {{Button|[[Image:Cables_CableBox.svg|16px]] [[Cables_CableBox|Cable Box]]}} button.
#* Select the {{MenuCommand|Cables → [[Image:Cables_CableBox.svg|16px]] Cable Box}} option from the menu.
#* Right-click in the [[Tree_View|Tree View]] or the [[3D_View|3D View]] and select the {{MenuCommand|Cables → [[Image:Cables_CableBox.svg|16px]] Cable Box}} option from the context menu.
#* Use the keyboard shortcut: {{KEY|C}} then {{KEY|X}}.
# The {{MenuCommand|Cable Box}} task panel opens. See [[#Options|Options]] for more information.

Once created the Cable Box is placed at the position of selected vertex, point or object in the 3D space (or at the point (0,0,0) if nothing was selected).

To change already created '''Cable Box''' just double click it in the [[Tree_View|Tree View]] or change one of its parameters in the [[Property_View|Property View]]

==Options==

The '''Cable Box''' preset available in the task panel can be changed. The currently selected preset is immediately visible in the [[3D_View|3D View]].

When the special 'Customized' preset is selected, the task panel shows additional options allowing to change all the properties of a custom parametric '''Cable Box'''.

===Cable Box Presets===

Cables Workbench comes with several predefined shapes. However, the user is not limited to using the default set.

An additional CSV file can be created by the user, containing custom Cable Box Preset definitions. It must be named {{incode|boxpresets.csv}}, and placed in

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/
}}

The {{incode|$FREECAD_USER_DIR}} can be obtained from the [[Python_Console|Python Console]]:

{{Code|lang=text|code=
FreeCAD.getUserAppDataDir()
}}

The contents of the custom {{incode|boxpresets.csv}} file must be modeled upon the same rules as the [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/boxpresets.csv boxpresets.csv] in the '''Cables Workbench''' source code. The file is self descriptive and can be used as a template for own Presets creation.

The custom {{incode|boxpresets.csv}} file can be modified without restarting FreeCAD. Any changes made there are immediately visible in the list of Presets when making a new Cable Box from the GUI.

==Notes==

* The [[Cables_SuppLines|SuppLines]] objects have reversed relation with their '''Cable Box''' parent to avoid cyclic dependencies. They are shown as a children in the [[Tree_View|Tree View]] only for visual organization of objects. Undesirable consequence: when the '''Cable Box''' is copied, all its child SuppLines objects must always be manually copied with it.
*'''Helper Rings''' are hidden by default. They can be easily changed by setting the [[#Data|{{PropertyData|Helper Rings Hidden}}]] property.

[[Cables_SuppLines|SuppLines]] child object is created automatically, its shape and placement is controlled by '''Cable Box'''.

==Properties==

A '''Cable Box''' object shares the common properties and behaviors of all [[Arch_Component|Arch Components]].

===Data===

{{TitleProperty|Component}}

Some most frequently used properties from the group are described here. The rest is available at [[Arch_Component#Data|Arch Component]]

* {{PropertyData|Base|Link}}: An external shape of any [[Part_Workbench|Shape]]-based base object can be used here. This will replace the default method of shape creaction and an external shape will be used. '''Number Of Supp Lines''' parameter becomes visible and can be changed if Base property is not None. Note: the SuppLines shape is still created upon properties from Cable Box group.

* {{PropertyData|Material|Link}}: A [[Arch SetMaterial|Material]] or a [[Arch_MultiMaterial|MultiMaterial]] can be attached here. The special predefined MultiMaterial {{Value|boxMultiMat2m}} is avalilable in [[Cables_Material|Cables Material]]. It can be used if DIN rails are available in Cable Box object.

{{TitleProperty|Cable Box}}

* {{PropertyData|Box Body Hidden|Bool}}: If set to {{Value|true}} the box shape is hidden to make it easier to edit wires inside a box (with possible help of helper rings). It should be set to {{Value|false}} when wires editing is finished or not needed.
* {{PropertyData|Depth|Length}}: Specifies the inner depth of the box. The default depth is 74 mm. Available if '''Profile Type''' property = {{Value|Rectangle}}.
* {{PropertyData|Diameter|Length}}: Specifies the inner diameter of the box. The default diameter is 60 mm. Available if '''Profile Type''' property = {{Value|Circle}}.
* {{PropertyData|Din Rails|Bool}}: If set to {{Value|true}} the [https://en.wikipedia.org/wiki/DIN_rail DIN TH35 rail] is added automatically to box body depending on box shape and dimensions. The rail is placed 50 mmm below the top of the box, the distance between rails is set to 125 mm. The cable box has to be big enough to allow auto creation of DIN rails. The default value is {{Value|true}}. Created only if '''Profile Type''' property = {{Value|Rectangle}}.
* {{PropertyData|Fillet Radius|Length}}: Specifies the inner fillet radius diameter of side walls of the box. The default fillet radius is 10 mm. Available if '''Profile Type''' property = {{Value|Rectangle}}.
* {{PropertyData|Height|Length}}: Specifies the inner height of the box. The default height is 62 mm.
* {{PropertyData|Hole Diameter|Length}}: Specifies the diameter of a single hole. The default hole diameter is 20 mm.
* {{PropertyData|Holes Distance|Length}}: Specifies the distance between holes on a single wall. The default holes distance is 40 mm. Available if '''Profile Type''' property = {{Value|Rectangle}}.
* {{PropertyData|Number Of Supp Lines|Integer}}: (hidden by default) Specifies the number of a SuppLines child objects. The default value is 1.
* {{PropertyData|Preset|Enumeration}}: Specifies the predefined set of parameters for Cable Box. The default preset is {{Value|1G_FlushMnt_Round_D60_h62}}.
* {{PropertyData|Profile Type|Enumeration}}: Specifies the type of bas profile for box shape. Available values: {{Value|Circle}}, {{Value|Rectangle}}. Some other properties are dependent on this one and are visible if needed.
* {{PropertyData|Thickness|Length}}: Specifies the wall thickness of the box. The default thickness is 2 mm.
* {{PropertyData|Width|Length}}: Specifies the inner width of the box. The default width is 74 mm. Available if '''Profile Type''' property = {{Value|Rectangle}}.

{{TitleProperty|Cable Box Helpers}}

* {{PropertyData|Helper Rings Hidden|Bool}}: If set to {{Value|false}} the helper rings are visible. The default value is {{Value|true}}. Helper rings are designed to make it easier to edit wires inside a box. Helper ring vertexes can serve as temporary snapping points for cable subwires when subwires are in [[Cables_Edit|Cables Edit]] mode. This property can be set to {{Value|true}} when wires editing is finished or not needed.
* {{PropertyData|Ring 1 Diameter|Length}}: the diameter of helper ring 1. The default value is 45 mm.
* {{PropertyData|Ring 1 Height|Length}}: the helper ring 1 height below the box lid (top open box edge). The default value is 40 mm.
* {{PropertyData|Ring 2 Diameter|Length}}: the diameter of helper ring 2. The default value is 30 mm.
* {{PropertyData|Ring 2 Height|Length}}: the helper ring 2 height below the box lid (top open box edge). The default value is 20 mm.

==Typical workflow==

This workflow shows how to build a box with a cable attached and with one subwire of cable shaped inside a box.

# Create a '''Cable Box''' as described in [[#Usage|Usage]] and set its '''Helper Rings Hidden''' property to {{Value|false}}.
# Create '''Cable''' as described in [[Cables_Cable#Usage| Cable Usage]] with one end of a base wire attached to central vertex of one of '''Cable Box''' [[Cables_SuppLines|SuppLines]] crosses.
# Hide '''Cable''' shape in a [[Tree_View|Tree View]] e.g. by pressing {{KEY|SPACE}} key. The cable subwires should be still visible.
# Hide the '''Cable Box''' shape by setting the property '''Box Body Hidden''' to {{Value|true}}. The SuppLines crosses and helper rings should be still visible.
# Click on the free end edge of one of cable subwires and add a vertex to it with [[Cables_AddVertex|Add Vertex]]. Repeat the action.
# Double click the above subwire in a [[Tree_View|Tree View]] to enter [[Cables_Edit|Cables Edit]] mode. [[Draft_Snap_Endpoint|Snap Endpoint]] should be enabled.
# Drag the newly created wire vertexes to different vertexes of helper rings. They should easily snap. Exit [[Cables_Edit|Cables Edit]] mode.
# When the desired shape of the subwire has been built, the '''Sub Wires Fillet Radius''' property of a '''Cable''' can be set e.g. to 4mm.
# Unhide '''Cable''' shape in a [[Tree_View|Tree View]] e.g. by pressing {{KEY|SPACE}} key.
# Unide the '''Cable Box''' shape by setting the property '''Box Body Hidden''' to {{Value|false}}.
# Hide the helper rings shape by setting the '''Helper Rings Hidden''' property to {{Value|true}} in the '''Cable Box'''.

Note: At any time during subwire editing in the [[Cables_Edit|Cables Edit]] mode the height or diameter of helper ring can be changed. This can be helpful in creating new temporary reference points.

[[Image:Cables_CableBox_Example2_static.png]]
{{Caption|Example of cable subwire shaped inside Cable Box.}}

[[Cables_Example3_CableBox|Here]] is the animated image showing the steps described above.


{{Docnav
|[[Cables_CableConduit|CableConduit]]
|[[Cables_CableConnector|CableConnector]]
|[[Cables_Workbench|Cables]]
|IconL=Cables_CableConduit.svg
|IconR=Cables_CableConnector.svg
|IconC=Cables_workbench_icon.svg
}}

[[Category:External_Command_Reference{{#translation:}}]]
[[Category:Cables{{#translation:}}]]