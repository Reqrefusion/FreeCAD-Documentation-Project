<languages/>

{{Docnav/fr
|[[Cables_CableLightPoint/fr|Source lumineuse]]
|[[Cables_Material/fr|Matériau]]
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableLightPoint.svg
|IconR=Cables_Material.svg
|IconC=Cables_workbench_icon.svg
}}

{{GuiCommand/fr
|Name=Cables ElectricalDevice
|Name/fr=Cables Dispositif électrique
|MenuLocation=Cables → Electrical Device
|Workbenches=[[Cables_Workbench/fr|Cables]]
|Shortcut={{KEY|C}} {{KEY|E}}
|Version=0.3.0
|SeeAlso=[[Cables_Cable/fr|Cables Câble]], [[Cables_CableBox/fr|Cables Boîte à câbles]], [[Cables_CableTerminal/fr|Cables Terminaison de câble]], [[Cables_SuppLines/fr|Cables SuppLines]]
}}

==Description==

Le [[Image:Cables_ElectricalDevice.svg|24px]] [[Cables_ElectricalDevice/fr|Dispositif électrique]] représente un modèle de tout [https://en.wikipedia.org/wiki/Electrical_device appareil électrique] pouvant être connecté directement par câble. Sa forme peut être sélectionnée dans la liste [[#Données|{{PropertyData|Preset}}]] lors de sa création. Seul un type de forme non paramétrique est disponible. Il est appelé « Fixe ».

Le type de forme « Fixe » crée un objet périphérique non paramétrique dont la forme est tirée d'un fichier [https://fr.wikipedia.org/wiki/Standard_pour_l%27%C3%A9change_de_donn%C3%A9es_de_produit STEP] externe. Plusieurs modèles de périphériques STEP prédéfinis sont fournis avec l'atelier Cables. De plus, l'utilisateur peut créer sa propre bibliothèque de périphériques, comme décrit dans [[#Préréglages_des_dispositifs_électriques|Préréglages des dispositifs électriques]]. En plus de la forme, un certain nombre de [[Cables_CableTerminal/fr|terminaisons]] sont créés avec une taille et une position prédéfinies correspondant aux points de connexion. De plus, un ou plusieurs objets [[Cables_SuppLines/fr|SuppLines]] peuvent être créés pour former la base du câble entrant dans le dispositif.

Le '''Dispositif électrique''' appartient à la classe [[Arch_Component/fr|Arch Composant]] et hérite de toutes ses propriétés.

L'objet '''Dispositif électrique''' peut être coloré en attribuant le matériau souhaité [[Arch_SetMaterial/fr|matétiau]] à la propriété '''Material'''. Les [[Arch_MultiMaterial/fr|multi-matériaux]] sont également pris en charge. Ils peuvent être utilisés pour modifier les couleurs d'origine du connecteur et les remplacer par celles définies dans la composition multi-matériaux. Important : le nombre de couleurs dans le multi-matériaux doit correspondre au nombre de couleurs d'origine du connecteur.

[[File:Cables_ElectricalDevice_Example1.png]]
{{Caption|Exemple d'appareil électrique (disjoncteur miniature unipolaire) : deux [[Cables_CableTerminal/fr|terminaisons]] rouges sont placées de part et d'autre du boîtier de l'appareil.}}

<span id="Usage"></span>
==Utilisation==

# Sélectionnez le sommet, le point sur la surface ou l'objet dans la [[3D_View/fr|vue 3D]] ou ne rien sélectionner.
# Créez un dispositif électrique à l'aide de l'une des méthodes suivantes :
#* Appuyez sur le bouton {{Button|[[Image:Cables_ElectricalDevice.svg|16px]] [[Cables_ElectricalDevice/fr|Electrical Device]]}}.
#* Sélectionnez l'option {{MenuCommand|Câbles → [[Image:Cables_ElectricalDevice.svg|16px]] Electrical Device}} du menu.
#* Cliquez avec le bouton droit dans l'[[Tree_View/fr|arborescence]] ou la [[3D_View/fr|vue 3D]] et sélectionnez l'option {{MenuCommand|Câbles → [[Image:Cables_ElectricalDevice.svg|16px]] Electrical Device}} dans le menu contextuel.
#* Utilisez le raccourci clavier : {{KEY|C}} puis {{KEY|E}}.
# Le panneau de tâches {{MenuCommand|Electrical Device}} s'ouvre. Voir [[#Options|Options]] pour plus d'informations.

Une fois créé, le dispositif électrique est placé à la position du sommet, du point ou de l'objet sélectionné dans l'espace 3D (ou au point (0,0,0) si rien n'a été sélectionné).

==Options==

Le préréglage du '''dispositif électrique''' disponible dans le panneau des tâches peut être modifié. Le préréglage sélectionné est immédiatement visible dans la [[3D_View/fr|vue 3D]].

Actuellement, le panneau des tâches n'affiche aucune option supplémentaire lorsque le préréglage spécial « Personnalisé » est sélectionné.

<span id="Electrical_Device_presets"></span>
===Préréglages des dispositifs électriques===

L'atelier Cables est livré avec plusieurs formes prédéfinies. Cependant, l'utilisateur n'est pas limité à l'utilisation de l'ensemble par défaut.

Un fichier CSV supplémentaire peut être créé par l'utilisateur, contenant des définitions personnalisées de préréglages du dispositif électrique. Il doit être nommé {{FileName|devicepresets.csv}} et placé dans :

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/
}}

{{incode|$FREECAD_USER_DIR}} peut être obtenu à partir de la [[Python_console/fr|console Python]] :

{{Code|code=
FreeCAD.getUserAppDataDir()
}}

Le contenu du fichier personnalisé {{FileName|devicepresets.csv}} doit être modélisé selon les mêmes règles que le fichier [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/devicepresets.csv devicepresets.csv] dans le code source de l''''atelier Cables'''. Le fichier est explicite et peut être utilisé comme modèle pour créer vos propres préréglages.

Le fichier personnalisé {{FileName|devicepresets.csv}} peut être modifié sans redémarrer FreeCAD. Toute modification apportée à ce fichier est immédiatement visible dans la liste des préréglages lorsque vous créez un nouveau dispositif électrique à partir de l'interface graphique.

Actuellement, le fichier {{FileName|devicepresets.csv}} ne peut contenir qu'un seul type de préréglage : [[#Type_de_préréglage_fixé|Type de préréglage fixé]].

<span id="Fixed_PresetType"></span>
====Type de préréglage fixé====

La définition de ce type est plus complexe que la précédente. La ligne prédéfinie dans le fichier {{FileName|devicepresets.csv}} définit, entre autres paramètres, les noms de deux fichiers prédéfinis supplémentaires :
* Fichier STEP avec la forme et les couleurs du dispositif. Le nom de ce fichier doit être indiqué directement (exemple de fichier : [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Dummy_Dummy.step Dummy_Dummy.step])<sup>[[#STEP_Source|[1]]]</sup>.

* Fichier CSV contenant les emplacements du corps du connecteur, les paramètres de tous les [[Cables_CableTerminal/fr|terminaisons]] et [[Cables_SuppLines/fr|SuppLines]] connectés. Le nom de ce fichier est constitué de la concaténation des champs ''DeviceClass'' et ''Name''  (exemple de fichier : [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Device_Dummy.csv Device_Dummy.csv]).

Ces deux fichiers supplémentaires (STEP et CSV) doivent être placés dans :

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/lib
}}

En fait, le logiciel recherchera ces fichiers à un autre emplacement (qui doit être considéré comme en lecture seule) :

{{Code|lang=text|code=
$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/
}}

Il est donc possible de définir des dispositif similaires avec la même définition STEP, mais avec un nombre différent de terminaisons ou un emplacement différent si nécessaire.

<div class="mw-collapsible mw-collapsed toccolours">

<span id="More_details_about_fixed_PresetType_in_devicepresets.csv_file"></span>
=====Plus de détails sur le type de préréglage fixé dans le fichier devicepresets.csv=====

<div class="mw-collapsible-content">

La ligne de préréglage unique du fichier {{FileName|devicepresets.csv}} contient plusieurs informations destinées au logiciel qui analyse ce fichier. Pour une description précise, voir [[Cables_CableConnector/fr#Plus_de_détails_sur_le_type_de_préréglage_fixé_dans_le_fichier_connectorpresets.csv|CableConnector Plus de détails sur le type de préréglage fixe dans le fichier connectorpresets.csv]], où les mêmes règles que celles décrites ici s'appliquent. 

</div> <!-- End of collapsible element for More details... section. Do not remove! -->
</div> <!-- End of collapsible element for More details... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Example_of_fixed_PresetType"></span>
=====Exemple de type de préréglage fixé=====

<div class="mw-collapsible-content">

Le préréglage {{Value|Connector_Dummy}} peut servir de modèle et d'exemple :

La ligne de définition de préréglage se trouve dans le fichier [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/devicepresets.csv devicepresets.csv] :

{{Code|lang=text|code=Dummy,Fixed,Device,Dummy_Dummy.step,2,2}}

Où les champs représentent ce qui suit :

{{Code|lang=text|code=Name,Fixed,DeviceClass,StepFileName,NrOfTerminals,NrOfSuppLines}}

Il découle de la définition ci-dessus que les fichiers {{FileName|Dummy_Dummy.step}} et {{FileName|Connector_Dummy.csv}} (nom de fichier créé à partir de ''DeviceClass_Name.csv'') doivent être présents dans l'un des dossiers mentionnés ci-dessus.

Après vérification, les fichiers {{FileName|Dummy_Dummy.step}} et {{incode|Device_Dummy.csv}} se trouvent dans {{incode|$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/}}.

Grâce aux définitions contenues dans ces trois fichiers, il est possible de créer un nouveau '''dispositif électrique''' avec deux '''terminaisons de câble''' et deux '''SuppLines'''.

</div> <!-- End of collapsible element for Example... section. Do not remove! -->
</div> <!-- End of collapsible element for Example... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="STEP_file"></span>
=====Fichier STEP=====

<div class="mw-collapsible-content">

Depuis la version 0.3.2 de l'[[Cables_Workbench/fr|atelier Cables]], tout fichier STEP correctement créé devrait se charger dans le connecteur sans erreur. Cela inclut les fichiers STEP multiformes et les fichiers STEP sans couleur définie.

<div lang="en" dir="ltr" class="mw-content-ltr">
In case of problems see [[Cables_CableConnector#STEP_File|CableConnector STEP File]] for which the same rules apply as here.
</div>

</div> <!-- End of collapsible element for STEP file section. Do not remove! -->
</div> <!-- End of collapsible element for STEP file section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="STEP_source"></span>
=====Source STEP=====

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
Each STEP file from predefined preset has also its source file attached (example: [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Dummy_Dummy.FCStd Dummy_Dummy.FCStd]). Inside each source file there is information on how to correctly generate a STEP file with colors from the source shape. These source files can be used as a base for creating shapes for new devices.
</div>

</div> <!-- End of collapsible element for STEP Source section. Do not remove! -->
</div> <!-- End of collapsible element for STEP Source section. Do not remove! -->

<span id="Notes"></span>
==Remarques==

<div lang="en" dir="ltr" class="mw-content-ltr">
* The [[Cables_CableTerminal|CableTerminal]] and [[Cables_SuppLines|SuppLines]] objects have reversed relation with their '''Electrical Device''' parent to avoid cyclic dependencies. They are shown as a children in the [[Tree_View|Tree View]] only for visual organization of objects. Undesirable consequence: when the '''Electrical Device''' is copied, all its child CableTerminal and SuppLines objects must always be manually copied with it.
* [[Cables_SuppLines|SuppLines]] or [[Cables_CableTerminal|CableTerminal]] child objects are created automatically depending on '''Preset''', their shape and placement are controlled by '''Electrical Device'''.
</div>

<span id="Properties"></span>
==Propriétés==

<div lang="en" dir="ltr" class="mw-content-ltr">
An '''Electrical Device''' object shares the common properties and behaviors of all [[Arch_Component|Arch Components]].
</div>

<span id="Data"></span>
===Données===

{{TitleProperty|Component}}

Certaines des propriétés les plus fréquemment utilisées du groupe sont décrites ici. Les autres sont disponibles dans [[Arch_Component/fr#Données|Arch Composant]].

* {{PropertyData|Base|Link}} : une forme externe de tout objet de base basé sur [[Part_Workbench/fr|Shape]] peut être utilisée ici. Cela remplacera la méthode par défaut de création de forme et une forme externe sera utilisée. Les paramètres '''Number Of Terminals''' et '''Number Of Supp Lines''' deviennent visibles et peuvent être modifiés si la propriété Base n'est pas None.

{{TitleProperty|Electrical Device}}

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Number Of Supp Lines|Integer}}: (hidden by default) Specifies the number of a [[Cables_SuppLines|SuppLines]] child objects. The default value is 0.
* {{PropertyData|Number Of Terminals|Integer}}: (hidden by default) Specifies the number of a [[Cables_CableTerminal|CableTerminal]] child objects. The default value is 1.
* {{PropertyData|Preset|Enumeration}}: Specifies the predefined set of parameters for Electrical Device. The default preset is {{Value|MCB_1-Pole}}.
</div>

<span id="Tutorials"></span>
==Tutoriels==

<div lang="en" dir="ltr" class="mw-content-ltr">
* [[Cables_Create_Custom_Connector|Cables Create Custom Connector]] describes the creation of a connector with a [[#Fixed_PresetType|Fixed PresetType]]. The creation of a custom '''ElectricalDevice''' is very similar.
** In the step [[Cables_Create_Custom_Connector#Main_presets_file|Main presets file]] instead of {{FileName|connectorpresets.csv}} the [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/devicepresets.csv devicepresets.csv] should be used.
** In the step [[Cables_Create_Custom_Connector#CSV_description_file_for_STEP_file|CSV description file for STEP file]] instead of {{FileName|Connector_Dummy.csv}} the [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Device_Dummy.csv Device_Dummy.csv] should be used.
</div>

<span id="Typical_workflow"></span>
== Flux de travail typique ==

<div lang="en" dir="ltr" class="mw-content-ltr">
The way of building a '''Electrical Device''' is very similar to the [[Cables_CableBox#Typical workflow|Cable Box Typical workflow]] or [[Cables_CableConnector#Typical workflow|Cable Connector Typical workflow]]
</div>


{{Docnav/fr
|[[Cables_CableLightPoint/fr|Source lumineuse]]
|[[Cables_Material/fr|Matériau]]
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableLightPoint.svg
|IconR=Cables_Material.svg
|IconC=Cables_workbench_icon.svg
}}

[[Category:External_Command_Reference{{#translation:}}]]
[[Category:Cables{{#translation:}}]]