<languages/>

{{Docnav/fr
|[[Cables_CableLightPoint/fr|Source lumineuse]]
|[[Cables_Material/fr|Matériau]]
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableLightPoint.svg
|IconR=Cables_Material.svg
|IconC=Cables_workbench_icon.svg
}}

{{GuiCommand/fr
|Name=Cables ElectricalDevice
|Name/fr=Cables Dispositif électrique
|MenuLocation=Cables → Electrical Device
|Workbenches=[[Cables_Workbench/fr|Cables]]
|Shortcut={{KEY|C}} {{KEY|E}}
|Version=0.3.0
|SeeAlso=[[Cables_Cable/fr|Cables Câble]], [[Cables_CableBox/fr|Cables Boîte à câbles]], [[Cables_CableTerminal/fr|Cables Terminaison de câble]], [[Cables_SuppLines/fr|Cables SuppLines]]
}}

==Description==

Le [[Image:Cables_ElectricalDevice.svg|24px]] [[Cables_ElectricalDevice/fr|Dispositif électrique]] représente un modèle de tout [https://en.wikipedia.org/wiki/Electrical_device appareil électrique] pouvant être connecté directement par câble. Sa forme peut être sélectionnée dans la liste [[#Données|{{PropertyData|Preset}}]] lors de sa création. Seul un type de forme non paramétrique est disponible. Il est appelé « Fixe ».

<div lang="en" dir="ltr" class="mw-content-ltr">
The 'Fixed' shape type creates non parametric device object with a shape taken from external [https://en.wikipedia.org/wiki/ISO_10303 STEP] file. There are a few predefined STEP device models shipped together with Cables Workbench. Moreover, the user can create their own device library, this is described in [[#Electrical Device Presets|Electrical Device Presets]]. In addition to the shape the certain number of [[Cables_CableTerminal|CableTerminal]]s are created with predefined size and position corresponding to connection points. Additionally one or more [[Cables_SuppLines|SuppLines]] objects can be created forming the basis for the cable entering the device.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The '''Electrical Device''' belongs to the [[Arch_Component|Arch Component]] class and inherits all of its properties.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Electrical Device''' object can be colored by attaching desired [[Arch_SetMaterial|Material]] to the '''Material''' property. [[Arch_MultiMaterial|MultiMaterial]] is also supported. It can be used to change the original device colors to those defined in the multimaterial composition. Important: the number of colors in the multimaterial must match the number of original colors of the device.
</div>

[[File:Cables_ElectricalDevice_Example1.png]]
<div lang="en" dir="ltr" class="mw-content-ltr">
{{Caption|Example of the Electrical Device (Miniature Circuit Breaker 1-Pole):<br/>There are two red [[Cables_CableTerminal|CableTerminal]]s positioned on both sides of a device body.}}
</div>

<span id="Usage"></span>
==Utilisation==

<div lang="en" dir="ltr" class="mw-content-ltr">
# Select the vertex, point on surface or object in the [[3D_View|3D View]] or select nothing.
# Create Electrical Device by one of these methods:
#* Press the {{Button|[[Image:Cables_ElectricalDevice.svg|16px]] [[Cables_ElectricalDevice|Electrical Device]]}} button.
#* Select the {{MenuCommand|Cables → [[Image:Cables_ElectricalDevice.svg|16px]] Electrical Device}} option from the menu.
#* Right-click in the [[Tree_View|Tree View]] or the [[3D_View|3D View]] and select the {{MenuCommand|Cables → [[Image:Cables_ElectricalDevice.svg|16px]] Electrical Device}} option from the context menu.
#* Use the keyboard shortcut: {{KEY|C}} then {{KEY|E}}.
# The {{MenuCommand|Electrical Device}} task panel opens. See [[#Options|Options]] for more information.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Once created the Electrical Device is placed at the position of selected vertex, point or object in the 3D space (or at the point (0,0,0) if nothing was selected).
</div>

==Options==

<div lang="en" dir="ltr" class="mw-content-ltr">
The '''Electrical Device''' preset available in the task panel can be changed. The currently selected preset is immediately visible in the [[3D_View|3D View]].
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Currently the task panel doesn't show any additional options when the special 'Customized' preset is selected.
</div>

<span id="Electrical_Device_presets"></span>
===Préréglages des dispositifs électriques===

<div lang="en" dir="ltr" class="mw-content-ltr">
Cables Workbench comes with several predefined shapes. However, the user is not limited to using the default set.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An additional CSV file can be created by the user, containing custom Electrical Device Preset definitions. It must be named {{FileName|devicepresets.csv}}, and placed in:
</div>

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
The {{incode|$FREECAD_USER_DIR}} can be obtained from the [[Python_Console|Python Console]]:
</div>

{{Code|code=
FreeCAD.getUserAppDataDir()
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
The contents of the custom {{FileName|devicepresets.csv}} file must be modeled upon the same rules as the [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/devicepresets.csv devicepresets.csv] in the '''Cables Workbench''' source code. The file is self descriptive and can be used as a template to create custom Presets.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The custom {{FileName|devicepresets.csv}} file can be modified without restarting FreeCAD. Any changes made there are immediately visible in the list of Presets when making a new Electrical Device from the GUI.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Currently the {{FileName|devicepresets.csv}} can contain only one preset type: [[#Fixed PresetType|Fixed PresetType]].
</div>

<span id="Fixed_PresetType"></span>
====Type de préréglage fixé====

<div lang="en" dir="ltr" class="mw-content-ltr">
The definition of this type needs two additional files. The line in the {{FileName|devicepresets.csv}} file among other parameters defines names of these two additional preset files:
* STEP file with the shape and colors of the device. The name of this file has to be put directly (file example: [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Dummy_Dummy.step Dummy_Dummy.step])<sup>[[#STEP_Source|[1]]]</sup>.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* CSV file with placements of the device body, parameters for all attached [[Cables_CableTerminal|CableTerminal]]s and [[Cables_SuppLines|SuppLines]]. The name of this file is made from concatenation of ''DeviceClass'' and ''Name'' fields (file example: [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Device_Dummy.csv Device_Dummy.csv]).
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
This two additional files (STEP and CSV) have to be placed in the:
</div>

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/lib
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
In fact the software will look for these files in one more place (which should be treated as read only):
</div>

{{Code|lang=text|code=
$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
So it is possible to define similar devices with the same STEP definition but different number of Terminals or their placement if needed.
</div>

<div class="mw-collapsible mw-collapsed toccolours">

<span id="More_details_about_fixed_PresetType_in_devicepresets.csv_file"></span>
=====Plus de détails sur le type de préréglage fixé dans le fichier devicepresets.csv=====

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
The single preset line of {{FileName|devicepresets.csv}} contains several information for the software analyzing this file. For precise description, see [[Cables_CableConnector#More_details_about_Fixed_PresetType_in_connectorpresets.csv_file|CableConnector More details about Fixed PresetType in connectorpresets.csv file]], where the same rules as here are applied.
</div> 

</div> <!-- End of collapsible element for More details... section. Do not remove! -->
</div> <!-- End of collapsible element for More details... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<div lang="en" dir="ltr" class="mw-content-ltr">
=====Example of fixed PresetType=====
</div>

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
As a template and example the {{Value|Device_Dummy}} preset can be taken:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The preset definition line is in the file [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/devicepresets.csv devicepresets.csv]:
</div>

{{Code|lang=text|code=Dummy,Fixed,Device,Dummy_Dummy.step,2,2}}

<div lang="en" dir="ltr" class="mw-content-ltr">
Where the fields represent the following:
</div>

{{Code|lang=text|code=Name,Fixed,DeviceClass,StepFileName,NrOfTerminals,NrOfSuppLines}}

<div lang="en" dir="ltr" class="mw-content-ltr">
From the above definition it follows that the file {{incode|Dummy_Dummy.step}} and {{incode|Device_Dummy.csv}} (filename built from ''DeviceClass_Name.csv'') have to be present in one of the folders mentioned above.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
After checking, the {{incode|Dummy_Dummy.step}} and {{incode|Device_Dummy.csv}} files can be found in {{incode|$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/}}.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
As a result of definitions from these three files the new '''Electrical Device''' with two '''CableTerminal'''s and two '''SuppLines''' can be created.
</div>

</div> <!-- End of collapsible element for Example... section. Do not remove! -->
</div> <!-- End of collapsible element for Example... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<div lang="en" dir="ltr" class="mw-content-ltr">
=====STEP file=====
</div>

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
Since [[Cables_Workbench|Cables Workbench]] <span style="color:blue;">version 0.3.2</span> any of properly made STEP file should load into connector without errors. This includes multishape STEP files and STEP files without color defined.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
In case of problems see [[Cables_CableConnector#STEP_File|CableConnector STEP File]] for which the same rules apply as here.
</div>

</div> <!-- End of collapsible element for STEP file section. Do not remove! -->
</div> <!-- End of collapsible element for STEP file section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<div lang="en" dir="ltr" class="mw-content-ltr">
=====STEP source=====
</div>

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
Each STEP file from predefined preset has also its source file attached (example: [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Dummy_Dummy.FCStd Dummy_Dummy.FCStd]). Inside each source file there is information on how to correctly generate a STEP file with colors from the source shape. These source files can be used as a base for creating shapes for new devices.
</div>

</div> <!-- End of collapsible element for STEP Source section. Do not remove! -->
</div> <!-- End of collapsible element for STEP Source section. Do not remove! -->

<div lang="en" dir="ltr" class="mw-content-ltr">
==Notes==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* The [[Cables_CableTerminal|CableTerminal]] and [[Cables_SuppLines|SuppLines]] objects have reversed relation with their '''Electrical Device''' parent to avoid cyclic dependencies. They are shown as a children in the [[Tree_View|Tree View]] only for visual organization of objects. Undesirable consequence: when the '''Electrical Device''' is copied, all its child CableTerminal and SuppLines objects must always be manually copied with it.
* [[Cables_SuppLines|SuppLines]] or [[Cables_CableTerminal|CableTerminal]] child objects are created automatically depending on '''Preset''', their shape and placement are controlled by '''Electrical Device'''.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Properties==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An '''Electrical Device''' object shares the common properties and behaviors of all [[Arch_Component|Arch Components]].
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
===Data===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{TitleProperty|Component}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Some most frequently used properties from the group are described here. The rest is available at [[Arch_Component#Data|Arch Component]]
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Base|Link}}: An external shape of any [[Part_Workbench|Shape]]-based base object can be used here. This will replace the default method of shape creaction and an external shape will be used. '''Number Of Terminals''' and '''Number Of Supp Lines''' parameters become visible and can be changed if Base property is not None.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{TitleProperty|Electrical Device}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Number Of Supp Lines|Integer}}: (hidden by default) Specifies the number of a [[Cables_SuppLines|SuppLines]] child objects. The default value is 0.
* {{PropertyData|Number Of Terminals|Integer}}: (hidden by default) Specifies the number of a [[Cables_CableTerminal|CableTerminal]] child objects. The default value is 1.
* {{PropertyData|Preset|Enumeration}}: Specifies the predefined set of parameters for Electrical Device. The default preset is {{Value|MCB_1-Pole}}.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Tutorials==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* [[Cables_Create_Custom_Connector|Cables Create Custom Connector]] describes the creation of a connector with a [[#Fixed_PresetType|Fixed PresetType]]. The creation of a custom '''ElectricalDevice''' is very similar.
** In the step [[Cables_Create_Custom_Connector#Main_presets_file|Main presets file]] instead of {{FileName|connectorpresets.csv}} the [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/devicepresets.csv devicepresets.csv] should be used.
** In the step [[Cables_Create_Custom_Connector#CSV_description_file_for_STEP_file|CSV description file for STEP file]] instead of {{FileName|Connector_Dummy.csv}} the [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Device_Dummy.csv Device_Dummy.csv] should be used.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Typical workflow==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The way of building a '''Electrical Device''' is very similar to the [[Cables_CableBox#Typical workflow|Cable Box Typical workflow]] or [[Cables_CableConnector#Typical workflow|Cable Connector Typical workflow]]
</div>


{{Docnav/fr
|[[Cables_CableLightPoint/fr|Source lumineuse]]
|[[Cables_Material/fr|Matériau]]
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableLightPoint.svg
|IconR=Cables_Material.svg
|IconC=Cables_workbench_icon.svg
}}

[[Category:External_Command_Reference{{#translation:}}]]
[[Category:Cables{{#translation:}}]]