<languages/>

{{Docnav/fr
|[[BIM_Layers/fr|Calques]]
|[[Arch_Schedule/fr|Nomenclature]]
|[[BIM_Workbench/fr|Atelier BIM]]
|IconL=BIM_Layers.svg
|IconR=Arch_Schedule.svg
|IconC=Workbench_BIM.svg
}}

{{GuiCommand/fr
|Name=BIM Material
|Name/fr=BIM Matériau
|MenuLocation=Gestion → Gérer les matériaux
|Workbenches=[[BIM_Workbench/fr|BIM]]
}}

==Description==

Affiche la fenêtre de dialogue '''BIM matériau'''. Cette fenêtre de dialogue permet d'effectuer rapidement et facilement des opérations liées aux matériaux, en mettant l'accent sur l'efficacité du travail avec de nombreux objets et de nombreux matériaux.

# Créer un nouveau [[Arch_SetMaterial/fr|matériau]] ou [[Arch_MultiMaterial/fr|multi-matériau]].
# Attribuer un matériau ou un multimatériau existant à un ou plusieurs objets sélectionnés.

[[File:BIM_Material_Manager.png]]
{{Caption|Le gestionnaire des matériaux BIM}}

<span id="Usage"></span>
==Utilisation==

# Vous pouvez sélectionner un ou plusieurs objets BIM dont vous souhaitez modifier la propriété [[Arch_Component/fr#Données|{{PropertyData|Material}}]]. Les objets ne disposant pas de cette propriété peuvent également être sélectionnés, mais seront ignorés.
# Appuyez sur le bouton {{Button|[[Image:BIM_Material.svg|16px]] [[BIM_Material/fr|Matériau]]}} dans la barre d'outils.
# L'une des situations suivantes se produit :
#* S'il n'y a pas de matériau dans le document actif :
#*# La boîte de dialogue Gestionnaire de matériaux ne s'affiche pas. À la place, l'outil [[Arch_SetMaterial/fr|Arch Matériau]] est lancé pour créer un matériau.
#*# Si des objets ont été sélectionnés, le matériau créé leur est attribué si possible.
#* S'il y a au moins un matériau ou un multi-matériau dans le document actif :
#*# La boîte de dialogue Gestionnaire de matériaux s'ouvre. Voir [[#Outils_de_gestion_des_matériaux|Outils de gestion des matériaux]].
#*# Vous pouvez éventuellement sélectionner un matériau ou un multi-matériau dans la liste.
#*# Appuyez sur le bouton {{Button|OK}}.
#*# Si des objets ont été sélectionnés, le matériau sélectionné leur est attribué si possible.

<span id="Material_Manager_tools"></span>
==Outils de gestion des matériaux==

Le gestionnaire des matériaux vous permet de :

[[File:BIM_Material_Manager_New.png|thumb|Le nouveau panneau de tâches Matériaux]]
[[File:BIM_Material_Manager_New_Multi.png|thumb|Le nouveau panneau de tâches Matériaux]]

* '''Rechercher des matériaux par nom''' : utilisez la boîte de recherche.
* '''Assigner un matériau aux objets sélectionnés''' : appuyez sur {{Button|OK}} avec un matériau sélectionné l'affectera aux objets sélectionnés.
* '''Créer un [[Arch_SetMaterial/fr|matériau]]''' : appuyez sur le bouton {{Button|Créer un nouveau matériau}}.
* '''Créer un [[Arch_MultiMaterial/fr|multi-matériau]]''' : cliquez sur le bouton {{Button|Créer un nouveau multi-matériau}}.
* '''Supprimer un matériau''' : sélectionnez un matériau et cliquez avec le bouton droit de la souris sur un matériau et choisissez « Supprimer ».
* '''Supprimer les matériaux inutilisés''' : cliquez sur le bouton {{Button|Supprimer les matériaux inutilisés}}. Tous les matériaux qui ne sont pas utilisés par un objet seront supprimés.
* '''Fusionner les matériaux en double''' : cliquez sur le bouton {{Button|Fusionner les doublons}}. Fusionne les matériaux ayant exactement le même nom (ex. Béton et Béton) ou exactement le même nom avec un suffixe numérique (ex. Béton et Béton001).
* '''Renommer un matériau''' : cliquez avec le bouton droit de la souris sur un matériau et choisissez « Renommer».
* '''Dupliquer un matériau''' : cliquez avec le bouton droit de la souris sur un matériau et choisissez « Dupliquer ». Cela créera une copie indépendante du matériau.
* '''Fusionner deux matériaux ensemble''' : faites un clic droit sur un matériau et choisissez « Fusionner vers... », puis sélectionnez un autre matériau. Le premier matériau sera supprimé et tous les objets qui utilisaient le premier matériau se verront attribuer le second.

<span id="New_material"></span>
=== Nouveau matériau ===

A définir

<span id="Material_properties"></span>
==== Propriétés des matériaux ====

Un objet Arch Material aura les propriétés suivantes :

<span id="Data"></span>
=== Données ===

{{Properties_Title|Material}}

* {{PropertyData|Description|String}} : description de ce matériau.
* {{PropertyData|Standard Code|String}} : code standard (MasterFormat, OmniClass, etc.).
* {{PropertyData|Product URL|String}} : URL où trouver des informations sur ce matériau.
* {{PropertyData|Transparency|Percent}} : valeur de transparence de ce matériau.
* {{PropertyData|Color|Color}} : couleur de ce matériau.
* {{PropertyData|Section Color|Color}} : couleur de ce matériau lorsqu'il est coupé.

<span id="New_multi-material"></span>
=== Nouveau multi-matériau ===

A définir

<span id="Relationship_between_BIM_and_Core_material_systems"></span>
== Relation entre les systèmes de matériaux Core et BIM ==

Depuis la version 1.0, FreeCAD contient deux systèmes distincts et parallèles pour la gestion des matériaux : un système historique, basé sur Python, principalement utilisé par l'atelier BIM, et un système moderne, basé sur C++, destiné à une utilisation globale dans n'importe quel atelier.

<span id="Core_material_system"></span>
=== Système de matériaux Core ===

* '''Architecture :''' ce système est conçu autour d'un modèle de bibliothèque centralisée. La définition principale d'un matériau est stockée en externe dans des fichiers (par exemple, au format {{FileName|.FCMat}}) situés dans des répertoires système ou spécifiques à l'utilisateur. L'[[Material_Workbench/fr|atelier Material]] documente ce système plus en détail.
* '''Liaison des données :''' lorsqu'un matériau est attribué à un objet, celui-ci ne stocke pas une copie complète des données du matériau. À la place, une propriété cachée nommée {{PropertyData|Shape Material}} est ajoutée à l'objet. Cette propriété contient un objet material complet en mémoire et, lors de l'enregistrement du document, elle sérialise soit une référence à un matériau de bibliothèque externe à l'aide de la propriété UUID de l'objet du matériau, soit elle intègre une copie complète des données du matériau s'il n'a pas de source externe.
* '''Flux de travail :''' cette approche garantit une source unique de vérité. Les mises à jour du fichier de bibliothèque central se répercutent sur tous les documents qui y sont liés. Cependant, cela signifie que la portabilité des documents peut être compromise si les bibliothèques de matériaux correspondantes ne sont pas présentes sur un autre système. Les matériaux eux-mêmes ne sont pas directement visibles en tant qu'objets dans l'arborescence du document.

<span id="BIM_material_system"></span>
=== Système de matériaux BIM ===

* '''Architecture :''' ce système est conçu autour d'un modèle centré sur les documents. Un matériau est un objet autonome au sein du document lui-même, une instance de {{Incode|App::MaterialObjectPython}}.
* '''Stockage des données :''' la définition complète du matériau, y compris ses propriétés telles que la couleur et la description, est stockée directement dans cet objet à l'intérieur du fichier {{FileName|.FCStd}}. Ces objets material sont visibles dans l'arborescence, regroupés dans un groupe « Materials ». Lorsqu'elle est attribuée, la propriété {{PropertyData|Material}} d'un objet contient un lien direct vers cet objet material dans le document.
* '''Flux de travail :''' cette approche garantit la portabilité des documents, car toutes les définitions des matériaux sont intégrées. Elle facilite également la recherche, car les matériaux utilisés dans un projet sont explicitement répertoriés dans l'arborescence. Cependant, elle peut entraîner une duplication des données et ne dispose pas d'un mécanisme permettant de mettre à jour de manière centralisée les matériaux dans plusieurs projets.

<span id="Point_of_interaction:_one-way_import"></span>
=== Point d'interaction : importation unidirectionnelle ===

Les deux systèmes ne présentent pas d'intégration profonde ou persistante. Leur interaction se limite à une importation de données unidirectionnelle initiée à partir du système BIM.

* '''Mécanisme :''' l'interface utilisateur de l'éditeur de matériaux BIM/Arch est capable d'analyser les répertoires contenant les fichiers de bibliothèque {{FileName|.FCMat}} du système Core. Elle présente ces matériaux externes à l'utilisateur sous forme de modèles disponibles dans le panneau des tâches de matériaux, lors du choix d'un préréglage.
* '''Procédure :''' lorsqu'un utilisateur sélectionne un matériau {{FileName|.FCMat}} dans cette liste, le système BIM effectue les actions suivantes :
# Il lit les données du fichier {{FileName|.FCMat}} sélectionné.
# Il utilise ces données pour remplir les champs d'un nouvel objet natif {{Incode|App::MaterialObjectPython}}.
# Ce nouvel objet est ensuite créé dans le document actif.

Une fois ce processus d'importation terminé, il n'y a plus aucun lien entre le matériau Arch/BIM créé et le fichier {{FileName|.FCMat}} d'origine. Il s'agit d'une copie unique des données à ce moment précis. Les modifications ultérieures apportées au matériau source dans la bibliothèque Core n'auront aucun effet sur les matériaux Arch/BIM qui ont été créés à partir de celui-ci.

<span id="Physical_vs._appearance_properties"></span>
=== Propriétés physiques vs propriétés d'apparence ===

Les systèmes de matériaux FreeCAD sont conçus en faisant la distinction entre les caractéristiques physiques d'un matériau et son apparence visuelle. Cependant, ces propriétés diffèrent considérablement entre le système de matériaux Core et l'ancien système BIM.

<span id="Core_material_system"></span>
==== Système de matériaux Core ====

Le système Core, basé sur C++, fournit un cadre extensible permettant de définir un large éventail de propriétés matérielles. Il est organisé en « modèles », qui sont des schémas regroupant des propriétés connexes.

* '''Propriétés physiques :''' elles définissent les caractéristiques techniques requises pour la simulation et l'analyse. Le système prend en charge de nombreux modèles, notamment : mécaniques (par exemple, {{Incode|Density}}, {{Incode|YoungsModulus}}, {{Incode|PoissonRatio}}), thermiques, électromagnétiques.
* '''Propriétés d'apparence :''' elles définissent l'aspect visuel du rendu. Plusieurs modèles de rendu sont pris en charge, définissant des propriétés telles que : {{Incode|DiffuseColor}}, {{Incode|SpecularColor}} {{Incode|Shininess}}, {{Incode|Transparency}}, les chemins d'accès aux images de texture et la mise à l'échelle.
* '''Extensibilité :''' l'architecture basée sur des modèles est conçue pour être extensible. Des ateliers complémentaires ou de futures versions de FreeCAD peuvent introduire de nouveaux modèles pour prendre en charge des domaines physiques supplémentaires ou des moteurs de rendu sans modifier le cadre de base.

<span id="BIM_material_system"></span>
==== Système de matériaux BIM ====

Ce système historique basé sur Python dispose d'un ensemble fixe et plus limité de propriétés, axées principalement sur la représentation visuelle et les métadonnées de base pour les flux de travail de BIM.

* '''Propriétés physiques :''' ce système ne dispose pas d'un concept formel de propriétés physiques pour l'analyse technique. Il ne gère pas les données telles que la densité ou le module d'Young.
* '''Propriétés d'apparence :''' les propriétés sont codées en dur et limitées à un ensemble de base nécessaire à la visualisation architecturale et aux métadonnées, composé de 6 propriétés : {{PropertyData|Color}}, {{PropertyData|Section Color}}, {{PropertyData|Transparency}} (apparence), {{PropertyData|Description}}, {{PropertyData|Standard Code}}, {{PropertyData|Product URL}} (métadonnées).
* '''Extensibilité :''' l'ensemble de propriétés est fixe dans le code Python et n'est pas conçu pour être étendu.

Cette distinction est essentielle : le système Core est nécessaire pour toute analyse technique (comme une analyse par éléments finis), tandis que le système BIM est conçu pour la visualisation architecturale et la compatibilité IFC.

<span id="Coexistence_and_interoperability_of_material_systems"></span>
=== Coexistence et interopérabilité des systèmes matériaux ===

Bien que l'objectif à long terme soit la migration complète de l'atelier BIM vers le système de matériaux Core, une période de transition nécessite de comprendre comment ils peuvent coexister sur un même objet.

<span id="Can_both_systems_be_assigned_to_one_object?"></span>
==== Les deux systèmes peuvent-ils être attribués à un seul objet ? ====

Il est techniquement possible d'attribuer un matériau provenant des deux systèmes au même objet (par exemple, un [[Arch_Wall/fr|Arch Mur]]). Les deux systèmes utilisent des propriétés différentes et non conflictuelles pour stocker leurs données :

* '''Système Core :''' utilise la propriété cachée {{PropertyData|Shape Material}}.
* '''Système BIM :''' utilise la propriété visible {{PropertyData|Material}}.

Un objet peut posséder ces deux propriétés simultanément.

<span id="Dual-assignment_workflow_for_maximum_compatibility"></span>
==== Double affectation des flux de travail pour une compatibilité maximale ====

Pour les utilisateurs qui ont besoin à la fois d'analyses techniques avancées et d'un échange correct de données BIM (en particulier l'exportation IFC), un flux de travail à « double affectation » est actuellement la seule approche viable.

'''Pourquoi est-ce nécessaire ?'''
Les outils destinés à différents domaines sont programmés pour rechercher différentes propriétés.
* Les ateliers tels que FEM lisent les données physiques exclusivement à partir du matériau de base attribué à la propriété {{PropertyData|Shape Material}}.
* L'exportateur IFC fait partie de l'atelier BIM et lit les informations sur les matériaux exclusivement à partir du matériau BIM attribué à la propriété {{PropertyData|Material}}.

'''Flux de travail recommandé :'''
Les utilisateurs qui ont besoin des propriétés physiques et d'appreance des matériaux et qui souhaitent s'assurer qu'un objet est pleinement fonctionnel dans les deux domaines peuvent suivre les deux étapes suivantes :
# '''Attribuer le matériau Core  :''' sélectionnez l'option {{MenuCommand|[[Image:Std_SetMaterial.svg|16px]] [[Std_SetMaterial/fr|Matériau]]}} dans le menu contextuel de l'objet de l'[[Tree_View/fr|arborescence]] ou de la [[3D_View/fr|vue 3D]] pour attribuer le matériau souhaité. Cela rend les données physiques de l'objet disponibles pour analyse.
# '''Attribuer le matériau BIM :''' une fois le même objet sélectionné, utilisez l'outil [[Image:BIM_Material.svg|16px]] [[BIM_Material/fr|BIM Matériau]] décrit sur cette page pour attribuer un matériau BIM correspondant. Cela garantit que l'objet sera exporté vers IFC avec les informations correctes sur les matériaux.

'''Avertissements et risques :'''
Cette solution présente un risque important de '''désynchronisation des données'''. Les deux attributions de matériaux sont totalement indépendantes. Si vous mettez à jour le nom ou la couleur du matériau BIM, cela n'aura aucune incidence sur le matériau Core, et vice versa. Les utilisateurs doivent s'assurer manuellement que les deux matériaux attribués restent cohérents afin d'éviter tout conflit d'informations entre leurs analyses internes et leurs livrables BIM externes. L'objet multi-matériaux du système BIM, qui n'a pas d'équivalent dans le système Core, doit toujours être utilisé et géré exclusivement avec des matériaux BIM.


{{Docnav/fr
|[[BIM_Layers/fr|Calques]]
|[[Arch_Schedule/fr|Nomenclature]]
|[[BIM_Workbench/fr|Atelier BIM]]
|IconL=BIM_Layers.svg
|IconR=Arch_Schedule.svg
|IconC=Workbench_BIM.svg
}}

{{BIM_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}