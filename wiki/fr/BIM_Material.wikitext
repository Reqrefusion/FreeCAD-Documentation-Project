<languages/>

{{Docnav/fr
|[[BIM_Layers/fr|Calques]]
|[[Arch_Schedule/fr|Nomenclature]]
|[[BIM_Workbench/fr|Atelier BIM]]
|IconL=BIM_Layers.svg
|IconR=Arch_Schedule.svg
|IconC=Workbench_BIM.svg
}}

{{GuiCommand/fr
|Name=BIM Material
|Name/fr=BIM Matériau
|MenuLocation=Gestion → Gérer les matériaux
|Workbenches=[[BIM_Workbench/fr|BIM]]
}}

==Description==

Affiche la fenêtre de dialogue '''BIM matériau'''. Cette fenêtre de dialogue permet d'effectuer rapidement et facilement des opérations liées aux matériaux, en mettant l'accent sur l'efficacité du travail avec de nombreux objets et de nombreux matériaux.

# Créer un nouveau [[Arch_SetMaterial/fr|matériau]] ou [[Arch_MultiMaterial/fr|multi-matériau]].
# Attribuer un matériau ou un multimatériau existant à un ou plusieurs objets sélectionnés.

[[File:BIM_Material_Manager.png]]
{{Caption|Le gestionnaire des matériaux BIM}}

<span id="Usage"></span>
==Utilisation==

# Vous pouvez sélectionner un ou plusieurs objets BIM dont vous souhaitez modifier la propriété [[Arch_Component/fr#Données|{{PropertyData|Material}}]]. Les objets ne disposant pas de cette propriété peuvent également être sélectionnés, mais seront ignorés.
# Appuyez sur le bouton {{Button|[[Image:BIM_Material.svg|16px]] [[BIM_Material/fr|Matériau]]}} dans la barre d'outils.
# L'une des situations suivantes se produit :
#* S'il n'y a pas de matériau dans le document actif :
#*# La boîte de dialogue Gestionnaire de matériaux ne s'affiche pas. À la place, l'outil [[Arch_SetMaterial/fr|Arch Matériau]] est lancé pour créer un matériau.
#*# Si des objets ont été sélectionnés, le matériau créé leur est attribué si possible.
#* S'il y a au moins un matériau ou un multi-matériau dans le document actif :
#*# La boîte de dialogue Gestionnaire de matériaux s'ouvre. Voir [[#Outils_de_gestion_des_matériaux|Outils de gestion des matériaux]].
#*# Vous pouvez éventuellement sélectionner un matériau ou un multi-matériau dans la liste.
#*# Appuyez sur le bouton {{Button|OK}}.
#*# Si des objets ont été sélectionnés, le matériau sélectionné leur est attribué si possible.

<span id="Material_Manager_tools"></span>
==Outils de gestion des matériaux==

Le gestionnaire des matériaux vous permet de :

[[File:BIM_Material_Manager_New.png|thumb|Le nouveau panneau de tâches Matériaux]]
[[File:BIM_Material_Manager_New_Multi.png|thumb|Le nouveau panneau de tâches Matériaux]]

* '''Rechercher des matériaux par nom''' : utilisez la boîte de recherche.
* '''Assigner un matériau aux objets sélectionnés''' : appuyez sur {{Button|OK}} avec un matériau sélectionné l'affectera aux objets sélectionnés.
* '''Créer un [[Arch_SetMaterial/fr|matériau]]''' : appuyez sur le bouton {{Button|Créer un nouveau matériau}}.
* '''Créer un [[Arch_MultiMaterial/fr|multi-matériau]]''' : cliquez sur le bouton {{Button|Créer un nouveau multi-matériau}}.
* '''Supprimer un matériau''' : sélectionnez un matériau et cliquez avec le bouton droit de la souris sur un matériau et choisissez « Supprimer ».
* '''Supprimer les matériaux inutilisés''' : cliquez sur le bouton {{Button|Supprimer les matériaux inutilisés}}. Tous les matériaux qui ne sont pas utilisés par un objet seront supprimés.
* '''Fusionner les matériaux en double''' : cliquez sur le bouton {{Button|Fusionner les doublons}}. Fusionne les matériaux ayant exactement le même nom (ex. Béton et Béton) ou exactement le même nom avec un suffixe numérique (ex. Béton et Béton001).
* '''Renommer un matériau''' : cliquez avec le bouton droit de la souris sur un matériau et choisissez « Renommer».
* '''Dupliquer un matériau''' : cliquez avec le bouton droit de la souris sur un matériau et choisissez « Dupliquer ». Cela créera une copie indépendante du matériau.
* '''Fusionner deux matériaux ensemble''' : faites un clic droit sur un matériau et choisissez « Fusionner vers... », puis sélectionnez un autre matériau. Le premier matériau sera supprimé et tous les objets qui utilisaient le premier matériau se verront attribuer le second.

<span id="New_material"></span>
=== Nouveau matériau ===

A définir

<span id="Material_properties"></span>
==== Propriétés des matériaux ====

Un objet Arch Material aura les propriétés suivantes :

<span id="Data"></span>
=== Données ===

{{Properties_Title|Material}}

* {{PropertyData|Description|String}} : description de ce matériau.
* {{PropertyData|Standard Code|String}} : code standard (MasterFormat, OmniClass, etc.).
* {{PropertyData|Product URL|String}} : URL où trouver des informations sur ce matériau.
* {{PropertyData|Transparency|Percent}} : valeur de transparence de ce matériau.
* {{PropertyData|Color|Color}} : couleur de ce matériau.
* {{PropertyData|Section Color|Color}} : couleur de ce matériau lorsqu'il est coupé.

<span id="New_multi-material"></span>
=== Nouveau multi-matériau ===

A définir

<span id="Relationship_between_BIM_and_Core_material_systems"></span>
== Relation entre les systèmes de matériaux Core et BIM ==

Depuis la version 1.0, FreeCAD contient deux systèmes distincts et parallèles pour la gestion des matériaux : un système historique, basé sur Python, principalement utilisé par l'atelier BIM, et un système moderne, basé sur C++, destiné à une utilisation globale dans n'importe quel atelier.

<span id="Core_material_system"></span>
=== Système de matériaux Core ===

* '''Architecture :''' ce système est conçu autour d'un modèle de bibliothèque centralisée. La définition principale d'un matériau est stockée en externe dans des fichiers (par exemple, au format {{FileName|.FCMat}}) situés dans des répertoires système ou spécifiques à l'utilisateur. L'[[Material_Workbench/fr|atelier Material]] documente ce système plus en détail.
* '''Data Linking :''' lorsqu'un matériau est attribué à un objet, celui-ci ne stocke pas une copie complète des données du matériau. À la place, une propriété cachée nommée {{PropertyData|Shape Material}} est ajoutée à l'objet. Cette propriété contient un objet material complet en mémoire et, lors de l'enregistrement du document, elle sérialise soit une référence à un matériau de bibliothèque externe à l'aide de la propriété UUID de l'objet du matériau, soit elle intègre une copie complète des données du matériau s'il n'a pas de source externe.
* '''Workflow :''' cette approche garantit une source unique de vérité. Les mises à jour du fichier de bibliothèque central se répercutent sur tous les documents qui y sont liés. Cependant, cela signifie que la portabilité des documents peut être compromise si les bibliothèques de matériaux correspondantes ne sont pas présentes sur un autre système. Les matériaux eux-mêmes ne sont pas directement visibles en tant qu'objets dans l'arborescence du document.

<span id="BIM_material_system"></span>
=== Système de matériaux BIM ===

* '''Architecture :''' ce système est conçu autour d'un modèle centré sur les documents. Un matériau est un objet autonome au sein du document lui-même, une instance de {{Incode|App::MaterialObjectPython}}.
* '''Data Storage :''' la définition complète du matériau, y compris ses propriétés telles que la couleur et la description, est stockée directement dans cet objet à l'intérieur du fichier {{FileName|.FCStd}}. Ces objets material sont visibles dans l'arborescence, regroupés dans un groupe « Materials ». Lorsqu'elle est attribuée, la propriété {{PropertyData|Material}} d'un objet contient un lien direct vers cet objet material dans le document.
* '''Workflow :''' cette approche garantit la portabilité des documents, car toutes les définitions des matériaux sont intégrées. Elle facilite également la recherche, car les matériaux utilisés dans un projet sont explicitement répertoriés dans l'arborescence. Cependant, elle peut entraîner une duplication des données et ne dispose pas d'un mécanisme permettant de mettre à jour de manière centralisée les matériaux dans plusieurs projets.

<span id="Point_of_interaction:_one-way_import"></span>
=== Point d'interaction : importation unidirectionnelle ===

Les deux systèmes ne présentent pas d'intégration profonde ou persistante. Leur interaction se limite à une importation de données unidirectionnelle initiée à partir du système BIM.

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Mechanism:''' The BIM/Arch material editor UI is capable of scanning the directories that contain the Core system's {{FileName|.FCMat}} library files. It presents these external materials to the user as available templates in the material task panel, when choosing a preset.
* '''Process:''' When a user selects an {{FileName|.FCMat}} material from this list, the BIM system performs the following actions:
# It reads the data from the selected {{FileName|.FCMat}} file.
# It uses this data to populate the fields for a new, native {{Incode|App::MaterialObjectPython}}.
# This new object is then created within the active document.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Once this import process is complete, there is no further link between the newly created Arch/BIM material and the original {{FileName|.FCMat}} file. It is a one-time copy of the data at that specific moment. Subsequent changes to the source material in the Core library will have no effect on the Arch/BIM materials that were created from it.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Physical vs. appearance properties ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The FreeCAD material systems are designed with a distinction between a material's physical characteristics and its visual appearance. However, these properties differ significantly between the Core material system and the legacy BIM system.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Core material system ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The Core, C++-based system provides an extensible framework for defining a wide range of material properties. It is organized into "Models," which are schemas that group related properties.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Physical Properties:''' These define the engineering characteristics required for simulation and analysis. The system supports numerous models, including: Mechanical (e.g., {{Incode|Density}}, {{Incode|YoungsModulus}}, {{Incode|PoissonRatio}}), Thermal, Electromagnetic.
* '''Appearance Properties:''' These define the visual look for rendering. Multiple rendering models are supported, defining properties such as: {{Incode|DiffuseColor}}, {{Incode|SpecularColor}} {{Incode|Shininess}}, {{Incode|Transparency}}, Texture image paths and scaling.
* '''Extensibility:''' The model-based architecture is designed to be extensible. Add-on workbenches or future FreeCAD versions can introduce new models to support additional physical domains or render engines without altering the Core framework.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== BIM material system ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
This legacy, Python-based system has a fixed and more limited set of properties, focusing primarily on visual representation and basic metadata for BIM workflows.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Physical Properties:''' This system does not have a formal concept of physical properties for engineering analysis. It does not manage data like density or Young's Modulus.
* '''Appearance Properties:''' The properties are hard-coded and limited to a basic set necessary for architectural visualization and metadata, consisting of 6 properties: {{PropertyData|Color}}, {{PropertyData|Section Color}}, {{PropertyData|Transparency}} (appearance), {{PropertyData|Description}}, {{PropertyData|Standard Code}}, {{PropertyData|Product URL}} (metadata).
* '''Extensibility:''' The property set is fixed within the Python code and is not designed to be extended.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
This distinction is critical: the Core system is necessary for any engineering analysis (like FEM), while the BIM system is tailored for architectural visualization and IFC compatibility.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Coexistence and interoperability of material systems ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
While the long-term goal is full migration of the BIM workbench to the Core material system, a transition period requires understanding how they can coexist on a single object.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Can both systems be assigned to one object? ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
It is technically possible to assign a material from both systems to the same object (e.g., an [[Arch_Wall|Arch Wall]]). The two systems use different, non-conflicting properties to store their data:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Core System:''' Uses the hidden {{PropertyData|Shape Material}} property.
* '''BIM System:''' Uses the visible {{PropertyData|Material}} property.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An object can have both of these properties simultaneously.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Dual-assignment workflow for maximum compatibility ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
For users who require both advanced engineering analysis and correct BIM data exchange (specifically IFC export), a "dual-assignment" workflow is currently the only viable approach.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Why it is necessary:'''
The tools for different domains are coded to look for different properties.
* Workbenches like FEM read physical data exclusively from the Core material assigned to the {{PropertyData|Shape Material}} property.
* The IFC exporter is part of the BIM workbench and reads material information exclusively from the BIM material assigned to the {{PropertyData|Material}} property.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Recommended Workflow:'''
Users who require physical and appearance material properties, and to ensure an object is fully functional across both domains, can perform the following two steps:
# '''Assign the Core Material:''' Select the {{MenuCommand|[[Image:Std_SetMaterial.svg|16px]] [[Std_SetMaterial|Material]]}} option from the object's [[Tree_View|Tree View]] or [[3D_View|3D View]] context menu to assign the desired material. This makes the object's physical data available for analysis.
# '''Assign the BIM Material:''' With the same object selected, use the [[Image:BIM_Material.svg|16px]] [[BIM_Material|BIM Material]] tool described on this page to assign a corresponding BIM material. This ensures the object will be exported to IFC with the correct material information.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Caveats and Risks:'''
This workaround introduces a significant risk of '''data desynchronization'''. The two material assignments are completely independent. If you update the name or color of the BIM material, it will not affect the Core material, and vice-versa. Users must manually ensure that the two assigned materials are kept consistent to avoid conflicting information between their internal analyses and their external BIM deliverables. The BIM system's multi-material object, which has no equivalent in the Core system, must still be used and managed exclusively with BIM materials.
</div>


{{Docnav/fr
|[[BIM_Layers/fr|Calques]]
|[[Arch_Schedule/fr|Nomenclature]]
|[[BIM_Workbench/fr|Atelier BIM]]
|IconL=BIM_Layers.svg
|IconR=Arch_Schedule.svg
|IconC=Workbench_BIM.svg
}}

{{BIM_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}