<languages/>

{{Docnav/fr
|[[Cables_CableConduit/fr|Gaine]]
|[[Cables_CableConnector/fr|Connecteur]]
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableConduit.svg
|IconR=Cables_CableConnector.svg
|IconC=Cables_workbench_icon.svg
}}

{{GuiCommand/fr
|Name=Cables CableBox
|Name/fr=Cables Boîte à câbles
|MenuLocation=Cables → Cable Box
|Workbenches=[[Cables_Workbench/fr|Cables]]
|Shortcut={{KEY|C}} {{KEY|X}}
|Version=0.1.0
|SeeAlso=[[Cables_Cable/fr|Cables Câble]], [[Cables_CableConnector/fr|Cables Connecteur]], [[Cables_SuppLines/fr|Cables SuppLines]]
}}

==Description==

Nouveau concept de préréglage de boîtier pour câble et d'objet enfant de SuppLines : <span style="color:blue;">introduit dans la version 0.3.0</span>

[[Image:Cables_CableBox.svg|24px]] [[Cables_CableBox/fr|Boîte à câbles]] crée un objet boîte de câbles paramétrique. Elle a une taille par défaut à la création, mais certains paramètres, comme '''Diamètre''', '''Hauteur''' ou '''Épaisseur''' peuvent être modifiés ultérieurement. La '''boîte à câbles''' appartient à la classe [[Arch_Component/fr|Arch Composant]] et hérite de toutes ses propriétés. La '''boîte à câbles''' est dotée d'orifices d'entrée équipés de croix [[Cables_SuppLines/fr|SuppLines]]. Chaque croix [[Cables_SuppLines/fr|SuppLines]] comporte cinq sommets pouvant servir de supports de fixation pour un maximum de cinq câbles entrant dans un seul orifice. L'objet [[Cables_SuppLines/fr|SuppLines]] ne fait pas partie de la forme de la boîte à câbles, il s'agit d'un objet enfant distinct également visible dans la [[Tree_View/fr|vue arborescente]].

La '''boîte à câbles''' propose deux types de formes basées sur les propriétés [[#Données|{{PropertyData|Profile Type}}]] {{Value|Circle}} ou {{Value|Rectangle}}. Les deux types permettent de créer des formes paramétriques (avec quelques restrictions mineures introduites pour plus de simplicité) adaptées à la modélisation assez précise des boîtiers à câbles disponibles dans le commerce. Pour plus de simplicité et de rapidité de création, la propriété [[#Données|{{PropertyData|Preset}}]] a été introduite. Elle permet de sélectionner rapidement une forme de boîtier à câbles prédéfinie dans la liste. Il existe plusieurs formes prédéfinies dans l'atelier Cables, mais l'utilisateur peut créer sa propre bibliothèque de boîtiers s'il le souhaite. Voir [[#Préréglages_de_la_boîte_à_câbles|Préréglages de la boîte à câbles]] pour plus de détails.

De plus, la '''boîte''' est équipée de deux anneaux d'aide réglables. Leur but est d'offrir un point d'aimantation <u>temporaire</u> lors de l'édition des sous-câbles des câbles avec [[Cables_Edit/fr|Cables Éditer]] pour leur donner la forme désirée. Lorsqu'ils ne sont plus nécessaires, les anneaux d'aide peuvent être cachés en jouant sur la propriété [[#Données|{{PropertyData|Helper Rings Hidden}}]]. <u>Temporaire</u> signifie que les anneaux d'aide ne doivent pas être utilisés comme support d'attache pour les sommets des sous-câbles.

L'objet '''Cable Box''' peut être automatiquement équipé de [https://fr.wikipedia.org/wiki/Rail_DIN rails DIN TH35]. Pour plus de détails, voir [[#Données|{{PropertyData|Din Rails}}]].

L'objet '''Cable Box''' peut être coloré en attachant le [[Arch_SetMaterial/fr|matériau]] voulu à la propriété '''Material'''. Il prend également en charge les [[Arch_MultiMaterial/fr|matériaux multiples]]. Il existe une valeur prédéfinie {{Value|boxMultiMat2m}} disponible dans [[Cables_Material/fr|Cables Matériau]] qui est conçue pour prendre en charge les rails DIN.

[[File:Cables_CableBox_Example1.png]]
{{Caption|Exemple de boîte pour câbles par défaut :<br/>Il y a des croix visibles de [[Cables_SuppLines/fr|SuppLines]] à l'intérieur des trous et des anneaux d'aide à l'intérieur d'une boîte.}}

[[File:Cables_CableBox_ExampleDIN1.png]]
{{Caption|Exemple de boîtier à câbles avec un rail DIN. Les anneaux auxiliaires sont cachés ici.}}

<span id="Usage"></span>
==Utilisation==

# Sélectionnez le sommet, le point sur la surface ou l'objet dans la [[3D_View/fr|vue 3D]] ou ne sélectionnez rien.
# Créez une boîte à câbles par l'une des méthodes suivantes :
#* Appuyez sur le bouton {{Button|[[Image:Cables_CableBox.svg|16px]] [[Cables_CableBox/fr|Cable Box]]}}.
#* Sélectionnez l'option {{MenuCommand|Cables → [[Image:Cables_CableBox.svg|16px]] Cable Box}} du menu.
#* Cliquez avec le bouton droit dans l'[[Tree_View/fr|arborescence]] ou la [[3D_View/fr|vue 3D]] et sélectionnez l'option {{MenuCommand|Cables → [[Image:Cables_CableBox.svg|16px]] Cable Box}} dans le menu contextuel.
#* Utilisez le raccourci clavier : {{KEY|C}} puis {{KEY|X}}.
# Le panneau de tâches {{MenuCommand|Cable Box}} s'ouvre. Voir [[#Options|Options]] pour plus d'informations.

Une fois créée, la boîte est placée à la position du sommet, du point ou de l'objet sélectionné dans l'espace 3D (ou au point (0,0,0) si rien n'a été sélectionné).

Pour modifier une '''boîte à câbles''' déjà créée, double-cliquez dessus dans l'[[Tree_View/fr|arborescence]] ou modifiez l'un de ses paramètres dans la fenêtre de l'[[Property_View/fr|éditeur de propriétés]]

==Options==

Le préréglage d'une '''boîte à câbles''' disponible dans le panneau des tâches peut être modifié. Le préréglage sélectionné est immédiatement visible dans la [[3D_View/fr|vue 3D]].

Lorsque le préréglage « Customized » est sélectionné, le panneau des tâches affiche des options supplémentaires permettant de modifier toutes les propriétés d'une '''boîte à câbles''' paramétrique personnalisée.

<span id="Cable_Box_Presets"></span>
===Préréglages de la boîte à câbles===

L'atelier Cables est livré avec plusieurs formes prédéfinies. Cependant, l'utilisateur n'est pas limité à l'utilisation de l'ensemble par défaut.

Un fichier CSV supplémentaire peut être créé par l'utilisateur, contenant des définitions personnalisées de préréglages de boîte à câbles. Il doit être nommé {{FileName|boxpresets.csv}} et placé dans

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/
}}

{{incode|$FREECAD_USER_DIR}} peut être obtenu à partir de la [[Python_console/fr|console Python]] :

{{Code|lang=text|code=
FreeCAD.getUserAppDataDir()
}}

Le contenu du fichier personnalisé {{FileName|boxpresets.csv}} doit être modélisé selon les mêmes règles que le fichier [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/boxpresets.csv boxpresets.csv] dans le code source de l''''atelier Cables'''. Le fichier est explicite et peut être utilisé comme modèle pour créer vos propres préréglages.

Le fichier personnalisé {{FileName|boxpresets.csv}} peut être modifié sans redémarrer FreeCAD. Toute modification apportée à ce fichier est immédiatement visible dans la liste des préréglages lorsque vous créez un nouveau boîtier à câbles à partir de l'interface graphique.

<span id="Notes"></span>
==Remarques==

* Les objets [[Cables_SuppLines/fr|SuppLines]] ont une relation inversée avec leur parent '''Cable Box''' afin d'éviter les dépendances cycliques. Ils apparaissent comme des enfants dans l'[[Tree_View/fr|arborescence]] uniquement à des fins d'organisation visuelle des objets. Conséquence indésirable : lorsque la '''boîte à câbles''' est copiée, tous ses objets enfants SuppLines doivent toujours être copiés manuellement avec elle.
* Les '''Helper Rings''' sont masqués par défaut. Ils peuvent être facilement modifiés en définissant la propriété [[#Données|{{PropertyData|Helper Rings Hidden}}]].

L'objet enfant [[Cables_SuppLines/fr|SuppLines]] est créé automatiquement, sa forme et son emplacement sont contrôlés par '''Cable Box'''.

<span id="Properties"></span>
==Propriétés==

Un objet '''Cable Box''' partage les propriétés communes et les comportements de tous les [[Arch_Component/fr|Arch Composants]].

<span id="Data"></span>
===Données===

{{TitleProperty|Component}}

Certaines des propriétés les plus fréquemment utilisées du groupe sont décrites ici. Les autres sont disponibles dans [[Arch_Component/fr#Données|Arch Composant]].

* {{PropertyData|Base|Link}} : une forme externe de n'importe quel objet de base basé sur une [[Part_Workbench/fr|Shape]] peut être utilisée ici. Cela remplacera la méthode par défaut de création de forme et une forme externe sera utilisée. Le paramètre '''Number Of Supp Lines''' devient visible et peut être modifié si la propriété Base n'est pas None. Remarque : la forme SuppLines est toujours créée à partir des propriétés du groupe de la boîte à câbles.

* {{PropertyData|Material|Link}} : un [[Arch SetMaterial/fr|matériau]] ou un [[Arch_MultiMaterial/fr|matériau multiple]] peut être rattaché ici. Le spécial matériau multiple prédéfini {{Value|boxMultiMat2m}} est disponible dans [[Cables_Material/fr|Cables Matériau]]. Il peut être utilisé si des rails DIN sont disponibles dans l'objet Cable Box.

{{TitleProperty|Cable Box}}

* {{PropertyData|Box Body Hidden|Bool}} : si défini sur {{Value|true}}, la forme de la boîte est masquée afin de faciliter la modification des câbles à l'intérieur d'une boîte (avec l'aide éventuelle d'anneaux d'aide). Il doit être défini sur {{Value|false}} lorsque la modification des câbles est terminée ou n'est pas nécessaire.
* {{PropertyData|Depth|Length}} : spécifie la profondeur intérieure du boîtier. La profondeur par défaut est de 74 mm. Disponible si la propriété '''Profile Type''' = {{Value|Rectangle}}.
* {{PropertyData|Diameter|Length}} : spécifie le diamètre intérieur du boîtier. Le diamètre par défaut est de 60 mm. Disponible si la propriété '''Profile Type''' = {{Value|Circle}}.
* {{PropertyData|Din Rails|Bool}} : si défini sur {{Value|true}}, le [https://fr.wikipedia.org/wiki/Rail_DIN rail DIN TH35] est automatiquement ajouté au corps du boîtier en fonction de la forme et des dimensions du boîtier. Le rail est placé 50 mm sous le haut du boîtier, la distance entre les rails est définie sur 125 mm. Le boîtier de câbles doit être suffisamment grand pour permettre la création automatique de rails DIN. La valeur par défaut est {{Value|true}}. Créé uniquement si la propriété '''Profile Type''' = {{Value|Rectangle}}.
* {{PropertyData|Fillet Radius|Length}} : spécifie le diamètre du rayon de congé intérieur des parois latérales du boîtier. Le rayon de congé par défaut est de 10 mm. Disponible si la propriété '''Profile Type''' = {{Value|Rectangle}}.
* {{PropertyData|Height|Length}} : spécifie la hauteur intérieure du boîtier. La hauteur par défaut est de 62 mm.
* {{PropertyData|Hole Diameter|Length}} : spécifie le diamètre d'un seul trou. Le diamètre par défaut est de 20 mm.
* {{PropertyData|Holes Distance|Length}} : spécifie la distance entre les trous sur une seule paroi. La distance par défaut est de 40 mm. Disponible si la propriété '''Profile Type''' = {{Value|Rectangle}}.
* {{PropertyData|Number Of Supp Lines|Integer}} : (masqué par défaut) spécifie le nombre d'objets enfants SuppLines. La valeur par défaut est 1.
* {{PropertyData|Preset|Enumeration}} : spécifie l'ensemble prédéfini de paramètres pour le boîtier. Le préréglage par défaut est {{Value|1G_FlushMnt_Round_D60_h62}}.
* {{PropertyData|Profile Type|Enumeration}} : spécifie le type de profil de base pour la forme du boîtier. Valeurs disponibles : {{Value|Circle}}, {{Value|Rectangle}}. Certaines autres propriétés dépendent de celle-ci et sont visibles si nécessaire.
* {{PropertyData|Thickness|Length}} : spécifie l'épaisseur de la paroi du boîtier. L'épaisseur par défaut est de 2 mm.
* {{PropertyData|Width|Length}} : spécifie la largeur intérieure du boîtier. La largeur par défaut est de 74 mm. Disponible si la propriété '''Profile Type''' = {{Value|Rectangle}}.

{{TitleProperty|Cable Box Helpers}}

* {{PropertyData|Helper Rings Hidden|Bool}} : si la valeur est {{Value|false}}, les anneaux d'aide sont visibles. La valeur par défaut est {{Value|true}}. Les anneaux d'aide sont conçus pour faciliter l'édition des câbles à l'intérieur d'une boîte. Les sommets des anneaux d'aide peuvent servir de points d'attache pour les câbles secondaires de câbles lorsque ces derniers sont en mode [[Cables_Edit/fr|Cables Éditer]]. Cette propriété peut être mise à {{Value|true}} lorsque l'édition des câbles est terminée ou n'est pas nécessaire.
* {{PropertyData|Ring 1 Diameter|Length}} : le diamètre de l'anneau auxiliaire 1. La valeur par défaut est de 45 mm.
* {{PropertyData|Ring 1 Height|Length}} : hauteur de l'anneau d'aide 1 sous le couvercle de la boîte (bord supérieur ouvert de la boîte). La valeur par défaut est de 40 mm.
* {{PropertyData|Ring 2 Diameter|Length}} : le diamètre de l'anneau d'aide 2. La valeur par défaut est de 30 mm.
* {{PropertyData|Ring 2 Height|Length}} : hauteur de l'anneau d'aide 2 sous le couvercle de la boîte (bord supérieur ouvert de la boîte). La valeur par défaut est de 20 mm.

<span id="Typical_workflow"></span>
== Flux de travail typique ==

Ce flux de travail montre comment construire une boîte avec un câble attaché et avec un sous-fil de câble formé à l'intérieur d'une boîte.

# Créez une '''boîte''' comme décrit dans [[#Utilisation|Utilisation]] et définissez sa propriété '''Helper Rings Hidden''' sur {{Value|false}}.
# Créez un '''câble''' comme décrit dans [[Cables_Cable/fr#Utilisation|Utilisation du câble]] avec une extrémité d'un câble de base attachée au sommet central d'une des croix [[Cables_SuppLines/fr|SuppLines]] de la '''boîte'''.
# Cachez la forme '''Cable''' dans la [[Tree_view/fr|vue en arborescence]], par exemple en appuyant sur la touche {{KEY|Espace}}. Les câbles du câble devraient être encore visibles.
# Cachez la forme '''Cable Box''' en sélectionnant la propriété '''Box Body Hidden'''à {{Value|true}}. Les croix SuppLines et les anneaux d'aide devraient être encore visibles.
# Cliquez sur l'extrémité libre de l'un des câbles et ajoutez-lui un sommet avec [[Cables_AddVertex/fr|Ajouter un sommet]]. Répétez l'action.
# Double-cliquez sur le sous-câble ci-dessus dans la [[Tree_View/fr|vue en arborescence]] pour entrer en mode [[Cables_Edit/fr|Cables Éditer]]. Le mode [[Draft_Snap_Endpoint/fr|Draft Aimantation Extrémité]] doit être activé.
# Faites glisser les sommets de câble créés vers les différents sommets des anneaux auxiliaires. Ils devraient s'aimanter facilement. Quitter le mode [[Cables_Edit/fr|Cables Éditer]].
# Lorsque la forme désirée du sous-câble a été construite, la propriété '''Sub Wires Fillet Radius''' d'un objet '''Cable''' peut être réglée, par exemple, à 4mm.
# Afficher la forme '''Cable''' dans la [[Tree_View/fr|vue en arborescence]], par exemple en appuyant sur la touche {{KEY|Espace}}.
# Masquer la forme de la ''' boîte à câbles''' en définissant la propriété '''Box Body Hidden''' sur {{Value|false}}.
# Masquer la forme des anneaux auxiliaires en définissant la propriété '''Helper Rings Hidden''' sur {{Value|true}} de la ''' boîte à câbles'''.

Remarque : à tout moment pendant la modification de câbles secondaires en mode [[Cables_Edit/fr|Cables Éditer]], la hauteur ou le diamètre de l'anneau auxiliaire peut être modifié. Cela peut être utile pour créer de nouveaux points de référence temporaires.

[[Image:Cables_CableBox_Example2_static.png]]
{{Caption|Exemple d'un sous-fil de câble formé à l'intérieur d'une boîte}}

[[Cables_Example3_CableBox|Voici l'image animée]] montrant les étapes décrites ci-dessus.


{{Docnav/fr
|[[Cables_CableConduit/fr|Gaine]]
|[[Cables_CableConnector/fr|Connecteur]]
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableConduit.svg
|IconR=Cables_CableConnector.svg
|IconC=Cables_workbench_icon.svg
}}

[[Category:External_Command_Reference{{#translation:}}]]
[[Category:Cables{{#translation:}}]]