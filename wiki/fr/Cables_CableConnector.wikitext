<languages/>

{{Docnav/fr
|[[Cables_CableBox/fr|Boîte]]
|[[Cables_CableLightPoint/fr|Source lumineuse]] 
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableBox.svg
|IconR=Cables_CableLightPoint.svg
|IconC=Cables_workbench_icon.svg
}}

{{GuiCommand/fr
|Name=Cables CableConnector
|Name/fr=Cables Connecteur
|MenuLocation=Cables → Cable Connector
|Workbenches=[[Cables_Workbench/fr|Cables]]
|Shortcut={{KEY|C}} {{KEY|N}}
|Version=0.1.0
|SeeAlso=[[Cables_Cable/fr|Cables Câble]], [[Cables_CableBox/fr|Cables Boîte à câbles]], [[Cables_CableTerminal/fr|Cables Terminaison de câble]], [[Cables_SuppLines/fr|Cables SuppLines]]
}}

==Description==

Nouveau concept de connecteur de câble prédéfini avec CableTerminal et SuppLines comme objets enfants : <span style="color:blue;">introduit dans la version 0.3.0</span>

[[Image:Cables_CableConnector.svg|24px]] [[Cables_CableConnector/fr|Connecteur]] représente un modèle de connecteur électrique. Sa forme peut être sélectionnée dans la liste [[#Données|{{PropertyData|Preset}}]] lors de sa création. Deux types de formes sont disponibles : le premier, entièrement paramétrique, appelé « ParametricTerminal », et le second, appelé « Fixed ».

Le type « ParametricTerminal » crée un objet connecteur paramétrique. Le connecteur est un modèle de bloc métallique conducteur d'électricité (pour simplifier, sans isolation externe). D'un point de vue électrique, tous les fils connectés à un connecteur forment un nœud électrique. Le connecteur a une taille par défaut lors de sa création, mais certains paramètres, tels que '''Height''', '''Hole Size''', '''Hole Diameter''' ou '''Number of Holes''', peuvent être modifiés lors de la création après avoir sélectionné le préréglage « Personnalisé » ou ultérieurement en modifiant les propriétés. Dans ce mode, une seule [[Cables_CableTerminal/fr|terminaison de câble]] est créée, divisée en segments passant par chaque trou du connecteur.

Le type « Fixed » crée un objet connecteur non paramétrique dont la forme est tirée d'un fichier [https://fr.wikipedia.org/wiki/Standard_pour_l%27%C3%A9change_de_donn%C3%A9es_de_produit STEP] externe. Plusieurs modèles de connecteurs STEP prédéfinis sont fournis avec l'atelier Cables. De plus, l'utilisateur peut créer sa propre bibliothèque de connecteurs, comme décrit dans [[#Préréglages_des_connecteurs_de_câbles|Préréglages de connecteurs de câbles]]. Dans ce mode, un certain nombre de [[Cables_CableTerminal/fr|terminaisons de câble]] sont créés avec une taille et une position prédéfinies correspondant aux broches du connecteur. De plus, un ou plusieurs objets [[Cables_SuppLines/fr|SuppLines]] peuvent être créés pour former la base du câble entrant dans le connecteur.

Le '''Connecteur''' appartient à la classe [[Arch_Component/fr|Arch Composant]] et hérite de toutes ses propriétés.

L'objet '''Cable Connector''' peut être coloré en attribuant le matériau souhaité [[Arch_SetMaterial/fr|matétiau]] à la propriété '''Material'''. Les [[Arch_MultiMaterial/fr|multi-matériaux]] sont également pris en charge. Ils peuvent être utilisés pour modifier les couleurs d'origine du connecteur et les remplacer par celles définies dans la composition multi-matériaux. Important : le nombre de couleurs dans le multi-matériaux doit correspondre au nombre de couleurs d'origine du connecteur.

[[File:Cables_CableConnector_Example1.png]]
{{Caption|Exemple de connecteur de câble de type « ParametricTerminal » (TerminalStrip x3) :<br/>Une [[Cables_CableTerminal/fr|terminaison de câble]] multi-segment est visible à l'intérieur du corps du connecteur (transparent pour une meilleure explication)}}

[[File:Cables_CableConnector_Fixed_Example2.png]]
{{Caption|Exemple de connecteur de câble de type « fixe » (face arrière du D-Sub DE-9) :<br/>Neuf [[Cables_CableTerminal/fr|terminaisons de câble]] rouges sont visibles au-dessus du corps du connecteur. Il y a également une croix orange [[Cables_SuppLines/fr|SuppLines]] pour la fixation de la base du câble}}

<span id="Usage"></span>
==Utilisation==

# Sélectionnez le sommet, le point sur la surface ou l'objet dans la [[3D_View/fr|vue 3D]] ou ne sélectionnez rien.
# Créez un connecteur par l'une des méthodes suivantes :
#* Appuyez sur le bouton {{Button|[[Image:Cables_CableConnector.svg|16px]] [[Cables_CableConnector/fr|Cable Connector]]}}.
#* Sélectionnez l'option {{MenuCommand|Cables → [[Image:Cables_CableConnector.svg|16px]] Cable Connector}} du menu.
#* Cliquez avec le bouton droit de la souris dans la [[Tree_view/fr|vue en arborescence]] ou la [[3D_View/fr|vue 3D]] et sélectionnez l'option {{MenuCommand|Cables → [[Image:Cables_CableConnector.svg|16px]] Cable Connector}} dans le menu contextuel.
#* Utilisez le raccourci clavier : {{KEY|C}} puis {{KEY|N}}.
# Le panneau de tâches {{MenuCommand|Cable Connector}} s'ouvre. Voir [[#Options|Options]] pour plus d'informations.

Une fois créée, le connecteur est placé à la position du sommet, du point ou de l'objet sélectionné dans l'espace 3D (ou au point (0,0,0) si rien n'a été sélectionné).

==Options==

Le préréglage d'un '''connecteur''' disponible dans le panneau des tâches peut être modifié. Le préréglage sélectionné est immédiatement visible dans la [[3D_View/fr|vue 3D]].

Lorsque le préréglage « Customized » est sélectionné, le panneau des tâches affiche des options supplémentaires permettant de modifier toutes les propriétés d'un '''connecteur''' paramétrique personnalisé.

<span id="Cable_Connector_Presets"></span>
===Préréglages des connecteurs de câbles===

L'atelier Cables est fourni avec plusieurs formes prédéfinies. Cependant, l'utilisateur n'est pas limité à l'utilisation de l'ensemble par défaut (le tutoriel [[Cables_Create_Custom_Connector/fr|Tutoriel Cables Créer un connecteur personnalisé]] explique en détail la création d'un connecteur personnalisé).

Un fichier CSV supplémentaire peut être créé par l'utilisateur, contenant des définitions personnalisées de préréglages du connecteur. Il doit être nommé {{FileName|connectorpresets.csv}} et placé dans :

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/
}}

{{incode|$FREECAD_USER_DIR}} peut être obtenu à partir de la [[Python_console/fr|console Python]] :

{{Code|code=
FreeCAD.getUserAppDataDir()
}}

Le contenu du fichier personnalisé {{FileName|connectorpresets.csv}} doit être modélisé selon les mêmes règles que le fichier [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/connectorpresets.csv connectorpresets.csv] dans le code source de l''''atelier Cables'''. Le fichier est explicite et peut être utilisé comme modèle pour créer vos propres préréglages.

Le fichier personnalisé {{FileName|connectorpresets.csv}} peut être modifié sans redémarrer FreeCAD. Toute modification apportée à ce fichier est immédiatement visible dans la liste des préréglages lorsque vous créez un nouveau connecteur à partir de l'interface graphique.

Le fichier {{FileName|connectorpresets.csv}} peut contenir deux types de préréglages : [[#Type_de_préréglage_de_ParametricTerminal|Type de préréglage de ParametricTerminal]] et [[#Type_de_préréglage_fixé|Type de préréglage fixé]].

<span id="ParametricTerminal_PresetType"></span>
====Type de préréglage de ParametricTerminal====

Ce type de préréglage ne nécessite qu'une seule ligne dans le fichier {{FileName|connectorpresets.csv}} pour décrire entièrement tous les paramètres du connecteur donné. Aucun fichier supplémentaire n'est nécessaire. Vous trouverez plus de détails sur ce type dans la section [[#Description|Description]].

<span id="Fixed_PresetType"></span>
====Type de préréglage fixé====

La définition de ce type est plus complexe que la précédente. La ligne prédéfinie dans le fichier {{FileName|connectorpresets.csv}} définit, entre autres paramètres, les noms de deux fichiers prédéfinis supplémentaires :
* Fichier STEP avec la forme et les couleurs du connecteur. Le nom de ce fichier doit être indiqué directement (exemple de fichier : [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Dummy_Dummy.step Dummy_Dummy.step])<sup>[[#STEP_Source|[1]]]</sup>.

* Fichier CSV contenant les emplacements du corps du connecteur, les paramètres de tous les [[Cables_CableTerminal/fr|terminaisons]] et [[Cables_SuppLines/fr|SuppLines]] connectés. Le nom de ce fichier est constitué de la concaténation des champs ''ConnectorClass'' et ''Name''  (exemple de fichier : [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Connector_Dummy.csv Connector_Dummy.csv]).

Ces deux fichiers supplémentaires (STEP et CSV) doivent être placés dans :

{{Code|lang=text|code=
$FREECAD_USER_DIR/Cables/lib
}}

En fait, le logiciel recherchera ces fichiers à un autre emplacement (qui doit être considéré comme en lecture seule) :

{{Code|lang=text|code=
$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/
}}

Il est donc possible de définir des connecteurs similaires avec la même définition STEP, mais avec un nombre différent de terminaisons ou un emplacement différent si nécessaire.

<div class="mw-collapsible mw-collapsed toccolours">

<span id="More_details_about_Fixed_PresetType_in_connectorpresets.csv_file"></span>
=====Plus de détails sur le type de préréglage fixe dans le fichier connectorpresets.csv=====

<div class="mw-collapsible-content">

La ligne unique prédéfinie de {{FileName|connectorpresets.csv}} contient les informations suivantes pour le logiciel qui analyse ce fichier :
* Les champs ''Name'' et ''Connector Class'' sont utilisés par le logiciel pour rechercher un nom de fichier de description CSV valide. Il est construit sous la forme ''Connector Class''_''Name''.csv (par exemple {{FileName|Connector_Dummy.csv}} si ''Connector Class''={{Value|Connector}} et ''Name''={{Value|Dummy}}). Ce fichier doit se trouver dans {{Incode|$FREECAD_USER_DIR/Cables/lib/}} ou {{Incode|$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/}}. Si ce n'est pas le cas, un message d'erreur sera généré.
* Le champ ''PresetType'' (deuxième champ) doit avoir la valeur = {{Value|Fixed}}. Il indique que la forme sera créée à partir d'un fichier STEP externe.
* Le champ ''StepFileName'' contient le nom (avec l'extension) d'un fichier STEP utilisé pour créer une forme. Ce fichier doit exister dans {{Incode|$FREECAD_USER_DIR/Cables/lib/}} ou {{Incode|$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/}}. Si ce n'est pas le cas, un message d'erreur sera généré.
* ''NrOfTerminals'', ''NrOfSuppLines'' définissent le nombre d'objets [[Cables_CableTerminal/fr|CableTerminal]] et [[Cables_SuppLines/fr|SuppLines]] à créer. Les détails de ces objets doivent être définis dans le fichier de description CSV mentionné ci-dessus. Si les nombres définis ici ne correspondent pas au nombre de définitions dans le fichier de description CSV, un message d'erreur sera généré.

L'approche ci-dessus pour créer des préréglages permet d'utiliser le même fichier STEP pour différentes versions de préréglages avec différents fichiers de description CSV. Cela peut être utile, par exemple, pour créer des variantes de connecteurs avec différentes descriptions de broches, différents nombres de terminaisons utilisées, différentes supplines, etc.

</div> <!-- End of collapsible element for More details... section. Do not remove! -->
</div> <!-- End of collapsible element for More details... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Example_of_fixed_PresetType"></span>
=====Exemple de type de préréglage fixé=====

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
As a template and example the {{Value|Connector_Dummy}} preset can be taken:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The preset definition line is in the file [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/connectorpresets.csv connectorpresets.csv]:
</div>

{{Code|lang=text|code=Dummy,Fixed,Connector,Dummy_Dummy.step,3,1}}

<div lang="en" dir="ltr" class="mw-content-ltr">
Where the fields represent the following:
</div>

{{Code|lang=text|code=Name,Fixed,ConnectorClass,StepFileName,NrOfTerminals,NrOfSuppLines}}

<div lang="en" dir="ltr" class="mw-content-ltr">
From the above definition it follows that the file {{FileName|Dummy_Dummy.step}} and {{FileName|Connector_Dummy.csv}} (filename built from ''ConnectorClass_Name.csv'') have to be present in one of the folders mentioned above.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
After checking, the {{FileName|Dummy_Dummy.step}} and {{FileName|Connector_Dummy.csv}} files can be found in {{incode|$FREECAD_USER_DIR/Mod/Cables/freecad/cables/resources/presets/lib/}}.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
As a result of definitions from these three files the new '''Cable Connector''' with three '''CableTerminal'''s and single '''SuppLines''' can be created.
</div>

</div> <!-- End of collapsible element for Example... section. Do not remove! -->
</div> <!-- End of collapsible element for Example... section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<div lang="en" dir="ltr" class="mw-content-ltr">
=====STEP file=====
</div>

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
Since [[Cables_Workbench|Cables Workbench]] <span style="color:blue;">version 0.3.2</span> any of properly made STEP file should load into connector without errors. This includes multishape STEP files and STEP files without color defined.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Probably still some STEP files will not load properly into the connector. To prevent this, import downloaded step file into FreeCAD directly (via File/Import menu) and export it back to STEP file. This will rebuild entire structure of the downloaded file. Reducing the number of shapes in a single STEP file can also help. FreeCAD supports STEP AP242, but in case of problems an older version (e.g AP203) can be tried.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
If everything fails, such a problematic STEP files can be reported to the workbench author: [[User:SargoDevel|SargoDevel]] for further analysis.
</div>

</div> <!-- End of collapsible element for STEP file section. Do not remove! -->
</div> <!-- End of collapsible element for STEP file section. Do not remove! -->

<div class="mw-collapsible mw-collapsed toccolours">

<div lang="en" dir="ltr" class="mw-content-ltr">
=====STEP source=====
</div>

<div class="mw-collapsible-content">

<div lang="en" dir="ltr" class="mw-content-ltr">
Each STEP file from predefined preset has also its source file attached (example: [https://github.com/sargo-devel/Cables/blob/master/freecad/cables/resources/presets/lib/Dummy_Dummy.FCStd Dummy_Dummy.FCStd]). Inside each source file there is information on how to correctly generate a STEP file with colors from the source shape. These source files can be used as a base for creating shapes for new connectors.
</div>

</div> <!-- End of collapsible element for STEP Source section. Do not remove! -->
</div> <!-- End of collapsible element for STEP Source section. Do not remove! -->

<span id="Notes"></span>
==Remarques==

<div lang="en" dir="ltr" class="mw-content-ltr">
* The [[Cables_CableTerminal|CableTerminal]] and [[Cables_SuppLines|SuppLines]] objects have reversed relation with their '''Cable Connector''' parent to avoid cyclic dependencies. They are shown as a children in the [[Tree_View|Tree View]] only for visual organization of objects. Undesirable consequence: when the '''Cable Connector''' is copied, all its child CableTerminal and SuppLines objects must always be manually copied with it.
* [[Cables_SuppLines|SuppLines]] or [[Cables_CableTerminal|CableTerminal]] child objects are created automatically depending on '''Preset''', their shape and placement are controlled by '''Cable Connector'''.
</div>

<span id="Properties"></span>
==Propriétés==

Un objet '''Cable Connector''' partage les propriétés communes et les comportements de tous les [[Arch_Component/fr|Arch Composants]].

<span id="Data"></span>
===Données===

<div lang="en" dir="ltr" class="mw-content-ltr">
{{TitleProperty|Component}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Some most frequently used properties from the group are described here. The rest is available at [[Arch_Component#Data|Arch Component]]
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Base|Link}}: An external shape of any [[Part_Workbench|Shape]]-based base object can be used here. This will replace the default method of shape creaction and an external shape will be used. '''Number Of Terminals''' and '''Number Of Supp Lines''' parameters become visible and can be changed if Base property is not None.
</div>

{{TitleProperty|Cable Connector}}

<div class="mw-translate-fuzzy">
* {{PropertyData|Height|Length}} : spécifie la hauteur du connecteur. La hauteur par défaut est de 5 mm.
* {{PropertyData|Height|Length}} : spécifie la taille des trous en mm<sup>2</sup>. La taille des trous par défaut est de 2 mm<sup>2</sup>.
* {{PropertyData|Number of Holes|Integer}} : spécifie le nombre de trous. Par défaut, il y a 3 trous.
* {{PropertyData|Thickness|Length}} : Spécifie l'épaisseur de la paroi entre le trou et la surface externe du connecteur. L'épaisseur par défaut est de 1 mm.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Tutorials==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* [[Cables_Create_Custom_Connector|Cables Create Custom Connector]] describes the creation of a connector with a [[#Fixed_PresetType|Fixed PresetType]].
</div>

<span id="Typical_workflow"></span>
== Flux de travail typique ==

Ce flux de travail montre comment construire un connecteur, une boîte à câble, un câble et comment un sous-fil du câble peut être passé à travers l'un des trous du connecteur.

<div class="mw-translate-fuzzy">
# Créez une '''boîte''' et un '''câble''' qui lui est attaché comme décrit dans [[Cables_CableBox/fr#Flux_de_travail_typique|Flux de travail typique de la boîte]].
# Sélectionnez '''Cable Box''' dans la [[Tree_view/fr|vue en arborescence]] et créez un '''connecteur''' comme décrit dans [[#Utilisation|Utilisation]].
# Attachez le '''connecteur''' à la '''boîte''' en le définissant le Map Mode à Attachment Support et Object's XY.
# Déplacez le '''connecteur''' à la position souhaitée en utilisant la propriété Position in Attachment Offset.
# Assurez-vous que la propriété '''Sub Wires Fillet Radius''' d'un '''Cable''' est réglée sur 0 mm.
# Cachez les formes '''Cable Box''' et '''Cable''' dans la [[Tree_view/fr|vue en arborescence]], par exemple en appuyant sur la touche {{KEY|Espace}}. Les fils secondaires du câble doivent être encore visibles.
# Attachez l'extrémité du plus long sous-fil créé à l'étape 1 au point de construction supérieur du premier trou du '''connecteur'''.
# Attachez l'avant-dernière point du même fil secondaire au point de construction inférieur du premier trou du '''connecteur'''.
# Lorsque la forme désirée du sous-fil a été construite, la propriété '''Sub Wires Fillet Radius''' d'un '''câble''' peut être réglée, par exemple, à 4mm.
# Faites apparaître les formes '''Cable''' et '''Cable Box''' dans la [[Tree_view/fr|vue en arborescence]], par exemple en appuyant sur la touche {{KEY|Espace}}.
</div>

[[Image:Cables_CableConnector_Example2_static.png]]
{{Caption|Exemple de sous-câble passé dans le trou du connecteur}}

[[Cables_Example4_CableConnector|Voici l'image animée]] montrant les étapes décrites ci-dessus.


{{Docnav/fr
|[[Cables_CableBox/fr|Boîte]]
|[[Cables_CableLightPoint/fr|Source lumineuse]] 
|[[Cables_Workbench/fr|Cables]]
|IconL=Cables_CableBox.svg
|IconR=Cables_CableLightPoint.svg
|IconC=Cables_workbench_icon.svg
}}

[[Category:External_Command_Reference{{#translation:}}]]
[[Category:Cables{{#translation:}}]]