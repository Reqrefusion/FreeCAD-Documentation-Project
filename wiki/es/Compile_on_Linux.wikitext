<languages/>

{{Docnav/es
|[[Compile_on_Windows/es|Compilar en Windows]]
|[[Compile_on_MacOS/es|Compilar en MacOS]]
}}

{{VeryImportantMessage|Hay un contenedor experimental FreeCAD Docker que se está probando para el desarrollo de FreeCAD. Lea más sobre ello en [[Compile on Docker/es|Compilar en Docker]]}}

{{TOCright}}

<span id="Overview"></span>
== Vista general ==

<div class="mw-translate-fuzzy">
En las distribuciones recientes de Linux, FreeCAD es generalmente fácil de construir, ya que todas las dependencias suelen ser proporcionadas por el administrador de paquetes. Básicamente implica 3 pasos:
# Obtener el código fuente de FreeCAD
# Obtener las dependencias o paquetes de los que depende FreeCAD
# Configurar con {{incode|cmake}} y compilar con {{incode|make}}
</div>

<div class="mw-translate-fuzzy">
A continuación, encontrará explicaciones detalladas de todo el proceso, algunos [[#Automatic build scripts|build scripts]], y las particularidades que puede encontrar. Si encuentras algo incorrecto o desactualizado en el texto de abajo (las distribuciones de Linux cambian a menudo), o si usas una distribución que no está en la lista, discute el tema en el [https://forum.freecadweb.org/index.php forum], y ayúdanos a corregirlo.
</div>

[[File:FreeCAD_source_compilation_workflow.svg|800px]]

{{Caption|Flujo de trabajo general para compilar FreeCAD desde la fuente. Las dependencias de terceros deben estar en el sistema, así como el propio código fuente de FreeCAD. CMake configura el sistema de manera que con una sola instrucción de creación se compila todo el proyecto.}}

<span id="Getting_the_source"></span>
== Obtener la fuente ==

=== Git ===

La mejor manera de obtener el código es clonar el repositorio Git de sólo lectura [https://github.com/FreeCAD/FreeCAD]. Para ello se necesita el programa {{incode|git}} que se puede instalar fácilmente en la mayoría de las distribuciones de Linux. También puede obtenerse en el [http://git-scm.com/ sitio web oficial].

Git se puede instalar mediante el siguiente comando:

{{Code|lang=bash|code=
sudo apt install git
}}

El siguiente comando colocará una copia de la última versión del código fuente de FreeCAD en un nuevo directorio llamado {{incode|freecad-source}}.

{{Code|lang=bash|code=
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad-source
}}

Para más información sobre el uso de Git y la contribución de código al proyecto, véase [[Source code management/rs|Gestión del código fuente]].

<span id="Getting_the_dependencies"></span>
== Obtener las dependencias ==

<div class="mw-translate-fuzzy">
Para compilar FreeCAD tienes que instalar las dependencias necesarias mencionadas en [[Third Party Libraries/es|Bibliotecas de terceros]]; los paquetes que contienen estas dependencias están listados abajo para diferentes distribuciones de Linux. Tenga en cuenta que los nombres y la disponibilidad de las bibliotecas dependerán de su distribución particular; si su distribución es antigua, algunos paquetes pueden no estar disponibles o tener un nombre diferente. En este caso, busque en la sección [[#Older and non-conventional distributions|Distribuciones antiguas y no convencionales]] más abajo.
</div>

Una vez que tengas todas las dependencias instaladas, procede a [[#Compilar_FreeCAD|compilar FreeCAD]].

Ten en cuenta que el código fuente de FreeCAD tiene un tamaño de unos 500 MB; puede ser tres veces mayor si clonas el repositorio Git con todo su historial de modificaciones. Obtener todas las dependencias puede requerir la descarga de 500 MB o más de nuevos archivos; cuando estos archivos se descomprimen pueden requerir 1500 MB o más de espacio. También ten en cuenta que el proceso de compilación puede generar hasta 1500 MB de archivos adicionales ya que el sistema copia y modifica todo el código fuente. Por lo tanto, asegúrese de tener suficiente espacio libre en su disco duro, al menos 4 GB, cuando intente la compilación.

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Debian_and_Ubuntu"></span>
=== Debian y Ubuntu ===

<div class="mw-collapsible-content">

En los sistemas basados en Debian (Debian, Ubuntu, Mint, etc.) es bastante fácil conseguir instalar todas las dependencias necesarias. La mayoría de las bibliotecas están disponibles a través de {{incode|apt}} o del gestor de paquetes Synaptic.

Si ya has instalado FreeCAD desde los repositorios oficiales, puedes instalar sus dependencias de construcción con esta única línea de código en un terminal:

{{Code|code=
sudo apt build-dep freecad
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
Alternatively, replace {{incode|freecad}} with {{incode|freecad-daily}} to install the build dependencies for the main development branch. You'll need to have the [[Installing_on_Linux#Development_PPA_(Daily)|freecad-stable/freecad-daily PPAs]] added to your software sources.
</div>

Sin embargo, si la versión de FreeCAD en los repositorios es antigua, las dependencias pueden ser las incorrectas para compilar una versión reciente de FreeCAD. Por lo tanto, comprueba que tienes instalados los siguientes paquetes.

Estos paquetes son esenciales para que cualquier tipo de compilación tenga éxito:
*{{incode|build-essential}}, instala los compiladores C y C++, las librerías de desarrollo C y el programa {{incode|make}}.
*{{incode|cmake}}, herramienta esencial para configurar el código fuente de FreeCAD. También puedes querer instalar {{incode|cmake-gui}} y {{incode|cmake-curses-gui}} para una opción gráfica.
*{{incode|libtool}}, herramientas esenciales para producir bibliotecas compartidas.
*{{incode|lsb-release}}, la utilidad estándar de informes de base normalmente ya está instalada en un sistema Debian, y le permite distinguir mediante programación entre una instalación Debian pura o una variante, como Ubuntu o Linux Mint. No elimine este paquete, ya que muchos otros paquetes del sistema pueden depender de él.

La compilación de FreeCAD utiliza el lenguaje Python, y también se utiliza en tiempo de ejecución como lenguaje de scripting. Si estás usando una distribución basada en Debian el intérprete de Python normalmente ya está instalado.
*{{incode|python3}}
*{{incode|swig}}, la herramienta que crea interfaces entre el código C++ y Python.

Es necesario instalar las bibliotecas Boost:

*{{incode|libboost-dev}}
*{{incode|libboost-date-time-dev}}
*{{incode|libboost-filesystem-dev}}
*{{incode|libboost-graph-dev}}
*{{incode|libboost-iostreams-dev}}
*{{incode|libboost-program-options-dev}}
*{{incode|libboost-python-dev}}
*{{incode|libboost-regex-dev}}
*{{incode|libboost-serialization-dev}}
*{{incode|libboost-thread-dev}}

<div class="mw-translate-fuzzy">
Es necesario instalar las bibliotecas de Coin:
*{{incode|libcoin80-dev}}, para Debian Jessie, Stretch, Ubuntu 16.04 a 18.10, o
*{{incode|libcoin-dev}}, para Debian Buster, Ubuntu 19.04 y más recientes, así como para Ubuntu 18.04/18.10 con los PPAs [[Installing_on_Linux#Official_Ubuntu_repository|freecad-stable/freecad-daily]] añadidos a sus fuentes de software.
</div>

<div class="mw-translate-fuzzy">
Varias bibliotecas que se ocupan de las matemáticas, las superficies trianguladas, la ordenación, las mallas, la visión por ordenador, las proyecciones cartográficas, la visualización 3D, el sistema de ventanas X11, el análisis sintáctico de XML y la lectura de archivos Zip:
</div>

*{{incode|libeigen3-dev}}
*{{incode|libgts-bin}}
*{{incode|libgts-dev}}
*{{incode|libkdtree++-dev}}
*{{incode|libmedc-dev}}
*{{incode|libopencv-dev}} or {{incode|libcv-dev}}
*{{incode|libproj-dev}}
*{{incode|libvtk9-dev}}, {{incode|libvtk8-dev}}, {{incode|libvtk7-dev}} or {{incode|libvtk6-dev}}
*{{incode|libx11-dev}}
*{{incode|libxerces-c-dev}}
*{{incode|libyaml-cpp-dev}}
*{{incode|libzipios++-dev}}
*{{incode|libpcl-dev}}


<div lang="en" dir="ltr" class="mw-content-ltr">
==== Python 3 and Qt6 ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
To compile FreeCAD for Debian Trixie install the following dependencies.
</div>

*{{incode|pybind11-dev}}
*{{incode|qt6-base-dev}}
*{{incode|qt6-svg-dev}}
*{{incode|qt6-tools-dev}}
*{{incode|qt6-webengine-dev}}
*{{incode|libpyside6-dev}}
*{{incode|libshiboken6-dev}}
*{{incode|pyside6-tools}}
*{{incode|pyqt6-dev-tools}}
*{{incode|python3-dev}}
*{{incode|python3-matplotlib}}
*{{incode|python3-packaging}}
*{{incode|python3-pivy}}
*{{incode|python3-ply}}
*{{incode|python3-pyside6.qtcore}}
*{{incode|python3-pyside6.qtgui}}
*{{incode|python3-pyside6.qtnetwork}}
*{{incode|python3-pyside6.qtsvg}}
*{{incode|python3-pyside6.qtwebchannel}}
*{{incode|python3-pyside6.qtwebenginecore}}
*{{incode|python3-pyside6.qtwebenginequick}}
*{{incode|python3-pyside6.qtwebenginewidgets}}
*{{incode|python3-pyside6.qtwidgets}}

<span id="Python_3_and_Qt5"></span>
==== Python 3 y Qt5 ====

<div class="mw-translate-fuzzy">
Para compilar FreeCAD para Debian Buster, Ubuntu 19.04 y posteriores, así como Ubuntu 18.04/18.10 con el [[Installing_on_Linux/es#Repositorio_Oficial_Ubuntu|freecad-stable/freecad-daily PPAs]] añadido a sus fuentes de software, instale las siguientes dependencias.
</div>

*{{incode|qtbase5-dev}}
*{{incode|qttools5-dev}}
*{{incode|qt5-default}} (if compiling 0.20 on a machine that still has Qt4)
*{{incode|libqt5opengl5-dev}}
*{{incode|libqt5svg5-dev}}
*{{incode|qtwebengine5-dev}}
*{{incode|libqt5xmlpatterns5-dev}}
*{{incode|libqt5x11extras5-dev}}
*{{incode|libpyside2-dev}}
*{{incode|libshiboken2-dev}}
*{{incode|pyside2-tools}}
*{{incode|pyqt5-dev-tools}}
*{{incode|python3-dev}}
*{{incode|python3-matplotlib}}
*{{incode|python3-packaging}}
*{{incode|python3-pivy}}
*{{incode|python3-ply}}
*{{incode|python3-pyside2.qtcore}}
*{{incode|python3-pyside2.qtgui}}
*{{incode|python3-pyside2.qtsvg}}
*{{incode|python3-pyside2.qtwidgets}}
*{{incode|python3-pyside2.qtnetwork}}
*{{incode|python3-pyside2.qtwebengine}}
*{{incode|python3-pyside2.qtwebenginecore}}
*{{incode|python3-pyside2.qtwebenginewidgets}}
*{{incode|python3-pyside2.qtwebchannel}}
*{{incode|python3-pyside2uic}} (not required on Ubuntu 20.04 and later)

<span id="OpenCascade_kernel"></span>
==== Núcleo OpenCascade ====

El núcleo de OpenCascade es el núcleo de la biblioteca de gráficos para crear formas 3D. Existe una versión oficial OCCT, y una versión comunitaria OCE. La versión de la comunidad ya no se recomienda, ya que está obsoleta.

<div class="mw-translate-fuzzy">
Para Debian Buster y Ubuntu 18.10 y posteriores, así como para Ubuntu 18.04 con el [[Installing_on_Linux#Repositorio_Oficial_Ubuntu|freecad-stable/freecad-daily PPAs]] añadido a sus fuentes de software, instale los paquetes oficiales.
</div>

*{{incode|libocct*-dev}}
**{{incode|libocct-data-exchange-dev}}
**{{incode|libocct-draw-dev}}
**{{incode|libocct-foundation-dev}}
**{{incode|libocct-modeling-algorithms-dev}}
**{{incode|libocct-modeling-data-dev}}
**{{incode|libocct-ocaf-dev}}
**{{incode|libocct-visualization-dev}}
*{{incode|occt-draw}}

Para Debian Jessie, Stretch, Ubuntu 16.04 y posteriores, instale los paquetes de la edición comunitaria.

*{{incode|liboce*-dev}}
**{{incode|liboce-foundation-dev}}
**{{incode|liboce-modeling-dev}}
**{{incode|liboce-ocaf-dev}}
**{{incode|liboce-ocaf-lite-dev}}
**{{incode|liboce-visualization-dev}}
*{{incode|oce-draw}}

Puede instalar las bibliotecas individualmente, o utilizando la expansión de asterisco. Cambie {{incode|occ}} por {{incode|oce}} si desea instalar las bibliotecas comunitarias.

{{Code|code=
sudo apt install libocct*-dev
}}

<span id="Optional_packages"></span>
==== Paquetes opcionales ====

<div class="mw-translate-fuzzy">
Opcionalmente, también puede instalar estos paquetes adicionales:
* {{incode|libsimage-dev}}, para que Coin soporte formatos de archivo de imagen adicionales.
* {{incode|doxygen}} y {{incode|libcoin-doc}} (o {{incode|libcoin80-doc}} para los sistemas más antiguos), si quieres generar documentación del código fuente.
* {{incode|libspnav-dev}}, para soporte de [[3D input devices/es|Dispositivos de entrada 3D]], como el "Space Navigator" o el "Space Pilot" de 3Dconnexion.
* {{incode|checkinstall}}, si pretende registrar los archivos instalados en el gestor de paquetes de su sistema, para poder desinstalarlo más tarde.
</div>

<span id="Single_command_for_Python_3_and_Qt5"></span>
==== Comando único para Python 3 y Qt5 ====

Requiere Pyside2 disponible en Debian buster y el [[Installing_on_Linux/es#Repositorio_Oficial_Ubuntu|freecad-stable/freecad-daily PPAs]].

{{Code|lang=bash|code=
sudo apt install cmake cmake-gui libboost-date-time-dev libboost-dev libboost-filesystem-dev libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev libboost-python-dev libboost-regex-dev libboost-serialization-dev libboost-thread-dev libcoin-dev libeigen3-dev libgts-bin libgts-dev libkdtree++-dev libmedc-dev libocct-data-exchange-dev libocct-ocaf-dev libocct-visualization-dev libopencv-dev libproj-dev libpyside2-dev libqt5opengl5-dev libqt5svg5-dev qtwebengine5-dev libqt5x11extras5-dev libqt5xmlpatterns5-dev libshiboken2-dev libspnav-dev libvtk7-dev libx11-dev libxerces-c-dev libzipios++-dev occt-draw pyside2-tools python3-dev python3-matplotlib python3-packaging python3-pivy python3-ply python3-pyside2.qtcore python3-pyside2.qtgui python3-pyside2.qtsvg python3-pyside2.qtwidgets python3-pyside2.qtnetwork python3-pyside2.qtwebengine python3-pyside2.qtwebenginecore python3-pyside2.qtwebenginewidgets python3-pyside2.qtwebchannel python3-markdown python3-git python3-pyside2uic qtbase5-dev qttools5-dev swig libyaml-cpp-dev
}}

<div class="mw-translate-fuzzy">
NOTA: En algunas versiones de Ubuntu y algunas versiones de Qt, obtendrá un error de que no se puede encontrar python3-pyside2uic - en esos sistemas puede omitirlo con seguridad.  En Ubuntu 20.04 tendrá que añadir {{incode|pyqt5-dev-tools}}. Puede encontrar más información en [https://forum.freecadweb.org/viewtopic.php?t=51324 esta discusión del foro].
</div>

<div class="mw-collapsible mw-collapsed" style="background-color:#e0e0e0">

<div lang="en" dir="ltr" class="mw-content-ltr">
<div class="mw-collapsible-content">
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{Code|lang=bash|code=
sudo apt install cmake debhelper dh-exec dh-python libboost-date-time-dev libboost-dev libboost-filesystem-dev libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev libboost-python-dev libboost-regex-dev libboost-serialization-dev libboost-thread-dev libcoin80-dev libeigen3-dev libgts-bin libgts-dev libkdtree++-dev libmedc-dev libocct-data-exchange-dev libocct-ocaf-dev libocct-visualization-dev libopencv-dev libproj-dev libpyside-dev libqt4-dev libqt4-opengl-dev libqtwebkit-dev libshiboken-dev libspnav-dev libvtk6-dev libx11-dev libxerces-c-dev libzipios++-dev lsb-release occt-draw pyside-tools python-dev python-matplotlib python-pivy python-ply swig
}}
</div>


<div class="mw-translate-fuzzy">
Los usuarios de Ubuntu 16.04 por favor vean también la discusión de compilación en el foro: [http://forum.freecadweb.org/viewtopic.php?f=4&t=16292 Compilación en Linux (Kubuntu): CMake no puede encontrar VTK].
</div>

</div>
</div>
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

=== Raspberry Pi ===

<div class="mw-collapsible-content">
Siga los mismos pasos que en Debian y Ubuntu.

<div class="mw-translate-fuzzy">
Hay problemas reportados cuando se intenta compilar en Raspbian con Python 3 y Qt5, pero la combinación Python 3 y Qt4 parece funcionar para versiones antiguas de FreeCAD.
</div>

<div class="mw-translate-fuzzy">
Para las nuevas versiones de FreeCAD la compilación con Py3/Qt5 tiene éxito si el sistema operativo instalado es Ubuntu 20.04.
</div>

<div class="mw-translate-fuzzy">
Debido a diferentes problemas con Qt, en esta versión no se encontrarán las herramientas normales de PySide.
</div>
{{Code|lang=bash|code=
E: Unable to locate package python3-pyside2uic
}}

En este caso, podemos instalar los paquetes desde PyQt y crear enlaces simbólicos a las herramientas necesarias.
{{Code|lang=bash|code=
sudo apt-get install pyqt5-dev
sudo apt-get install pyqt5-dev-tools
cd /usr/bin/
ln -s pyrcc5 pyside2-rcc
ln -s pyuic5 pyside2-uic
}}

Ahora la compilación puede continuar.
{{Code|lang=bash|code=
cd build/
cmake ../ -DBUILD_QT5=ON -DPYTHON_EXECUTABLE=/usr/bin/python3 -DUSE_PYBIND11=ON
make -j2
}}

La opción {{incode|-j}} de {{incode|make}} no debe ser más de 3 porque la Raspberry Pi tiene memoria limitada. Tardará varias horas en compilar, por lo que es mejor hacerlo durante la noche.

<div class="mw-translate-fuzzy">
Más información, [https://forum.freecadweb.org/viewtopic.php?f=42&t=37458&start=160#p396652 FreeCAD y Raspberry Pi 4].
</div>
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

=== Fedora ===

<div class="mw-collapsible-content">
<div lang="en" dir="ltr" class="mw-content-ltr">
There is a bug in opencascade cmake files which results in cmake failing to find the opencascade libraries on Fedora. This can easily be fixed by making one minor change to the top level cmake file of opencascade installed on Fedora. Details here:
https://bugzilla.redhat.com/show_bug.cgi?id=2083568.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Near the top of the file OpenCASCADEConfig.cmake, change the following line to use {{Incode|REAL_PATH()}}. This fixes a bug triggered by the use of a symlink from {{Incode|/lib}} to {{Incode|/usr/lib}} of Fedora, which cmake script fails to handle correctly. This is due to making narrow assumptions about where the include files are usually found on Linux and not testing for a valid result.
</div> 

<div lang="en" dir="ltr" class="mw-content-ltr">
This file is usually installed in {{FileName|/usr/lib64/cmake/opencascade/OpenCASCADEConfig.cmake}}.
</div>

{{Code|lang=bash|code=
get_filename_component (OpenCASCADE_INSTALL_PREFIX "${OpenCASCADE_INSTALL_PREFIX}" PATH)
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
change this to:
</div>

{{Code|lang=bash|code=
file (REAL_PATH ${OpenCASCADE_INSTALL_PREFIX} OpenCASCADE_INSTALL_PREFIX)
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
This trivial change needs to be made inside the build directory once cmake has been run and failed. Re-running cmake will then correctly detect the OCCT libraries in the normal way.
</div> 

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Fedora40 ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Fedora allows concurrent installation of Qt5 and Qt6 libraries. Adding the Qt6 libraries relevant to FreeCAD can be done using dnf:
</div>

{{Code|lang=bash|code=
dnf install python3-shiboken6 python3-shiboken6-devel python3-pyside6 python3-pyside6-devel\
 pyside6-tools qt6-qtsvg qt6-qtsvg-devel qt6-qttools-devel python3-pyqt6-devel
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
'''BEWARE:''' A new feature, PCL, was introduced in March 2025. This requires two additional packages: pcl and pcl-devel. However, it fails to build on Fedora when using Qt6 libraries. Add the following to the cmake command line to disable this code.
</div>

{{Code|lang=bash|code=
-DFREECAD_USE_PCL=Off 
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
Some remote Google code for automatic testing of coding practice is now included by default. If you do not want to include this external code, which is subject to change without notice, use the cmake option:
</div>

{{Code|lang=bash|code=
-DENABLE_DEVELOPER_TESTS=Off
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
The following cmake command should be suitable for Fedora 40 with Qt6:
</div>

{{Code|lang=bash|code=
cmake -DCMAKE_BUILD_TYPE=Release -DFREECAD_QT_VERSION=6 -Wno-dev -DENABLE_DEVELOPER_TESTS=Off -DFREECAD_USE_PCL=Off  ../FreeCAD
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
Adjust the final directory to point to the FreeCAD source code directory.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Fedora38/39 ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Now install Python 3.11. This includes a notable change in how Python initializes when running a program. As a result FreeCAD fails to find OpenCamLib, meaning [[CAM_Surface|3D Surface]] and [[CAM_Waterline|Waterline]] are not available in the [[CAM_Workbench|CAM Workbench]]. This was fixed in the master branch on 20th Mar 2024 ([https://github.com/FreeCAD/FreeCAD/pull/13059 Pull request #13059]).
</div>

<div class="mw-translate-fuzzy">
Necesita los siguientes paquetes :
</div>

*{{Incode|gcc-c++}} (or possibly another C++ compiler?)
*{{Incode|cmake}}
*{{Incode|doxygen}}
*{{Incode|swig}}
*{{Incode|gettext}}
*{{Incode|dos2unix}}
*{{Incode|desktop-file-utils}}
*{{Incode|libXmu-devel}}
*{{Incode|freeimage-devel}}
*{{Incode|mesa-libGLU-devel}}
*{{Incode|opencascade-devel}}
*{{Incode|openmpi-devel}}
*{{Incode|python3}}
*{{Incode|python3-devel}}
*{{Incode|python3-pyside2}}
*{{Incode|python3-pyside2-devel}}
*{{Incode|pyside2-tools}}
*{{Incode|boost-devel}}
*{{Incode|tbb-devel}}
*{{Incode|eigen3-devel}}
*{{Incode|qt-devel}}
*{{Incode|qt5-qtwebengine-devel}}
*{{Incode|qt5-qtxmlpatterns}}
*{{Incode|qt5-qtxmlpatterns-devel}}
*{{Incode|qt5-qtsvg-devel}}
*{{Incode|qt5-qttools-static}}
*{{Incode|ode-devel}}
*{{Incode|xerces-c}}
*{{Incode|xerces-c-devel}}
*{{Incode|opencv-devel}}
*{{Incode|smesh-devel}}
*{{Incode|Coin3}}
*{{Incode|Coin3-devel}}
*{{Incode|yaml-cpp}}

(Abril 2021, Coin4 y Coin4-devel están disponibles )
(si coin2 es el último disponible para su versión de Fedora, utilice los paquetes de http://www.zultron.com/rpm-repo/)

*{{Incode|SoQt-devel}}
*{{Incode|freetype}}
*{{Incode|freetype-devel}}
*{{Incode|vtk}}
*{{Incode|vtk-devel}}
*{{Incode|med}}
*{{Incode|med-devel}}

<div class="mw-translate-fuzzy">
Y opcionalmente:
</div> 

<div class="mw-translate-fuzzy">
*libspnav-devel (para el soporte de dispositivos 3Dconnexion como el Space Navigator o el Space Pilot)
*python3-pivy ( https://bugzilla.redhat.com/show_bug.cgi?id=458975 Pivy no es obligatorio pero es necesario para el módulo Borrador)
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
To install all dependencies at once (tested on fedora 36 and 37):
</div>

{{Code|lang=bash|code=
sudo dnf install gcc-c++ cmake doxygen swig gettext dos2unix desktop-file-utils libXmu-devel freeimage-devel mesa-libGLU-devel opencascade-devel openmpi-devel python3 python3-devel python3-pyside2 python3-pyside2-devel pyside2-tools boost-devel tbb-devel eigen3-devel qt-devel qt5-qtwebengine-devel qt5-qtxmlpatterns qt5-qtxmlpatterns-devel qt5-qtsvg-devel qt5-qttools-static ode-devel xerces-c xerces-c-devel opencv-devel smesh-devel Coin3 Coin3-devel SoQt-devel freetype freetype-devel vtk vtk-devel med med-devel libspnav-devel python3-pivy python3-markdown python3-GitPython yaml-cpp
}}

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Gentoo ===

<div class="mw-collapsible-content">

La forma más fácil de comprobar qué paquetes son necesarios para compilar FreeCAD es comprobarlo a través de portage:

<tt>emerge -pv freecad</tt>

Esto debería dar una buena lista de paquetes adicionales que necesitas instalar en tu sistema.

Si FreeCAD no está disponible en Portage, está disponible en [https://github.com/waebbl/waebbl-gentoo waebbl overlay]. El rastreador de problemas en el Github de la superposición waebbl puede ayudar a guiar a través de algunos problemas que puede encontrar. El overlay proporciona <tt>freecad-9999</tt>, que puedes elegir para compilar, o simplemente usar para obtener las dependencias.

<tt>layman -a waebbl</tt>

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== openSUSE ===

<div class="mw-collapsible-content">

==== Tumbleweed ====

Los siguientes comandos instalarán los paquetes necesarios para construir FreeCAD con Qt5 y Python 3.

{{Code|code=
zypper in --no-recommends -t pattern devel_C_C++ devel_qt5

zypper in libqt5-qtbase-devel libqt5-qtsvg-devel libqt5-qttools-devel boost-devel swig libboost_program_options-devel libboost_mpi_python3-devel libboost_system-devel libboost_program_options-devel libboost_regex-devel libboost_python3-devel libboost_thread-devel libboost_system-devel libboost_headers-devel libboost_graph-devel python3 python3-devel python3-matplotlib python3-matplotlib-qt5 python3-pyside2 python3-pyside2-devel python3-pivy gcc gcc-fortran cmake occt-devel libXi-devel opencv-devel libxerces-c-devel Coin-devel SoQt-devel freetype2-devel eigen3-devel libode6 vtk-devel libmed-devel hdf5-openmpi-devel openmpi2-devel netgen-devel freeglut-devel libspnav-devel f2c doxygen dos2unix glew-devel yaml-cpp
}}

El siguiente comando instalará Qt Creator y el depurador de proyectos GNU.

{{Code|code=zypper in libqt5-creator gdb}}

Si falta algún paquete, puedes comprobar el archivo Tumbleweed [https://build.opensuse.org/package/view_file/openSUSE:Factory/FreeCAD/FreeCAD.spec "FreeCAD.spec"] en el [https://build.opensuse.org/package/show/openSUSE:Factory/FreeCAD Open Build Service].

Además, compruebe si hay algún parche que deba aplicar (como [https://build.opensuse.org/package/view_file/openSUSE:Factory/FreeCAD/0001-find-openmpi2-include-files.patch 0001-find-openmpi2-include-files.patch]).

==== Leap ====

Si hay una diferencia entre los paquetes disponibles en Tumbleweed y Leap, entonces puedes leer el archivo Leap [https://build.opensuse.org/package/view_file/openSUSE:Leap:15.0/FreeCAD/FreeCAD.spec "FreeCAD.spec"] en el [https://build.opensuse.org/ Open Build Service] para determinar los paquetes necesarios.

<div class="mw-translate-fuzzy">
Ver [https://forum.freecadweb.org/viewtopic.php?f=4&t=49726 piano_jonas guía no oficial "Compilar en openSUSE"].
</div>

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Arch Linux ===

<div class="mw-collapsible-content">

Necesitará las siguientes bibliotecas de los depósitos oficiales:

*{{incode|boost}}
*{{incode|cmake}}
*{{incode|coin}}
*{{incode|curl}}
*{{incode|desktop-file-utils}}
*{{incode|eigen}}
*{{incode|gcc-fortran}}
*{{incode|git}}
*{{incode|glew}}
*{{incode|hicolor-icon-theme}}
*{{incode|jsoncpp}}
*{{incode|libspnav}}
*{{incode|med}}
*{{incode|nlohmann-json}}
*{{incode|opencascade}}
*{{incode|pyside2-tools}}
*{{incode|pyside2}}
*{{incode|python-matplotlib}}
*{{incode|python-netcdf4}}
*{{incode|python-packaging}}
*{{incode|python-pivy}}
*{{incode|qt5-svg}}
*{{incode|qt5-tools}}
*{{incode|qt5-webengine}}
*{{incode|shared-mime-info}}
*{{incode|shiboken2}}
*{{incode|swig}}
*{{incode|utf8cpp}}
*{{incode|verdict}}
*{{incode|xerces-c}}
*{{incode|yaml-cpp}}

{{Code|code=
sudo pacman -S --needed --asdeps boost cmake coin curl desktop-file-utils eigen gcc-fortran git glew hicolor-icon-theme jsoncpp libspnav med nlohmann-json opencascade python-matplotlib python-netcdf4 python-packaging python-pivy qt5-svg qt5-tools qt5-webengine shared-mime-info swig utf8cpp xerces-c yaml-cpp 
}}

FreeCAD currently uses QT5. This requires packages which have been moved from the official repositories to the AUR. These packages will be compiled by source and may take a long time depending on the available hardware. 

{{Code|code=
yay -S --needed --asdeps pyside2 pyside2-tools shiboken2
}}

<!--T:139-->
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Older_and_non-conventional_distributions"></span>
=== Distribuciones antiguas y no convencionales ===

<div class="mw-collapsible-content">

En otras distribuciones, tenemos muy pocos comentarios de los usuarios, por lo que podría ser más difícil encontrar los paquetes necesarios.

Intente primero localizar las bibliotecas necesarias mencionadas en [[Third Party Libraries/es|bibliotecas de terceros]] en su gestor de paquetes. Tenga en cuenta que algunas de ellas pueden tener un nombre de paquete ligeramente diferente; busque {{incode|nombre}}, pero también {{incode|libname}}, {{incode|nombre-dev}}, {{incode|nombre-devel}}, y similares. Si no es posible, intente compilar esas bibliotecas usted mismo.

FreeCAD requiere una versión del compilador GNU g++ igual o superior a la 3.0.0, ya que FreeCAD está escrito principalmente en C++. Durante la compilación se ejecutan algunos scripts de Python, por lo que el intérprete de Python tiene que funcionar correctamente. Para evitar cualquier problema con el enlazador también es una buena idea tener las rutas de las bibliotecas en la variable {{incode|LD_LIBRARY_PATH}} o en el archivo {{incode|ld.so.conf}}. Esto ya se hace en las distribuciones modernas de Linux, pero puede ser necesario configurarlo en las más antiguas.

</div>
</div>

=== Pivy ===

<div class="mw-translate-fuzzy">
[[Pivy/es|Pivy]] (envoltorios de Python para Coin3d) no es necesario para construir FreeCAD o para iniciarlo, pero es necesario como una dependencia en tiempo de ejecución por el [[Draft_Workbench/es|Ambiente de Trabajo Borrador]]. Si no vas a utilizar este ambiente de trabajo, no necesitarás Pivy. Sin embargo, ten en cuenta que el Ambiente de Trabajo Borrador es utilizado internamente por otros ambientes de trabajo, como [[Arch_Workbench/es|Arquitectura]] y [[BIM_Workbench/es|BIM]], por lo que Pivy necesita ser instalado para utilizar estos ambientes de trabajo también.
</div>

En noviembre de 2015 la versión obsoleta de Pivy incluida con el código fuente de FreeCAD ya no compilará en muchos sistemas. Esto no es un gran problema ya que normalmente deberías obtener Pivy desde el gestor de paquetes de tu distribución; si no puedes encontrar Pivy, puede que tengas que compilarlo tú mismo, ver [[Extra_python_modules/es#Pivy|Instrucciones de compilación de Pivy]].

<span id="Debug_symbols"></span>
=== Símbolos de depuración ===

Para solucionar los fallos en FreeCAD, es útil tener los símbolos de depuración de las bibliotecas de dependencia importantes como Qt. Para ello, intenta instalar los paquetes de dependencia que terminan con {{incode|-dbg}}, {{incode|-dbgsym}}, {{incode|-debuginfo}} o similares, dependiendo de tu distribución de Linux.

Para Ubuntu, es posible que tenga que habilitar repositorios especiales para poder ver e instalar estos paquetes de depuración con el gestor de paquetes. Consulte [https://wiki.ubuntu.com/Debug_Symbol_Packages Debug Symbol Packages] para obtener más información.

<span id="Compile_FreeCAD"></span>
== Compila FreeCAD ==

<div class="mw-translate-fuzzy">
{{VeryImportantMessage|Compilación contra Python 2 y Qt4 ya no está bien soportada, y a partir de la versión 0.20 ya no está soportada en absoluto. Debería compilar contra Python 3 y Qt5. 0.20 requiere al menos Python3.6 y Qt 5.9.}}
</div>

FreeCAD utiliza CMake como su principal sistema de compilación, ya que está disponible en los principales sistemas operativos. La compilación con CMake es normalmente muy simple y ocurre en dos pasos.

# CMake comprueba que todos los programas y bibliotecas necesarios están presentes en tu sistema, y genera un {{incode|Makefile}} que se configura para el segundo paso. FreeCAD tiene varias opciones de configuración entre las que elegir, pero viene con unos valores por defecto razonables. Algunas alternativas se detallan a continuación.
# La compilación propiamente dicha, que se realiza con el programa {{incode|make}}, que genera los ejecutables de FreeCAD.

Dado que FreeCAD es una aplicación de gran tamaño, la compilación de todo el código fuente puede tardar entre 10 minutos y una hora, dependiendo de tu CPU y del número de núcleos de la CPU utilizados para la compilación.

<span id="Building"></span>
<div class="mw-translate-fuzzy">
=== Creación fuera-fuente ===
</div>

<div class="mw-translate-fuzzy">
Para construir fuera-fuente, simplemente crea un directorio de construcción, {{incode|freecad-build}}, distinto de tu carpeta de fuentes de FreeCAD, {{incode|freecad-source}}; entonces desde este directorio de construcción apunta {{incode|cmake}} a la carpeta de fuentes correcta. Puedes usar {{incode|cmake-gui}} o {{incode|ccmake}} en lugar de {{incode|cmake}} en las instrucciones de abajo también. Una vez que {{incode|cmake}} termine de configurar el entorno, utilice {{incode|make}} para iniciar la compilación real.
</div>

{{Code|lang=bash|code=
# from your freecad-source folder:
mkdir build
cd build
cmake ../
make -j$(nproc --ignore=2)
}}

<div class="mw-translate-fuzzy">
La opción {{incode|-j}} de {{incode|make}} controla cuántos trabajos (archivos) se compilan en paralelo. El programa {{incode|nproc}} imprime el número de núcleos de la CPU en su sistema; usándolo junto con la opción {{incode|-j}} puede elegir procesar tantos archivos como núcleos tenga, para acelerar la compilación general del programa. En el ejemplo anterior, utilizará todos los núcleos de tu sistema excepto dos; esto mantendrá a tu ordenador respondiendo para otros usos mientras la compilación se realiza en segundo plano. El ejecutable de FreeCAD aparecerá finalmente en el directorio {{incode|freecad-build/bin}}. Ver también [[Compiling_(Speeding_up)/es|Compilación (aceleración)]] para mejorar la velocidad de compilación.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Resolving cmake issues ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
If you have done a build before and get stuck on a dependency that is not recognized or can't seem to be resolved, try the following:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* Delete the contents of the build directory before running cmake again. FreeCAD is a rapidly moving target, you may be tripping over cached cmake information that points at an older version than the new repository head can use. Clearing the cache may allow cmake to recover and recognize the version you actually need.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* If cmake complains about missing a specific file, use a tool such as "apt-file search", or its equivalent in other package systems, to discover what package that file belongs to and install it. Bear in mind that you are likely to need the -dev version of the package that carries header or config files files required for FreeCAD to use the package.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Compiling against GNU libc 2.34 and later ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
GNU libc 2.34 introduces a change to the library that can cause builds on some Linux systems to fail with an error like:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{Code|lang=bash|code=
No rule to make target '/usr/lib/x86_64-linux-gnu/libdl.so
}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
To resolve this, a symbolic link must be manually created from the (now empty) system-installed libdl.so.* to the location your compiler says it is looking for the file. For example (if the actual installed copy of libdl.so on your system is /usr/lib/x86_64-linux-gnu/libdl.so.2):
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{Code|lang=bash|code=
sudo ln -s /usr/lib/x86_64-linux-gnu/libdl.so.2 /usr/lib/x86_64-linux-gnu/libdl.so
}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Adapt the command for the structure of your system by searching for libdl.so* and linking it to the appropriate location.
</div>

<span id="How_to_repair_your_source_code_directory"></span>
=== Cómo reparar su directorio de código fuente ===

Si accidentalmente realizaste una compilación dentro del directorio de código fuente, o agregaste archivos extraños, y quisieras restaurar el contenido a sólo el código fuente original, puedes realizar los siguientes pasos.

{{Code|lang=bash|code=
> .gitignore
git clean -df
git reset --hard HEAD
}}

La primera línea borra el archivo {{incode|.gitignore}}. Esto asegura que los siguientes comandos de limpieza y reinicio afectarán a todo el directorio y no ignorarán los elementos que coincidan con las expresiones en {{incode|.gitignore}}. La segunda línea borra todos los archivos y directorios que no son rastreados por el repositorio git; luego el último comando restablecerá cualquier cambio en los archivos rastreados, incluyendo el primer comando que borró el archivo {{incode|.gitignore}}.

Si no borra el directorio de fuentes, las siguientes ejecuciones de {{incode|cmake}} pueden no capturar las nuevas opciones del sistema si el código cambia.

<span id="Configuration"></span>
=== Configuración ===

Pasando diferentes opciones a {{incode|cmake}}, puedes cambiar cómo se compila FreeCAD. La sintaxis es la siguiente.

{{Code|code=
cmake -D <var>:<type>=<value> $SOURCE_DIR
}}

Donde {{incode|$SOURCE_DIR}} es el directorio que contiene el código fuente. El {{incode|<tipo>}} puede omitirse en la mayoría de los casos. El espacio después de la opción {{incode|-D}} también puede omitirse.

Por ejemplo, para evitar construir el [[FEM Workbench/es|Ambiente de trabajo MEF]]:

{{Code|lang=bash|code=
cmake -D BUILD_FEM:BOOL=OFF ../
cmake -DBUILD_FEM=OFF ../
}}

Todas las variables posibles están listadas en el archivo {{incode|InitializeFreeCADBuildOptions.cmake}}, ubicado en el directorio {{incode|cMake/FreeCAD_Helpers}}. En este archivo, busque la palabra {{incode|option}} para llegar a las variables que se pueden establecer, y ver sus valores por defecto.

<!--Do not remove the <pre> </pre> tags-->
<pre>
# ==============================================================================
# =================   All the options for the build process    =================
# ==============================================================================

option(BUILD_FORCE_DIRECTORY "The build directory must be different to the source directory." OFF)
option(BUILD_GUI "Build FreeCAD Gui. Otherwise you have only the command line and the Python import module." ON)
option(FREECAD_USE_EXTERNAL_ZIPIOS "Use system installed zipios++ instead of the bundled." OFF)
option(FREECAD_USE_EXTERNAL_SMESH "Use system installed smesh instead of the bundled." OFF)
...
</pre>
<!--Do not remove the <pre> </pre> tags-->

Alternativamente, utilice el comando {{incode|cmake -LH}} para listar la configuración actual, y por tanto todas las variables que pueden ser modificadas. También puede instalar y utilizar {{incode|cmake-gui}} para lanzar una interfaz gráfica que muestra todas las variables que pueden ser modificadas. En las siguientes secciones enumeramos algunas de las opciones más relevantes que puede querer utilizar.

<span id="For_a_Debug_build"></span>
==== Para una creación de depuración ==== 

Crea una compilación {{incode|Debug}} para solucionar fallos en FreeCAD. Ten en cuenta que con esta compilación el [[Sketcher_Workbench/es|Croquizador]] se vuelve muy lento con croquis complejos.

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 -DCMAKE_BUILD_TYPE=Debug ../
}}

<span id="For_a_Release_build"></span>
==== Para una creación de versión ====

Crea una compilación {{incode|Release}} para probar el código que no se bloquea. Una compilación {{incode|Release}} se ejecutará mucho más rápido que una compilación {{incode|Debug}}.

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 -DCMAKE_BUILD_TYPE=Release ../
}}

<span id="Building_against_Python_3_and_Qt5"></span>
==== Creación contra Python 3 y Qt5 ====

<div class="mw-translate-fuzzy">
Por defecto, FreeCAD 0.19 y anteriores construyen para Python 2 y Qt4. Dado que estos dos paquetes son obsoletos, es mejor construir para Python 3 y Qt5. El soporte para Python 2 y Qt4 se ha eliminado en FreeCAD 0.20 y no es necesario activar explícitamente Qt5 y Python 3 si se compilan las últimas versiones de desarrollo.
</div>

<div class="mw-translate-fuzzy">
Por 0.20_dev:
</div>
{{Code|lang=bash|code=
cmake ../
}}

<div class="mw-translate-fuzzy">
Tenga en cuenta que al cambiar entre las compilaciones 0.19 y 0.20, puede ser necesario borrar CMakeCache.txt antes de ejecutar cmake.
</div>

<span id="Building_for_a_specific_Python_version"></span>
==== Creación para una versión específica de Python ====

<div class="mw-translate-fuzzy">
Si el ejecutable {{incode|python}} por defecto en tu sistema es un enlace simbólico a Python 2, {{incode|cmake}} intentará configurar FreeCAD para esta versión. Puedes elegir otra versión de Python dando la ruta a un ejecutable específico:
</div>

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 ../
}}

Si eso no funciona, es posible que tenga que definir variables adicionales que apunten a las bibliotecas de Python deseadas y a los directorios de inclusión:

{{Code|lang=bash|code=
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3.6 \
    -DPYTHON_INCLUDE_DIR=/usr/include/python3.6m \
    -DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.6m.so \
    -DPYTHON_PACKAGES_PATH=/usr/lib/python3.6/site-packages/ \
    ../
}}

Es posible tener varias versiones independientes de Python en el mismo sistema, por lo que las ubicaciones y números de versión de sus archivos de Python dependerán de su distribución particular de Linux. Utilice {{incode|python3 -V}} para mostrar la versión de Python que está utilizando actualmente; sólo son necesarios los dos primeros números; por ejemplo, si el resultado es {{incode|Python 3.6.8}}, necesita especificar los directorios que se refieren a la versión 3.6. Si no conoce los directorios correctos, intente buscarlos con el comando {{incode|locate}}.

{{Code|code=
locate python3.6
}}

Puede utilizar {{incode|python3 -m site}} en un terminal para determinar el directorio {{incode|site-packages}}, o {{incode|dist-packages}} para los sistemas Debian.

<div lang="en" dir="ltr" class="mw-content-ltr">
Some components of FreeCAD, such as PySide, try to autodetect the most recent Python version installed on your system, which might fail if it is different from what you entered above. Adding the following cMake option might solve the issue:
</div>

{{Code|lang=bash|code=
-DPython3_FIND_STRATEGY=LOCATION
}}

<span id="Building_with_Qt_Creator_against_Python_3_and_Qt5"></span>
==== Creación con Qt Creator contra Python 3 y Qt5 ====

1. Inicie Qt Creator.

2. Haga clic en {{MenuCommand|Abierto Proyecto}}.

3. Navega hasta el directorio donde está el código fuente, {{incode|freecad-source/}}, y elige el archivo {{incode|CMakeLists.txt}} más alto.

4. Al seleccionar el archivo, se ejecutará automáticamente {{incode|cmake}} en él, pero puede fallar si las opciones apropiadas no están correctamente configuradas.

<div class="mw-translate-fuzzy">
5. Vaya a {{MenuCommand|Projects → Build & Run → Imported Kit → Build → Build Settings → CMake}}. Establezca el directorio de compilación adecuado, {{incode|freecad-build/}}.
</div>

6. Establezca las variables apropiadas en el diálogo Clave-Valor, de tipos {{incode|String}} y {{incode|Bool}}.
{{Code|code=
PYTHON_EXECUTABLE=/usr/bin/python3
}}

7. Si las variables no cargan el proyecto correctamente, puede que tenga que ir a {{MenuCommand|Projects → Manage Kits → Kits → Default (o Kit importado o similar) → CMake Configuration}}.
A continuación, pulse {{Button|Cambiar}}, y añada la configuración adecuada como se ha descrito anteriormente. Puede que tenga que añadir más variables sobre las rutas de Python, si no se encuentra el Python del sistema.
{{Code|code=
PYTHON_EXECUTABLE:STRING=/usr/bin/python3.7
PYTHON_INCLUDE_DIR:STRING=/usr/include/python3.7m
PYTHON_LIBRARY:STRING=/usr/lib/x86_64-linux-gnu/libpython3.7m.so
PYTHON_PACKAGES_PATH:STRING=/usr/lib/python3.7/site-packages
}}

7.1. Pulse {{Button|Aplicar}} y luego {{Button|Aceptar}}.

7.2. Asegúrese de que el resto de las opciones están correctamente configuradas, por ejemplo, {{MenuCommand|Versión de Qt}} debe ser una versión presente instalada en el sistema, como {{incode|Qt 5.9.5 en PATH (qt5)}}.

Pulse {{Button|Aplicar}} y luego {{Button|Aceptar}} para cerrar la configuración.

El programa {{incode|cmake}} debería ejecutarse automáticamente de nuevo, y debería rellenar todo el diálogo Clave-Valor con todas las variables configurables.

8. Vaya a {{MenuCommand|Projects → Build & Run → Imported Kit → Run → Run Settings → Run Configuration}} y elija {{incode|FreeCADMain}} para compilar la versión gráfica de FreeCAD, o {{incode|FreeCADMainCMD}} para compilar sólo la versión de línea de comandos.

9. Finalmente, vaya al menú {{MenuCommand|Build → Build Project "FreeCAD"}}. Si se trata de una nueva compilación, debería tardar varios minutos, incluso horas, dependiendo del número de procesadores que tengas disponibles.

<span id="Qt_designer_plugin"></span>
==== Qt designer complemento ====

Si quieres desarrollar código Qt para FreeCAD, necesitarás el plugin Qt Designer que proporciona todos los widgets personalizados de FreeCAD.

Entra en un directorio auxiliar del código fuente, ejecuta {{incode|qmake}} con el archivo de proyecto indicado para crear un {{incode|Makefile}}; luego ejecuta {{incode|make}} para compilar el plugin.

{{Code|lang=bash|code=
cd freecad-source/src/Tools/plugins/widget
qmake plugin.pro
make
}}

Si estás compilando para Qt5, asegúrate de que el binario {{incode|qmake}} es el correspondiente a esta versión, para que el {{incode|Makefile}} resultante contenga la información necesaria para Qt5.

{{Code|lang=bash|code=
cd freecad-source/src/Tools/plugins/widget
$QT_DIR/bin/qmake plugin.pro
make
}}

donde {{incode|$QT_DIR}} es el directorio que almacena las bibliotecas binarias de Qt, por ejemplo, {{incode|/usr/lib/x86_64-linux-gnu/qt5}}.

La biblioteca creada es {{incode|libFreeCAD_widgets.so}}, que debe copiarse en {{incode|$QT_DIR/plugins/designer}}.

{{Code|lang=bash|code=
sudo cp libFreeCAD_widgets.so $QT_DIR/plugins/designer
}}

<span id="External_or_internal_Pivy"></span>
==== Pivy externo o interno ====

Anteriormente, una versión de Pivy estaba incluida en el código fuente de FreeCAD (interno). Si querías usar la copia de Pivy de tu sistema (externo), necesitabas usar <código>-DFREECAD_USE_EXTERNAL_PIVY=1</código>.

El uso de Pivy externo se convirtió en el valor por defecto durante el desarrollo de FreeCAD 0.16, por lo que ya no es necesario configurar esta opción manualmente.

<span id="Doxygen_documentation"></span>
==== Documentación de Doxygen ====

Si tienes Doxygen instalado puedes construir la documentación del código fuente. Consulte [[source documentation/es|documentación de origen]] para obtener instrucciones.

<span id="Additional_documentation"></span>
=== Documentación adicional ===

El código fuente de FreeCAD es muy extenso, y con CMake es posible configurar muchas opciones. Aprender a usar CMake completamente puede ser útil para elegir las opciones adecuadas para tus necesidades particulares.
* [https://cmake.org/documentation/ CMake Documentación de referencia] de Kitware.
* [https://preshing.com/20170511/how-to-build-a-cmake-based-project/ Cómo construir un proyecto basado en CMake] (blog) por Preshing sobre programación.
* [https://preshing.com/20170522/learn-cmakes-scripting-language-in-15-minutes/ Aprende el lenguaje de scripting de CMake en 15 minutos] (blog) por Preshing sobre programación.

<span id="Making_a_debian_package"></span>
=== Hacer un paquete debian ===

Si planea construir un paquete Debian a partir de las fuentes, necesita instalar primero ciertos paquetes:

{{Code|lang=bash|code=
sudo apt install dh-make devscripts lintian
}}

Vaya al directorio de FreeCAD y llame a

{{Code|lang=bash|code=
debuild
}}

Una vez construido el paquete, puede utilizar {{incode|lintian}} para comprobar si el paquete contiene errores

{{Code|lang=bash|code=
lintian freecad-package.deb
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
==== *.deb package with checkinstall ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The Debian script {{incode|checkinstall}} allows to create a *.deb package that can be installed and removed with the standard {{incode|dpkg}} commands. It may need to be installed first (on Ubuntu use {{incode|sudo apt install checkinstall}}). It's interactive and asks for the required information providing helpful defaults. During the process the package is installed and a *.deb file and a backup archive are created.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
It's a good idea to define a name and a short description for the package. The name must be entered to uninstall it again and the desription will be listed by {{incode|dpkg -l}}. The default name "build" is not very informative.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Example:
</div>

{{Code|lang=bash|code=
cd freecad-source/build
cmake ..
make
sudo checkinstall                                  # e.g. name=freecad-test1
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
The result is a *.deb file in the build folder. {{incode|checkinstall}} will install the build by default. This is how you can install or uninstall it:
</div>

{{Code|lang=bash|code=
cd freecad-source/build
ls <nowiki>|</nowiki> grep freecad
        freecad-test1_20220814-1_amd64.deb
sudo dpkg -i freecad-test1_20220814-1_amd64.deb   # install
dkpg -l <nowiki>|</nowiki> grep freecad                            # find by name
sudo dpkg -r freecad-test1                        # uninstall by name
}}

<span id="Updating_the_source_code"></span>
== Actualización del código fuente ==

El sistema CMake permite actualizar de forma inteligente el código fuente, y sólo recompilar lo que ha cambiado, haciendo que las compilaciones posteriores sean más rápidas.

Muévete a la ubicación donde el código fuente de FreeCAD fue descargado por primera vez, y saca el nuevo código:

{{Code|lang=bash|code=
cd freecad-source
git pull
}}

A continuación, muévete al directorio de compilación donde el código fue compilado inicialmente, y ejecuta {{incode|cmake}} especificando el directorio actual (denotado por un punto); luego activa la re-compilación con {{incode|make}}.

{{Code|lang=bash|code=
cd build
cmake ../
make -j$(nproc --ignore=2)
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
== Uninstalling the source code ==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
In case the compiled source code was installed with {{incode|sudo make install}} (for Debian) the files were copied to the {{FileName|/usr/local}} folder into several subfolders. For uninstallation the file {{FileName|install_manifest.txt}} can be used. It has been created into the build folder during compilation and contains all installed files. As long as this file exists, the installation can be uninstalled.
</div>

{{Code|lang=bash|code=
cd freecad-source/build
xargs sudo rm < install_manifest.txt
}}

<span id="Troubleshooting"></span>
== Solución de problemas ==

<span id="For_64_bit_systems"></span>
=== Para sistemas de 64 bits ===

Cuando se compone FreeCAD para 64 bits hay un problema conocido con el paquete OpenCASCADE (OCCT) de 64 bits. Para que FreeCAD funcione correctamente puede ser necesario ejecutar el script {{incode|configure}} y establecer {{incode|CXXFLAGS}} adicionales:

{{Code|lang=bash|code=
./configure CXXFLAGS="-D_OCC64"
}}

Para los sistemas basados en Debian, esta opción no es necesaria cuando se utilizan los paquetes precompilados de OpenCASCADE porque éstos establecen el {{incode|CXXFLAGS}} adecuado internamente.

<span id="Automatic_build_scripts"></span>
== Scripts de creación automática ==

Aquí está todo lo que necesitas para una construcción completa de FreeCAD. Es un enfoque de un solo script y funciona en una distribución de Linux recién instalada. Los comandos pedirán la contraseña de root para la instalación de paquetes y nuevos repositorios online. Estos scripts deberían funcionar en versiones de 32 y 64 bits. Están escritos para diferentes versiones, pero también es probable que funcionen en una versión posterior con o sin cambios importantes.

<div class="mw-translate-fuzzy">
Si tienes un script de este tipo para tu distribución preferida, por favor discútelo en el [https://forum.freecadweb.org/viewforum.php?f=21&sid=e3c22dca9da076fefb56b1d5c5fb3134 foro de FreeCAD] para que podamos incorporarlo.
</div>

<div class="mw-collapsible mw-collapsed toccolours">

=== Ubuntu === 

<div class="mw-collapsible-content">

Estos scripts proporcionan una forma fiable de instalar el conjunto correcto de dependencias necesarias para construir y ejecutar FreeCAD en Ubuntu. Hacen uso de los archivos de paquetes personales de Ubuntu (PPA), y deberían funcionar en cualquier versión de Ubuntu a la que se dirija el PPA. El [https://launchpad.net/~freecad-maintainers/+archive/ubuntu/freecad-daily freecad-daily] PPA se dirige a versiones recientes de Ubuntu, mientras que el [https://launchpad.net/~freecad-maintainers/+archive/ubuntu/freecad-stable freecad-stable] PPA se dirige a las versiones oficialmente soportadas de Ubuntu.

Este script instala la instantánea diaria compilada de FreeCAD y sus dependencias. Añade el repositorio diario, obtiene las dependencias para construir esta versión, e instala los paquetes necesarios. Después procede a sacar el código fuente en un directorio particular, crea un directorio de compilación y cambia en él, configura el entorno de compilación con {{incode|cmake}}, y finalmente construye el programa completo con {{incode|make}}. Guarda el script en un archivo, hazlo ejecutable y ejecútalo, pero no utilices {{incode|sudo}}; se pedirán privilegios de superusuario sólo para los comandos seleccionados.
Pulsa "CTRL-ENTER" para cambiar de canal, "ALT-SHIFT-D" para subir, "ALT-SHIFT-B" para hacer un resumen, o pulsa "ALT" para hacer otros comandos.

{{Code|lang=bash|code=
#!/bin/sh
sudo add-apt-repository --enable-source ppa:freecad-maintainers/freecad-daily && sudo apt-get update
sudo apt-get build-dep freecad-daily
sudo apt-get install freecad-daily

git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad-source
mkdir freecad-source/build
cd freecad-source/build
cmake -DPYTHON_EXECUTABLE=/usr/bin/python3 -DFREECAD_USE_PYBIND11=ON ../
make -j$(nproc --ignore=2)
}}

Si lo deseas, puedes desinstalar la versión precompilada de FreeCAD ({{incode|freecad-daily}}) dejando las dependencias en su lugar, sin embargo, dejar este paquete instalado permitirá al gestor de paquetes mantener sus dependencias actualizadas también; esto es sobre todo útil si tienes la intención de seguir el desarrollo de FreeCAD, y actualizar y compilar constantemente las fuentes desde el repositorio Git.

El script anterior asume que quieres compilar la última versión de FreeCAD, por lo que estás usando el repositorio "diario" para obtener las dependencias. Sin embargo, puedes obtener las dependencias de la versión "estable" de tu versión actual de Ubuntu. Si este es el caso, reemplace la parte superior del script anterior con las siguientes instrucciones. Para Ubuntu 12.04, omita {{incode|--enable-source}} del comando.

{{Code|lang=bash|code=
#!/bin/sh
sudo add-apt-repository --enable-source ppa:freecad-maintainers/freecad-stable && sudo apt-get update
sudo apt-get build-dep freecad
sudo apt-get install libqt5xmlpatterns5-dev   # Needed for 0.20; should go away on next packaging update 
sudo apt-get install freecad
}}

Una vez que instales el paquete {{incode|freecad}} desde el repositorio {{incode|freecad-stable}}, sustituirá al ejecutable de FreeCAD que está disponible en el repositorio de Universe Ubuntu. El ejecutable se llamará simplemente {{incode|freecad}}, y no {{incode|freecad-stable}}.

</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== openSUSE ===

<div class="mw-collapsible-content">

<div class="mw-translate-fuzzy">
No se necesitan repositorios externos para compilar FreeCAD. Sin embargo, hay una incompatibilidad con python3-devel que debe ser eliminada.  FreeCAD puede ser compilado desde GIT
</div>

{{Code|lang=bash|code=
# install needed packages for development
sudo zypper install gcc cmake OpenCASCADE-devel libXerces-c-devel \
python-devel libqt4-devel python-qt4 Coin-devel SoQt-devel boost-devel \
libode-devel libQtWebKit-devel libeigen3-devel gcc-fortran git swig
 
# create new dir, and go into it
mkdir FreeCAD-Compiled 
cd FreeCAD-Compiled
 
# get the source
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git free-cad
 
# Now you will have a subfolder in this location called free-cad. It contains the source
 
# make another dir for compilation, and go into it
mkdir FreeCAD-Build1
cd FreeCAD-Build1 
 
# build configuration 
cmake ../free-cad
 
# build FreeCAD
make
 
# test FreeCAD
cd bin
./FreeCAD -t 0
}}

Como estás usando git, la próxima vez que desees compilar no tienes que clonar todo, simplemente tira de git y compila una vez más

{{Code|lang=bash|code=
# go into free-cad dir created earlier
cd free-cad
 
# pull
git pull
 
# get back to previous dir
cd ..
 
# Now repeat last few steps from before.
 
# make another dir for compilation, and go into it
mkdir FreeCAD-Build2
cd FreeCAD-Build2
 
# build configuration 
cmake ../free-cad
 
# build FreeCAD
# Note: to speed up build use all CPU cores: make -j$(nproc)
make
 
# test FreeCAD
cd bin
./FreeCAD -t 0
}}
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

=== Debian Squeeze ===

<div class="mw-collapsible-content">
{{Code|lang=bash|code=
# get the needed tools and libs
sudo apt-get install build-essential python libcoin60-dev libsoqt4-dev \
libxerces-c2-dev libboost-dev libboost-date-time-dev libboost-filesystem-dev \
libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev \
libboost-serialization-dev libboost-signals-dev libboost-regex-dev \
libqt4-dev qt4-dev-tools python2.5-dev \
libsimage-dev libopencascade-dev \
libsoqt4-dev libode-dev subversion cmake libeigen2-dev python-pivy \
libtool autotools-dev automake gfortran
 
# checkout the latest source
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad
 
# go to source dir
cd freecad
 
# build configuration 
cmake .
 
# build FreeCAD
# Note: to speed up build use all CPU cores: make -j$(nproc)
make
 
# test FreeCAD
cd bin
./FreeCAD -t 0
}}
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">

=== Fedora 27/28/29 === 

<div class="mw-collapsible-content">

<div class="mw-translate-fuzzy">
Enviado por el usuario [[http://forum.freecadweb.org/memberlist.php?mode=viewprofile&u=3666 PrzemoF]] en el foro.
</div>

{{Code|lang=bash|code=
#!/bin/bash

ARCH=$(arch)

MAIN_DIR=FreeCAD
BUILD_DIR=build

#FEDORA_VERSION=27
#FEDORA_VERSION=28
FEDORA_VERSION=29

PACKAGES="gcc cmake gcc-c++ boost-devel zlib-devel swig eigen3 qt-devel \
shiboken shiboken-devel pyside-tools python-pyside python-pyside-devel xerces-c \
xerces-c-devel OCE-devel smesh graphviz python-pivy python-matplotlib tbb-devel \
 freeimage-devel Coin3 Coin3-devel med-devel vtk-devel"

FEDORA_29_PACKAGES="boost-python2 boost-python3 boost-python2-devel boost-python3-devel"

if [ "$FEDORA_VERSION" = "29" ]; then
    PACKAGES="$PACKAGES $FEDORA_29_PACKAGES"
fi

echo "Installing packages required to build FreeCAD"
sudo dnf -y install $PACKAGES
cd ~
mkdir $MAIN_DIR <nowiki>||</nowiki> { echo "~/$MAIN_DIR already exist. Quitting.."; exit; }
cd $MAIN_DIR
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git
mkdir $BUILD_DIR <nowiki>||</nowiki> { echo "~/$BUILD_DIR already exist. Quitting.."; exit; }
cd $BUILD_DIR
cmake ../FreeCAD 
make -j$(nproc)
}}
</div>
</div>

<div class="mw-collapsible mw-collapsed toccolours">

<span id="Arch_using_AUR"></span>
=== Arch usando AUR ===

<div class="mw-collapsible-content">

[https://aur.archlinux.org/ Repositorio de usuarios Arch (AUR)] es una colección de recetas hechas por el usuario para construir paquetes que no están oficialmente soportados por los mantenedores de la distribución / comunidad. Por lo general, son seguros. Puedes ver quién mantiene el paquete y durante cuánto tiempo lo ha hecho. Se recomienda comprobar los archivos de construcción. También hay software que no es de código abierto disponible en esta área, incluso si es mantenido por la compañía oficial propietaria.

Requisito previo : git

<div class="mw-translate-fuzzy">
Pasos :
#Abrir un terminal. Opcionalmente, crear un directorio, por ejemplo, {{incode | mkdir git}}. Opcionalmente, cambiar de directorio, por ejemplo, {{incode|cd git}}.
#Clonar el repositorio AUR : {{incode|git clone http://aur.archlinux.org/packages/freecad-git}}
#Entrar en la carpeta del repositorio AUR : {{incode|cd freecad-git}}
#Compilar usando [https://wiki.archlinux.org/index.php/Makepkg Arch makepkg] : {{incode|makepkg -s}}. La bandera -s o --syncdeps también instalará las dependencias necesarias.
#Instalar el paquete creado : {{incode|makepkg --install}} o hacer doble clic en el pkgname-pkgver.pkg.tar.xz dentro de su navegador de archivos.
</div>

<div class="mw-translate-fuzzy">
Para actualizar FreeCAD a la última compilación simplemente repite el paso 3.Actualiza el repo de AUR cuando haya algún cambio de ruptura en la receta o nuevas características usando {{incode|git checkout -f}} dentro de la carpeta.
</div>


{{Docnav/es
|[[Compile_on_Windows/es|Compilar en Windows]]
|[[Compile_on_MacOS/es|Compilar en MacOS]]
}}

{{Userdocnavi{{#translation:}}}}
[[Category:Developer_Documentation{{#translation:}}]]
[[Category:Developer{{#translation:}}]]