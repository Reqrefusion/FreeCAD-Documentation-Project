    1 import FreeCAD as App

    2 import Part

    3

    4 # 新しいドキュメントを作成

    5 doc = App.newDocument("HoleBlock")

    6

    7 # 1. ベースとなる直方体を作成

    8 length = 40

    9 width = 20

   10 height = 10

   11 box = Part.makeBox(length, width, height)

   12

   13 # 2. 穴となる円柱を作成

   14 hole_diameter = 8

   15 hole_radius = hole_diameter / 2

   16 # 直方体を貫通するように、少し長めに作成

   17 cylinder = Part.makeCylinder(hole_radius, height + 2)

   18

   19 # 3. 円柱を直方体の中心に移動

   20 # FreeCADの配置(Placement)は、(位置ベクトル, 回転)で指定

   21 cylinder_pos = App.Vector(length / 2, width / 2, -1) # 中心に配置し、少し下から始める

   22 cylinder.Placement = App.Placement(cylinder_pos, App.Rotation())

   23

   24 # 4. 直方体から円柱を切り取る（ブーリアン演算）

   25 cut_block = box.cut(cylinder)

   26

   27 # 5. 作成した形状をドキュメントに表示

   28 Part.show(cut_block, "BlockWithHole")

   29

   30 # 6. ビューを再計算して画面を更新

   31 doc.recompute()