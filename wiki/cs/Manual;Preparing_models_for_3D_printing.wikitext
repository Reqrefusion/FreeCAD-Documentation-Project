<languages/>

{{Docnav/cs
|[[Manual:Modeling_for_product_design/cs|Modelování pro design produktů]]
|[[Manual:Generating_2D_drawings/cs|Generování 2D výkresů]]
|[[Manual:Introduction/cs|Manual start]]
|IconC=Crystal_Clear_manual.png
}}

{{Manual:TOC}}

Jedním z hlavních účelů FreeCADu je navrhovat objekty, které lze přeměnit na reálné fyzické produkty. Tyto návrhy lze sdílet s ostatními pro výrobu nebo, stále častěji, exportovat přímo do [https://en.wikipedia.org/wiki/3D_printing 3D tiskáren] nebo do [https://en.wikipedia.org/wiki/Milling_%28machining%29 CNC frézek a CNC strojů] pro automatizovanou výrobu. S FreeCADem můžete vytvářet přesné a detailní modely, které jsou připraveny pro různé výrobní metody. Tato kapitola vás provede procesem přípravy vašich modelů pro tyto stroje a zajistí, že splňují nezbytné specifikace pro úspěšnou výrobu, ať už pracujete s týmem nebo celý proces zvládáte sami.

Pokud jste při modelování postupovali opatrně, většina problémů spojených s 3D tiskem vašeho modelu by již měla být minimalizována. Mezi klíčové aspekty, na které je třeba se zaměřit, patří:

* '''Zajištění pevnosti vašich objektů''': Stejně jako objekty v reálném světě musí být i vaše 3D modely pevné. FreeCAD, zejména v rámci pracovního prostředí PartDesign, vám pomáhá zajistit, aby vaše modely zůstaly pevné během celého procesu navrhování. Software vás upozorní, pokud nějaká operace ohrožuje pevnost objektu. Pracovní prostředí Part navíc nabízí nástroj [[Image:Part_CheckGeometry.svg|16px]] [[Part_CheckGeometry/cs|Kontrola geometrie]], který vám umožňuje identifikovat potenciální vady nebo problémy, které by mohly narušit proces 3D tisku.

* '''Ověření správnosti rozměrů''': Přesnost je zásadní – to, co navrhnete ve FreeCADu, se přímo promítne do reálných rozměrů. Milimetr ve FreeCADu je milimetr ve fyzickém objektu, takže každý rozměr musí být pečlivě zvážen a ověřen, aby byla zajištěna přesnost.

* '''Správa degradace''': Je důležité si uvědomit, že žádná 3D tiskárna ani CNC frézka nedokáže přímo zpracovat soubory FreeCADu. Tyto stroje používají G-kód, strojový jazyk s různými dialekty v závislosti na stroji nebo dodavateli. Proces převodu vašeho modelu do G-kódu lze často provést automaticky pomocí softwaru pro řezání, ale máte také možnost provést jej slicování, abyste získali větší kontrolu. Během tohoto převodu je však nevyhnutelná určitá ztráta detailů nebo kvality, zejména při převodu modelu do formátu sítě pro tisk. Musíte zajistit, aby toto zhoršení zůstalo v přijatelných mezích a nemělo vliv na funkčnost nebo vzhled vašeho konečného objektu.

* '''Kompatibilita formátů exportu''': Pro 3D tisk je nejčastěji používaným formátem STL, ale ten váš model automaticky převádí na síť trojúhelníků, což může vést ke ztrátě některých detailů. Při exportu do formátu STL je důležité zvolit správné rozlišení a najít rovnováhu mezi zachováním detailů a velikostí souboru. Podobně pro CNC obrábění jsou vhodnější formáty jako STEP nebo IGES, protože lépe zachovávají původní geometrickou integritu návrhu než formát STL. Výběr správného formátu zajišťuje, že převod do G-kódu zůstane přesný.

* '''Analýza a kalibrace sítě''': Před exportem modelu do sliceru nebo generátoru CNC nástrojové dráhy je vhodné provést analýzu sítě pomocí nástroje [[Mesh_Workbench/cs|Mesh]] v programu FreeCAD, aby se odhalily nepravidelnosti, ne-manifoldové hrany nebo jiné problémy sítě, které by mohly zkomplikovat výrobní proces. Navíc, i když máte dokonalý model, ujistěte se, že je vaše 3D tiskárna nebo CNC stroj správně kalibrován (např. pokud jde o vyrovnání podložky, nastavení krokového motoru nebo konfiguraci extruderu), aby se předešlo problémům s kvalitou finálního produktu.

V následujících odstavcích budeme předpokládat, že jste již vytvořili pevné modely se správnými rozměry. Nyní se zaměříme na řízení procesu převodu do G-kódu, aby váš model zachoval kvalitu potřebnou pro 3D tisk nebo CNC obrábění. Pokud se budete řídit těmito pokyny, budete lépe připraveni na výrobu fyzických objektů přímo z vašich modelů vytvořených ve FreeCADu

<span id="Exporting_to_slicers"></span>
=== Export do slicerů ===

Nejběžnější technikou přípravy 3D modelu pro tisk je export 3D objektu z FreeCADu do specializovaného softwaru známého jako slicer. Slicer generuje G-kód rozřezáním modelu na tenké vrstvy, které 3D tiskárna následuje, aby objekt vytvořila vrstvu po vrstvě. Protože mnoho 3D tiskáren – zejména domácí nebo hobby modely – má jedinečné konfigurace, programy slicerů poskytují širokou škálu pokročilých nastavení. Tato nastavení vám umožňují přizpůsobit klíčové parametry, jako je výška vrstvy, rychlost tisku, hustota výplně a podpůrné struktury, a zajistit tak, že G-kód bude přizpůsoben specifickým vlastnostem a schopnostem vaší tiskárny.

Mnoho slicerů také nabízí funkce simulace a ověření tisku, které jsou neocenitelné pro náhled tiskového procesu. Můžete vizualizovat dráhu nástroje pro každou vrstvu, což pomáhá odhalit potenciální problémy, jako jsou převisy, které mohou vyžadovat podpory nebo oblasti, kde může být nedostatečné chlazení. Toto ověření před tiskem zajišťuje, že je váš model před zahájením tisku správně připraven, čímž se zabrání neúspěšným tiskům nebo plýtvání materiálem.

Slicery často obsahují další informace, jako je odhad doby tisku, spotřeby materiálu a nákladů na základě použitého filamentu nebo pryskyřice. To vám umožňuje činit informovaná rozhodnutí o procesu tisku a upravovat nastavení pro vyšší efektivitu nebo úsporu materiálu. Ačkoli složitější aspekty 3D tisku, jako je kalibrace stroje, výběr materiálu a následné zpracování, přesahují rámec této příručky, zaměříme se na to, jak správně exportovat model FreeCAD a používat software pro slicování, aby byl výstup správný a optimalizovaný pro vaši konkrétní tiskárnu.

<span id="Converting_objects_to_meshes"></span>
=== Konverze objektů na sítě ===

Žádný ze současných slicerů nedokáže přímo přijmout geometrii těles vytvořenou ve FreeCADu. Slicery jako Cura a PrusaSlicer pracují s formáty založenými na [https://en.wikipedia.org/wiki/Polygon_mesh síti], jako jsou STL, OBJ nebo 3MF, které představují geometrii povrchu objektu pomocí sítě trojúhelníků. Proto, aby bylo možné použít model vytvořený ve FreeCADu, musí být nejprve převeden do formátu sítě, který tyto slicery dokážou interpretovat.

Nejčastěji používaným formátem pro 3D tisk je STL. Jedním z důvodů, proč je STL preferován, je jeho jednoduchost – představuje 3D geometrii jako síť trojúhelníků bez zahrnutí složitých detailů, jako jsou barvy, materiály nebo textury. Tento minimalistický přístup zajišťuje, že soubory STL jsou lehké a kompatibilní s prakticky všemi slicery a 3D tiskárnami, což z něj činí průmyslový standard. Ačkoli jsou podporovány také formáty OBJ a 3MF, mohou obsahovat další informace, jako jsou textury a materiály, které jsou pro většinu úkolů 3D tisku zbytečné a mohou komplikovat proces slicování.

Naštěstí je převod pevného objektu na síť ve FreeCADu velmi jednoduchý, i když převod sítě zpět na pevný objekt je složitější operace. Během procesu převodu je důležité mít na paměti, že může dojít k určitému snížení kvality modelu, zejména při redukci složité geometrie na jednoduchou trojúhelníkovou síť. Musíte zajistit, aby toto snížení kvality zůstalo v přijatelných mezích, aby byla zachována přesnost tištěného objektu.

Ve FreeCADu se o všechny úkoly související se sítěmi stará [[Mesh_Workbench/cs|Pracovní plocha Mesh]]. Tento pracovní prostor obsahuje nástroje nejen pro převod mezi objekty Part a Mesh, ale také pro analýzu a opravu sítí. Ačkoli manipulace se sítěmi není primárním zaměřením FreeCADu, stává se nezbytnou při přípravě modelů pro 3D tisk. Objekty sítě jsou široce používány v jiných aplikacích a Mesh Workbench vám umožňuje tyto objekty plně spravovat a upravovat, aby byly připraveny pro další krok v procesu tisku.

* Převeďme díl Lego, který jsme vytvořili v minulé kapitole, do sítě STL. Geometrii lze stáhnout na konci uvedené kapitoly.
* Otevřete soubor FreeCADu obsahující díl Lega.
* Přepněte na [[Mesh_Workbench/cs|Mesh Workbench]]
* Vyberte kostku lega
* Vyberte menu '''Sítě → Vytvořit síť z tvaru'''
* Otevře se panel úkolů s několika možnostmi. Některé další algoritmy pro vytváření sítí (Mefisto nebo Netgen) nemusí být k dispozici, v závislosti na tom, jak byla zkompilována vaše verze FreeCADu. Algoritmus Standardní síť bude vždy k dispozici. Nabízí méně možností než ostatní dva, ale je zcela dostačující pro malé objekty, které se vejdou do maximální velikosti tisku 3D tiskárny.

[[File:FreeCAD MeshLego.png]]

* Vyberte '''Standardní''' nástroj sítě a ponechte hodnotu odchylky na výchozí hodnotě '''0.10'''. Stiskněte '''Ok'''.
* Bude vytvořen síťový objekt, přesně nad naším pevným objektem. Skryjte pevný objekt nebo jeden z objektů přesuňte stranou, abyste mohli oba objekty porovnat.
* Změňte vlastnost '''Zobrazení → Režim zobrazení''' nového objektu sítě na '''Ploché linie''', abyste viděli, jak došlo k triangulaci.
* Pokud nejste spokojeni a myslíte si, že výsledek je příliš hrubý, můžete operaci opakovat a snížit hodnotu odchylky. V níže uvedeném příkladu byla v levé síti použita výchozí hodnota '''0.10''', zatímco v pravé síti byla použita hodnota '''0.01''':

[[Image:Exercise_meshing_02.jpg]]

Ve většině případů však výchozí hodnoty poskytnou uspokojivý výsledek.

* We can now export our mesh to a mesh format, such as [https://en.wikipedia.org/wiki/STL_%28file_format%29 STL], which is currently the most widely used format in 3D printing, by using menu '''File → Export''' and choosing the STL file format.

In FreeCAD, the Mesh Workbench provides several algorithms for converting a solid model into a mesh, including Standard, Mefisto, Netgen, and Gmsh. The Standard algorithm is commonly used for small to medium-sized objects as it provides a balance between speed and mesh quality. When creating a mesh, two critical parameters are the surface deviation and angular deviation. Surface deviation controls how closely the mesh follows the original geometry, with smaller values providing a finer, more accurate mesh but potentially leading to larger file sizes. Angular deviation defines how much deviation is allowed based on changes in the model's angles, particularly for curves and sharp edges. Other options like relative surface deviation allow you to adjust the precision dynamically based on the model's scale, and features like applying face colors or defining mesh segments by color are useful for advanced rendering or grouping different regions of the model. Once the mesh is generated, it can be exported in formats like STL, OBJ, or 3MF, which are essential for preparing models for 3D printing. Mesh quality is crucial for ensuring that 3D printers interpret the model correctly, so selecting the right meshing algorithm and deviation settings can significantly affect the final print outcome.

=== Using PrusaSlicer ===

[https://github.com/prusa3d/prusaslicer/releases PrusaSlicer] is an application that converts STL, OBJ, and 3MF objects into G-code that can be sent directly to 3D printers. Like FreeCAD, it is free, open-source, and available on Windows, Mac OS, and Linux. Although it is developed by Prusa Research and optimized for Prusa 3D printers, PrusaSlicer can be used with almost any 3D printer, making it versatile for a wide range of machines. PrusaSlicer is based on Slic3r, the original slicer software, but with significant improvements and more frequent updates. Slic3r is no longer actively updated, while PrusaSlicer continues to evolve, adding new features such as adaptive layer heights, tree supports, and improved print strategies.

Correctly configuring a slicer for 3D printing is a complex process that requires a good understanding of your 3D printer's capabilities. While generating G-code without this knowledge might result in a file that doesn't work well on other printers, PrusaSlicer still provides an excellent way to verify that your STL file is correctly formatted and printable. The slicer's simulation features allow you to preview the G-code paths and check for any potential printing issues before you begin the actual print.

This is our exported STL file opened in PrusaSlicer. By just pressing on the '''slice''' button, the software divides your model into layers, generates the toolpaths for the 3D printer, and applies the necessary speed and temperature settings. It calculates the infill, support structures, and perimeters, then creates the G-code, which contains detailed instructions for the printer. You can preview the sliced model layer by layer, check estimated print time and filament usage, and finally save or send the G-code to your printer for the actual printing process.

[[File:FreeCAD PrusaSlicer.png]]

Apart from PrusaSlicer, there are several other slicer software options available for 3D printing. [https://ultimaker.com/fr/software/ultimaker-cura/ Cura], developed by Ultimaker, is one of the most popular open-source slicers and supports a wide range of printers with extensive customization. [https://www.simplify3d.com/ Simplify3D ] is a paid slicer known for its advanced features and efficient toolpath generation.[https://www.matterhackers.com/store/l/mattercontrol/sk/MKZGTDW6 MatterControl] is an open-source slicer that also includes basic CAD tools, while [https://www.raise3d.com/fr/ideamaker/ IdeaMaker] offers a user-friendly interface with adaptive layer heights, developed by Raise3D. Finally, [https://github.com/SoftFever/OrcaSlicer OrcaSlicer], a newer open-source option based on PrusaSlicer and Bambu Studio, provides additional features for various printers. Each slicer has unique strengths, making the best choice dependent on specific printer models and print requirements.

=== Generating G-code ===

The [[Image:Workbench_CAM.svg|16px]] [[CAM_Workbench|CAM Workbench]] in FreeCAD provides advanced options for generating G-code directly for CNC machines, offering greater flexibility and control compared to automatic slicing tools like those used for 3D printing. While 3D printing slicers can automatically convert a model into G-code with minimal input, CNC milling requires much more user involvement to ensure precise control over the toolpaths, speeds, depths, and other machining parameters. This makes the CAM Workbench essential for tasks that demand fine-tuned G-code, particularly for CNC milling, where machine complexity and the variety of operations (like cutting, drilling, and contouring) require careful planning.

In the CAM Workbench, G-code path generation is highly customizable. It features tools to generate complete machine paths for various operations, or, alternatively, you can build partial G-code segments and assemble them into a full milling operation. This modular approach allows you to tailor each step of the machining process, optimizing the toolpaths for efficiency, material type, and specific machine capabilities.

The CAM process is indeed much more intricate than 3D printing because CNC machines use different tools and must account for material removal, tool geometry, and safety margins, all of which are configured manually. In FreeCAD, building a simple CAM project requires defining toolpaths, adjusting cutting depths, selecting appropriate tools, and configuring work offsets, feeds, and speeds. Unlike slicer software, which handles most of this automatically, the CAM Workbench places the control in your hands, making it highly customizable but also more complex.

Though generating CNC milling paths is a topic too broad to cover in detail here, we’ll demonstrate how to create a simple CAM project in FreeCAD. While we won’t focus on every detail of real-world CNC machining, this guide will introduce you to the essential steps, emphasizing the level of input required to ensure accurate and efficient results. This added complexity is essential for CNC projects, where precision and customizability are critical to achieving desired machining outcomes.

* Load the file containing our Lego piece, and switch to the [[Image:Workbench_CAM.svg|16px]] [[CAM_Workbench|CAM Workbench]].
* Press on the [[Image:CAM_Job.svg|16px]] [[CAM_Job|Job]] button and select our lego piece.
* Since this section doesn’t aim to provide an in-depth tutorial of the CAM Workbench, we will be using the default values. If you would like a more detailed tutorial, please refer to [[CAM Walkthrough for the Impatient|CAM walk-through]]. Keep in mind that in the CAM Workbench, a stock body is automatically created around your object, representing the raw material that will be machined. Right now, this stock body extends 1 mm in all directions from the object.

[[File:FreeCAD CAM1.png]]

* The first step is to remove the unnecessary material from around our object. At this stage, we’re starting with a solid block of raw material, and we need to carve out the Lego brick from this block. This process involves defining the toolpaths that will gradually cut away the excess material, leaving behind the desired shape of the Lego.

* The following image shows the FreeCAD CAM Workbench setup for machining a Lego block. The model tree includes solid modeling operations like Pad, Pocket, and LinearPattern, which were used to shape the part. A Job is created, containing toolpaths under Operations that define how the material will be removed from the Stock. The Default Tool is selected for machining, and the Model-Body represents the 3D part being worked on. This setup prepares the object for generating G-code to control the CNC machine.

[[File:FreeCAD CAMtree.png]]

* Before we begin cutting away the excess material, let's make some adjustments to the milling tool that will be used. Although the CAM Workbench allows you to define custom tools, for simplicity, we will modify the default tool. This will ensure the settings are optimized for our project without needing to create a new tool from scratch.

* Click on the '''TC:Default Tool''' text. This will open up the '''Tool Controller Editor'''. Change the feed rates and spindle velocities as shown in the picture. The feed rates for horizontal and vertical cutting are set to 2000 mm/min, while the spindle speed is set to 2000 RPM with forward rotation. These settings control the movement and cutting speed of the tool during the machining process.

[[File:FreeCAD toolController.png]]

* Double-click on the tool itself and change its diameter to 1mm.
* Now we are ready to begin removing the excess material from the block, gradually carving out the Lego geometry. This process will involve the toolpaths we set, ensuring the final shape matches the intended design.
* Click on the [[Image:CAM_Profile.svg|16px]] [[CAM_Profile|Profile]]. This option is used to carve out the unnecessary material around the perimeter of the part, effectively shaping the outer boundaries to achieve the general dimensions of the Lego piece. 
* Normally you will not have to change any of the default values, except the '''Extra Offset''' located in the Operation tab. Set this option to 1 mm to ensure that the remaining object corresponds correctly to the Lego's boundaries.
* Once you press '''apply''' you should be able to see those green lines around the object. Those lines visualize the path our cutting object will follow when cutting the initial block.

[[File:FreeCAD CAMProfile.png]]

* Our next step is to create the 6 extruding cylinders on the top of the Lego block.
* Choose the top face and click on the [[Image:CAM_Pocket_Shape.svg|16px]] [[CAM_Pocket_Shape|Pocket Shape]] button. On the '''Extensions''' tab, enable Extensions and click on the edge of the top face (it should normally be automatically added in the default length box.
* Finally, on the '''Operation''' tab input -1.5 mm in the '''Pass Extension box''' and change the pattern option to a ZigZagOffset.
* Press '''apply''' and then close the tab.
* In a similar manner we can create the three cylinders on the bottom of the Lego piece.
* We can easily visualize the steps followed during the milling of the object by using the [[Image:CAM_SimulatorGL.svg|16px]] [[CAM_SimulatorGL|SimulatorGL]] option.

'''Downloads'''

* The STL file generated in this exercise: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/lego.stl
* The file generated during this exercise: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/path.FCStd
* The G-code file generated in this exercise: https://github.com/yorikvanhavre/FreeCAD-manual/blob/master/files/lego.gcode

'''Další informace:'''

* [[Mesh_Workbench|The Mesh Workbench]]
* [https://en.wikipedia.org/wiki/STL_%28file_format%29 The STL file format]
* [http://slic3r.org/ Slic3r]
* [https://ultimaker.com/en/products/cura-software Cura]
* [https://github.com/cblt2l/FreeCAD-CuraEngine-Plugin The Cura Workbench]
* [[CAM_Workbench|The CAM Workbench]]
* [http://camotics.org/ Camotics]

<span id="Videos"></span>
=== Videa ===

* [https://www.youtube.com/playlist?list=PL6Fiih6ItYsWCE20KtUJYpiDPrCA2rVpN How To Use FreeCAD For 3D Printing | Using The Realthunder Branch] A video playlist by Maker Tales about how to use FreeCAD for 3D printing.


{{Docnav/cs
|[[Manual:Modeling_for_product_design/cs|Modelování pro design produktů]]
|[[Manual:Generating_2D_drawings/cs|Generování 2D výkresů]]
|[[Manual:Introduction/cs|Manual start]]
|IconC=Crystal_Clear_manual.png
}}

[[Category:CAM{{#translation:}}]]
[[Category:Mesh{{#translation:}}]]
[[Category:Tutorials{{#translation:}}]]