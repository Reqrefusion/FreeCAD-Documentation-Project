<languages/>
{{TOCright}}

<span id="Description"></span>
==Opis==

Wszystkie makra powinny być odpowiednio udokumentowane w taki sam sposób, jak dokumentowane są [[Gui_Command/pl|polecenia Gui]].

Powinny mieć osobną stronę wiki oraz być wymienione w jednej z kategorii w [[Macros_recipes/pl|Przepisach na makra]].

Strona [[Macros_recipes/pl|Przepisy na makra]] zawiera dobry wybór makr stworzonych przez doświadczonych użytkowników, a wiele z nich można bezpośrednio zainstalować z poziomu [[Std_AddonMgr/pl|Menedżera dodatków]].

Zobacz [[GuiCommand_model/pl|model GuiCommand]] oraz strony makr takie jak [[Macro_Loft/pl|Makro Loft]] i [[Macro_Site_From_Contours/pl|Makro Site From Contours]], aby zobaczyć, jak powinny być dokumentowane makra. Powinny zawierać przynajmniej dwie sekcje: sekcję {{Emphasis|Opis}} z ogólnymi informacjami o użytkowaniu oraz sekcję {{Emphasis|Skrypt}} z właściwym kodem makra. Można dołączyć także inne sekcje według potrzeby, by dokładniej wyjaśnić sposób użycia makra.

Jeśli makro zapewnia dobrze zdefiniowaną funkcjonalność i jest dobrze udokumentowane, może zostać ostatecznie włączone jako część nowego lub istniejącego [[Workbenches/pl|środowiska pracy]].

<span id="New_macro_page"></span>
== Strona nowego makra ==

Oryginalna strona musi być napisana w języku angielskim. Po oznaczeniu jej do tłumaczenia przez jednego z administratorów, może zostać przetłumaczona na inny język.

Utwórz nową stronę dla makra, zaczynając nazwę od słowa {{incode|Macro_}}, a następnie dodaj nazwę makra, na przykład {{incode|Macro_Excellent_Modification}}.
Aby utworzyć link do strony, użyj: {{incode|<nowiki>[[Macro_Excellent_Modification|Macro Excellent Modification]]</nowiki>}}.

Na nowej stronie powinieneś użyć [[Template:Macro]] na samej górze, zawierającego minimum informacji:
 <nowiki>{{Macro
|Name=Macro Excellent Modification
|Description=This macro does excellent things on existing shapes
|Author=your username
|Date=2018-11-30
}}</nowiki>

Możesz dodać niestandardową ikonę, jeśli nie ma takiej samej nazwy jak makro; możesz również dodać inne pola informacji.
 <nowiki>{{Macro
|Name=Macro Excellent Modification
|Icon=Macro_custom_icon.svg
|Description=This macro does excellent things on existing shapes
|Author=your username
|Date=2018-11-30
|Version=3.14516
|SeeAlso=[[Macro_Regular_Modification|Macro Regular Modification]]
}}</nowiki>

Podczas tłumaczenia strony używaj szablonu z lokalizacją. Należy podać nazwę szablonu wraz z dwuliterowym kodem języka (np. {{incode|/fr}}, {{incode|/it}}, {{incode|/de}}) oraz bezpośrednio wskazać ikonę.
 <nowiki>{{Macro/fr
|Name=Macro Excellent Modification translated
|Icon=Macro_Excellent_Modification.svg
|Description=(Translated description)
|Author=your username
|Date=2018-11-30
}}</nowiki>

lub użyj pola {{incode|Translate}}.

 <nowiki>{{Macro/fr
|Name=Macro Excellent Modification
|Translate=Macro Excellent Modification translated
|Description=(Translated description)
|Author=your username
|Date=2018-11-30
}}</nowiki>

* Użyj [[:Special:Upload]] do przesłania niestandardowej ikony w formatach [[SVG/pl|SVG]] lub PNG. Ikona powinna mieć taką samą nazwę jak makro.
* W przeciwnym razie domyślnie używane <code>Icon=Text-x-python.svg</code> [[Image:Text-x-python.svg|32px]].
* Dla makr używanych w konsoli Pythona FreeCAD użyj <code>Icon=Text_console_python.png</code> [[Image:Text_console_python.png|32px]].
* Dla przykładowego makra wideo użyj szkieletu ikony [[Image:Text_Video_Movie.png|32px]], uzupełnij ekran, aby uzyskać np. [[Image:Macro_crank_simul.png|32px]] i zapisz nową ikonę pod tą samą nazwą co makro.

[[Template:Macro]] umieszcza informacje o używaniu i instalacji makr na każdej stronie.

[[Image:Macro_Recipes_MacroHowToInstall.png|200px]]
{{Caption|Linki do [[How_to_install_macros/pl|Jak instalować makra]] oraz [[Customize_Toolbars/pl|dostosowanie paski narzędzi]] w infoboksie na każdej stronie makra}}


<span id="Adding_the_macro_documentation"></span>
=== Dodawanie dokumentacji makra ===

* Podobnie jak w przypadku [[Gui_Command/pl|polecenia Gui]], wyjaśnij, co robi makro, jakie ma dane wejściowe, wyjściowe, opcje oraz ewentualne ograniczenia.
* Dodaj spersonalizowaną ikonę w formacie [[SVG/pl|SVG]] lub PNG, aby inni użytkownicy mogli umieścić makro na własnym pasku narzędzi.
* Dołącz jedną lub więcej ilustracji, które wyjaśnią sposób użycia narzędzia.
* Jeśli makro wykonuje złożone zadanie, rozważ dodanie animowanego GIF-a prezentującego jego działanie. Maksymalny rozmiar GIF-a to 500 x 500 pikseli; większe mogą nie działać poprawnie. Nie zmieniaj rozmiaru GIF-a, ponieważ wiki nie odtwarza przeskalowanych animacji.
* Wspomnij o powiązanych makrach i środowiskach pracy, które uzupełniają funkcjonalność tego narzędzia.
* Podaj wersję FreeCAD, w której makro zostało stworzone. Informację tę można uzyskać z {{MenuCommand|Pomoc → O programie FreeCAD → Kopiuj do schowka}}.

:Gdy te informacje są wklejone, wyglądają następująco
{{Code|code=
OS: Ubuntu 18.04.1 LTS
Word size of OS: 64-bit
Word size of FreeCAD: 64-bit
Version: 0.18.15302 (Git)
Build type: Release
Branch: master
Hash: 2e03d2f298677b8212c22cbbc3cb20b7c80eabb5
Python version: 2.7.15rc1
Qt version: 4.8.7
Coin version: 4.0.0a
OCC version: 7.3.0
Locale: English/UnitedStates (en_US)
}}

Rozważ dodanie tych informacji w bloku komentarza wewnątrz kodu makra.

<span id="Adding_the_macro_code"></span>
=== Dodawanie kodu makra ===

W sekcji {{Emphasis|Skrypt}} użyj [[Template:MacroCode]], aby umieścić kod makra na stronie. Utworzy to blok tekstu w czcionce o stałej szerokości, co zachowa wcięcia niezbędne dla [[Python/pl|Pythona]].

Jeśli blok kodu zawiera znaki <code>{{ }}</code> (podwójne nawiasy klamrowe zamykające i otwierające) lub <code>{{!}}</code> (pionowy pasek) to tagi <code>&lt;nowiki&gt; ... &lt;/nowiki&gt;</code> można dodać bezpośrednio, aby umożliwić wyświetlanie tych specjalnych symboli.

Ten [[Template:MacroCode]] zasadniczo generuje blok tagów HTML <code>&lt;pre&gt; ... &lt;/pre&gt;</code>, więc można ich użyć bezpośrednio zamiast używania szablonu. [[Std_AddonMgr/pl|Menedżer dodatków]] będzie szukał największego takiego bloku i użyje go do treści makra.

 <nowiki>{{MacroCode|code=

«Your code should be here»

}}</nowiki>

Lub jeśli zawiera znak pionową kreskę <code>{{!}}</code>.
 <nowiki>{{MacroCode|code=
&lt;nowiki&gt;

«Your code should be here»

&lt;/nowiki&gt;
}}</nowiki>

Lub
 <nowiki><pre>

«Your code should be here»

</pre></nowiki>

Dodaj informacje nagłówkowe przed właściwym kodem.
{{Code|code=
__Title__="Title_Of_macro"
__Author__ = "User_Name"
__Version__ = "00.11"
__Date__    = "2015-07-25"
__Comment__ = "This is the comment of the macro"
__Web__ = "https://forum.freecad.org/viewtopic.php?f=3&t=7384"
__Wiki__ = "https://wiki.freecad.org/index.php?title=Macro_Title_Of_macro"
__Icon__  = "/usr/lib/freecad/Mod/plugins/icons/Title_Of_macro"
__IconW__  = "C:/Users/YourUserName/AppData/Roaming/FreeCAD"
__Help__ = "start the macro and follow the instructions"
__Status__ = "stable"
__Requires__ = "freecad 0.14.3706"
__Communication__ = "https://wiki.freecad.org/index.php?title=User:User_Name"

«Your code should be here»
}}

Począwszy od wersji FreeCAD 0.17, te informacje są wykorzystywane przez [[Std_AddonMgr/pl|Menedżera dodatków]], który pobiera makro z repozytorium [https://github.com/FreeCAD/FreeCAD-macros FreeCAD-macros].

<span id="Adding_macro_code_outside_of_the_wiki"></span>
=== Dodawania kodu makra poza wiki ===

Jeśli Twoje makro jest zbyt duże i przekracza 64 KB, nie będzie mogło być umieszczone na wiki. W takim przypadku użyj [[Template:Codeextralink]] z linkiem do bezpośredniego adresu internetowego z kodem.

Dla przykładu:
 <nowiki>{{Codeextralink|https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro}}</nowiki>

Będzie to wyświetlane jako:
{{Codeextralink|https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro}}

Ten szablon musi być umieszczony na początku strony makra, w sekcji {{Emphasis|Opis}}. Powinien być to pierwszy blok kodu na stronie, aby [[Std_AddonMgr/pl|Menedżer dodatków]] [[File:Std_AddonMgr.svg|24px]] mógł go automatycznie wykryć i zaimportować. Zobacz przykład użycia na stronie [[Macro_CirclePlus/pl|Makro CirclePlus]].

{{ColoredParagraph|'''PS:''' W przypadku aktualizacji na GitHub, gdy ścieżka do surowego kodu zostanie zmieniona, nie zapomnij zaktualizować linku w szablonie Codeextralink.}}

<span id="Adding_the_new_macro_to_the_wiki_repository"></span>
== Dodawanie nowego makra do repozytorium wiki ==

Użyj [[Template:MacroLink]], aby dodać wpis w odpowiedniej kategorii na stronie [[Macros_recipes/pl|Przepisy na makra]]; w razie potrzeby utwórz nową kategorię.

{{Code|code=
<nowiki>
* {{MacroLink|Macro_Excellent_Modification|Macro Excellent Modification}}: the macro described in a short sentence.
</nowiki>
}}

* Pierwszy argument to nazwa strony makra na wiki.
* Drugi argument to wyświetlany tekst, który może różnić się od nazwy strony. Utworzy to link do pierwszego argumentu, pokazując jako tekst drugi argument.
* Po dwukropku podaj krótki opis makra.

Możesz również użyć opcjonalnego parametru <code>Icon=</code>, aby określić plik obrazu, który zostanie umieszczony na początku linii. Ikona powinna być w formacie [[SVG/pl|SVG]] lub PNG i mieć taką samą nazwę jak Twoje makro. Jeśli ten parametr nie zostanie podany, używana będzie domyślna ikona dla skryptu [[Python/pl|Pythona]] [[Image\:Text-x-python.svg|24px]].
{{Code|code=
<nowiki>
* {{MacroLink|Icon=Macro_Excellent_Modification.svg|Macro_Excellent_Modification|Macro Excellent Modification}}: the macro described in a short sentence.
</nowiki>
}}

Aby zlokalizować ten szablon, użyj odpowiedniego linku językowego w pierwszym argumencie.
{{Code|code=
<nowiki>
* {{MacroLink|Macro_Excellent_Modification/fr|Macro Excellent Modification}}: (translated description)
</nowiki>
}}

<span id="Adding_the_new_macro_to_the_central_repository"></span>
== Dodawanie nowego makra do głównego repozytorium ==

Aby makro mogło być instalowane z poziomu [[Std_AddonMgr/pl|Menedżera dodatków]], powinno być umieszczone w centralnym repozytorium [https://github.com/FreeCAD/FreeCAD-macros FreeCAD-macros].

Aby makro mogło zostać tam uwzględnione, najpierw musi zostać ocenione przez społeczność FreeCAD na forum w podforum [https://forum.freecad.org/viewforum.php?f=22 Python scripting and macros]. Po pozytywnej ocenie repozytorium FreeCAD-macros powinno zostać rozwidlone, nowe makro dodane do odpowiedniej gałęzi, a następnie ta gałąź wypchnięta i scalona z repozytorium głównym.

[[Category:Macros{{#translation:}}]]
[[Category:User Documentation{{#translation:}}]]