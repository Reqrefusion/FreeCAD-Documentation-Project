<languages/>

{{Docnav/pl
|[[BIM_Layers/pl|Wartwy]]
|[[Arch_Schedule/pl|Obmiar]]
|[[BIM_Workbench/pl|środowisko pracy BIM]]
|IconL=BIM_Layers.svg
|IconR=Arch_Schedule.svg
|IconC=Workbench_BIM.svg
}}

{{GuiCommand/pl
|Name=BIM Material
|Name/pl=Materiał BIM
|MenuLocation=Zarządzaj → Materiał
|Workbenches=[[BIM_Workbench/pl|BIM]]
}}

<span id="Description"></span>
==Opis==

Pokazuje okno dialogowe '''Materiał BIM'''. To okno dialogowe pozwala szybko i łatwo przeprowadzić operacje związane z materiałami ze szczególnym skupieniem na wydajnej pracy z wieloma obiektami i wieloma materiałami.

# Utwórz nowy [[Arch_SetMaterial/pl|materiał]] lub [[Arch MultiMaterial/pl|materiał wielowarstwowy]].
# Przypisz istniejący materiał lub materiał wielowarstwowy do wskazanych obiektów.

[[File:BIM_Material_Manager.png]]
{{Caption|Menadżer materiałów BIM}}

<span id="Usage"></span>
==Użycie==

# Opcjonalnie wybierz jeden lub więcej obiektów BIM, których właściwość [[Arch_Component/pl#Dane|{{PropertyData|Material}}]] chcesz zmienić. Obiekty bez tej właściwości również mogą zostać wybrane, ale zostaną zignorowane.
# Naciśnij przycisk {{Button|[[Image:BIM_Material.svg|16px]] [[BIM_Material/pl|Materiał]]}} na pasku narzędzi.
# Nastąpi jedna z następujących sytuacji:
#* Jeśli w aktywnym dokumencie nie ma materiału:
#*# Okno dialogowe Menedżer materiałów nie zostanie wyświetlone. Zamiast tego uruchomione zostanie narzędzie [[Arch_SetMaterial/pl|Ustaw materiał]] w celu utworzenia materiału.
#*# Jeśli wybrano obiekty, utworzony materiał zostanie im przypisany, jeśli to możliwe.
#* Jeśli w aktywnym dokumencie znajduje się co najmniej jeden materiał lub wiele materiałów:
#*# Otwiera się okno dialogowe Menedżer materiałów. Zobacz [[#Material_Manager_tools/pl|Narzędzia menedżera materiałów]].
#*# Opcjonalnie wybierz materiał lub wiele materiałów z listy.
#*# Naciśnij przycisk {{Button|OK}}.
#*# Jeśli obiekty zostały zaznaczone, wybrany materiał zostanie do nich przypisany, jeśli to możliwe.

<span id="Material_Manager_tools"></span>
==Narzędzia menadżera materiałów==

Menadżer materiałów pozwala na:

[[File:BIM_Material_Manager_New.png|thumb|Panel zadań nowego materiału.]]
[[File:BIM_Material_Manager_New_Multi.png|thumb|Panel zadań nowego materiału wielowarstwowego.]]

<div class="mw-translate-fuzzy">
* '''Wyszukiwanie materiałów po nazwie''': Użyj pola wyszukiwania
* '''Przypisywanie materiału do wybranego obiektu/obiektów''': Kliknięcie OK z wybranym materiałem przypisze go do wskazanego obiektu/obiektów
* '''Tworzenie [[Arch_SetMaterial/pl|materiałów]]''': Wciśnij przycisk {{Button|Utwórz nowy materiał}}
* '''Tworzenie [[Arch MultiMaterial/pl|materiałów wielowarstwowych]]''': Wciśnij przycisk {{Button|Utwórz nowy materiał wielowarstwowy}}
* '''Usuwanie materiału''': Wybierz materiał i kliknij na nim prawym przyciskiem myszy a następnie wybierz "Usuń"
* '''Usuwanie nieużywanych materiałów''': Wciśnij przycisk {{Button|Usuń nieużywane}}. Wszystkie materiały, które nie są używane przez żadne obiekty zostaną usunięte
* '''Łączenie zduplikowanych materiałów''': Wciśnij przycisk {{Button|Połącz duplikaty}}. Łączy materiały z dokładnie takimi samymi nazwami (np. Beton i Beton) lub takimi samymi nazwami z przyrostkiem numerycznym (np. Beton i Beton001)
* '''Zmienianie nazwy materiału''': Kliknij prawym przyciskiem myszy na materiale i wybierz "Zmień nazwę"
* '''Duplikowanie materiału''': Kliknij prawym przyciskiem myszy na materiale i wybierz "Duplikuj". To utworzy pełną, niezależną kopię wybranego materiału z tymi samymi ustawieniami
* '''Łączenie dwóch materiałów''': Kliknij prawym przyciskiem myszy na materiale i wybierz "Dołącz do...", a następnie wskaż inny materiał. Ten pierwszy zostanie usunięty a wszystkie obiekty, które go używały zostaną przypisane do drugiego
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== New material ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
TBD
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Material properties ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An Arch Material object will have the following properties
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Data ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{Properties_Title|Material}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Description|String}}: A description for this material.
* {{PropertyData|Standard Code|String}}: A standard code (MasterFormat, OmniClass, …).
* {{PropertyData|Product URL|String}}: A URL where to find information about this material.
* {{PropertyData|Transparency|Percent}}: The transparency value of this material.
* {{PropertyData|Color|Color}}: The color of this material.
* {{PropertyData|Section Color|Color}}: The color of this material when cut.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== New multi-material ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
TBD
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
== Relationship between BIM and Core material systems ==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Since version 1.0, FreeCAD contains two distinct and parallel systems for managing materials: a legacy, Python-based system primarily used by the BIM workbench, and a modern, C++ based system intended for global use in any workbench.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Core material system ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Architecture:''' This system is designed around a centralized library model. The primary definition of a material is stored externally in files (e.g., {{FileName|.FCMat}} format) located in system-wide or user-specific directories. The [[Material_Workbench|Material Workbench]] documents this system in more detail.
* '''Data Linking:''' When a material is assigned to an object, the object does not store a full copy of the material's data. Instead, a hidden property named {{PropertyData|Shape Material}} is added to the object. This property holds a complete material object in memory, and upon saving the document, it serializes either a reference to an external library material using the material's object UUID property, or embeds a full copy of the material's data if it has no external source.
* '''Workflow:''' This approach ensures a single source of truth; updates to the central library file will propagate to all documents that link to it. However, it means document portability can be compromised if the corresponding material libraries are not present on another system. The materials themselves are not directly visible as objects within the document's Tree View.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== BIM material system ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Architecture:''' This system is designed around a document-centric model. A material is a standalone object within the document itself, an instance of {{Incode|App::MaterialObjectPython}}.
* '''Data Storage:''' The full definition of the material, including its properties like color and description, is stored directly within this object inside the {{FileName|.FCStd}} file. These material objects are visible in the Tree View, collected within a "Materials" group. When assigned, an object's {{PropertyData|Material}} property holds a direct link to this in-document material object.
* '''Workflow:''' This approach ensures document portability, as all material definitions are embedded. It also provides discoverability, as the materials used in a project are explicitly listed in the Tree View. However, it can result in data duplication and lacks a mechanism for centrally updating materials across multiple projects.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Point of interaction: one-way import ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The two systems do not have a deep or persistent integration. Their interaction is limited to a one-way data import initiated from the BIM system.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Mechanism:''' The BIM/Arch material editor UI is capable of scanning the directories that contain the core system's {{FileName|.FCMat}} library files. It presents these external materials to the user as available templates in the material task panel, when choosing a preset.
* '''Process:''' When a user selects an {{FileName|.FCMat}} material from this list, the BIM system performs the following actions:
# It reads the data from the selected {{FileName|.FCMat}} file.
# It uses this data to populate the fields for a new, native {{Incode|App::MaterialObjectPython}}.
# This new object is then created within the active document.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Once this import process is complete, there is no further link between the newly created Arch/BIM material and the original {{FileName|.FCMat}} file. It is a one-time copy of the data at that specific moment. Subsequent changes to the source material in the core library will have no effect on the Arch/BIM materials that were created from it.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Physical vs. appearance properties ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The FreeCAD material systems are designed with a distinction between a material's physical characteristics and its visual appearance. However, these properties differ significantly between the core Material system and the legacy BIM system.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Core material system ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
The core, C++-based system provides an extensible framework for defining a wide range of material properties. It is organized into "Models," which are schemas that group related properties.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Physical Properties:''' These define the engineering characteristics required for simulation and analysis. The system supports numerous models, including: Mechanical (e.g., {{Incode|Density}}, {{Incode|YoungsModulus}}, {{Incode|PoissonRatio}}), Thermal, Electromagnetic.
* '''Appearance Properties:''' These define the visual look for rendering. Multiple rendering models are supported, defining properties such as: {{Incode|DiffuseColor}}, {{Incode|SpecularColor}} {{Incode|Shininess}}, {{Incode|Transparency}}, Texture image paths and scaling.
* '''Extensibility:''' The model-based architecture is designed to be extensible. Add-on workbenches or future FreeCAD versions can introduce new models to support additional physical domains or render engines without altering the core framework.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== BIM material system ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
This legacy, Python-based system has a fixed and more limited set of properties, focusing primarily on visual representation and basic metadata for BIM workflows.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Physical Properties:''' This system does not have a formal concept of physical properties for engineering analysis. It does not manage data like density or Young's Modulus.
* '''Appearance Properties:''' The properties are hard-coded and limited to a basic set necessary for architectural visualization and metadata, consisting of 6 properties: {{PropertyData|Color}}, {{PropertyData|Section Color}}, {{PropertyData|Transparency}} (appearance), {{PropertyData|Description}}, {{PropertyData|Standard Code}}, {{PropertyData|Product URL}} (metadata).
* '''Extensibility:''' The property set is fixed within the Python code and is not designed to be extended.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
This distinction is critical: the core system is necessary for any engineering analysis (like FEM), while the BIM system is tailored for architectural visualization and IFC compatibility.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Coexistence and interoperability of material systems ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
While the long-term goal is full migration of the BIM workbench to the core Materials system, a transition period requires understanding how they can coexist on a single object.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Can both systems be assigned to one object? ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
It is technically possible to assign a material from both systems to the same object (e.g., an [[Arch_Wall|Arch Wall]]). The two systems use different, non-conflicting properties to store their data:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Core System:''' Uses the hidden {{PropertyData|Shape Material}} property.
* '''BIM System:''' Uses the visible {{PropertyData|Material}} property.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An object can have both of these properties simultaneously.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Dual-assignment workflow for maximum compatibility ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
For users who require both advanced engineering analysis and correct BIM data exchange (specifically IFC export), a "dual-assignment" workflow is currently the only viable approach.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Why it is necessary:'''
The tools for different domains are coded to look for different properties.
* Workbenches like FEM read physical data exclusively from the Core material assigned to the {{PropertyData|Shape Material}} property.
* The IFC exporter is part of the BIM workbench and reads material information exclusively from the BIM material assigned to the {{PropertyData|Material}} property.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Recommended Workflow:'''
Users who require physical and appearance material properties, and to ensure an object is fully functional across both domains, can perform the following two steps:
# '''Assign the Core Material:''' Select the object and use the context menu ({{MenuCommand|Right-click -> Material}}) to assign the desired material. This makes the object's physical data available for analysis.
# '''Assign the BIM Material:''' With the same object selected, use the [[BIM_Material|BIM Material]] tool to assign a corresponding BIM material. This ensures the object will be exported to IFC with the correct material information.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
'''Caveats and Risks:'''
This workaround introduces a significant risk of '''data desynchronization'''. The two material assignments are completely independent. If you update the name or color of the BIM material, it will not affect the Core material, and vice-versa. Users must manually ensure that the two assigned materials are kept consistent to avoid conflicting information between their internal analyses and their external BIM deliverables. The BIM system's multi-material object, which has no equivalent in the Core system, must still be used and managed exclusively with BIM materials.
</div>


{{Docnav/pl
|[[BIM_Layers/pl|Wartwy]]
|[[Arch_Schedule/pl|Obmiar]]
|[[BIM_Workbench/pl|środowisko pracy BIM]]
|IconL=BIM_Layers.svg
|IconR=Arch_Schedule.svg
|IconC=Workbench_BIM.svg
}}

{{BIM_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}