<languages/>
[[Image:A2p_workbench.svg|thumb|128px|Ikonka FreeCAD dla środowiska pracy A2plus]]

<span id="Introduction"></span>
==Wprowadzenie==

{{TOCright}}

Środowisko pracy A2plus to [[External_workbenches/pl|zewnętrzne środowisko]] do wykonywania [[Assembly/pl|złożeń]] różnych części w programie FreeCAD.

Niniejsza dokumentacja opisuje wersję A2plus '''0.4.56 lub nowszą'''.

<span id="Installing"></span>
==Instalacja==

Środowisko pracy A2plus jest dodatkiem do programu FreeCAD. Można je łatwo zainstalować za pomocą [[Image:AddonManager.svg|24px]] [[Std_AddonMgr/pl|Menadżera dodatków]] z menu {{MenuCommand|Przybory → Menadżer dodatków}}.
A2plus jest w trakcie aktywnego rozwoju i będzie często wzbogacany o nowe funkcje. Dlatego warto go regularnie aktualizować, również za pomocą narzędzia w menu {{MenuCommand|Przybory → Menadżer dodatków}}.
Kod A2plus jest przechowywany i rozwijany [https://github.com/kbwbe/A2plus na GitHub] i może być również zainstalowany ręcznie poprzez skopiowanie go do katalogu {{FileName|Mod}} programu FreeCAD.

<span id="Getting_Started"></span>
==Rozpoczęcie pracy==

Na początku przejdź do paska narzędzi A2plus w programie FreeCAD. Aby utworzyć złożenie, utwórz nowy plik w programie FreeCAD. Na początku plik ten musi zostać zapisany. Zaleca się ''(ale nie jest to konieczne)'', aby zapisać go w tym samym folderze, w którym znajdują się części, z których ma zostać wykonany montaż.

Teraz części można dodawać do złożenia za pomocą przycisku na pasku narzędzi [[Image:A2p ImportPart.svg|24px]] lub [[Image:A2p ShapeReference.svg|24px]]. Przycisk [[Image:A2p ImportPart.svg|24px]] dodaje wszystkie bryły w wybranym pliku jako jedną część. Używając przycisku [[Image:A2p ShapeReference.svg|24px]] możesz wybrać, jaki element z pliku ma zostać zaimportowany jako część. W ten sposób można na przykład zaimportować tylko szkic, a następnie złożyć kolejne części, używając szkicu do określenia pozycji części.

Pierwsza dodana część otrzymuje domyślnie stałą pozycję. ''(Można to zmienić później za pomocą właściwości części {{PropertyData|fixed Position}})''.

Części, które już znajdują się w złożeniu, można klonować za pomocą przycisku z paska narzędzi [[Image:A2p_DuplicatePart.svg|24px]].

Aby edytować część ze złożenia, zaznacz ją w drzewie modelu i użyj przycisku na pasku narzędzi [[Image:A2p EditPart.svg|24px]]. Spowoduje to otwarcie części w nowej zakładce w programie FreeCAD lub przełączenie do jej zakładki, jeśli plik jest już otwarty.

Aby zaktualizować części zmodyfikowane w złożeniach kliknij na przycisk na pasku narzędzi [[Image:A2p_ImportPart_Update.svg|24px]]. Przycisk paska narzędzi [[File:A2p_RecursiveUpdate.svg|24px]] również importuje części, ale rekurencyjnie przez możliwe [[#Monta.C5.BC_podzespo.C5.82.C3.B3w|montaż podzespołów]]. Jeśli zaznaczysz jedną lub kilka części w widoku drzewa programu FreeCAD, A2plus poprosi Cię o aktualizację tylko wybranych części.

Zaimportowane części zachowują swoje zewnętrzne zależności i można je edytować. W przypadku ściśle zdefiniowanych części, takich jak śruby, warto jednak, aby ich kształt nie mógł być edytowany. Można to osiągnąć za pomocą przycisku na pasku narzędzi [[Image:A2p ConvertPart.svg|24px]], który przekształca wybraną część w statyczną kopię części oryginalnej.

Aby zapisać złożenie i zamknąć je po zakończeniu, można użyć przycisku paska narzędzi [[Image:A2p Save and exit.svg|24px]].

Przełączanie przycisku paska narzędzi [[Image:A2p CD_OneButton.svg|24px]] ustawia sposób, zaznaczenia kilku krawędzi, ścian itp.: albo za pomocą pojedynczego kliknięcia, albo używając {{KEY|Ctrl}} + kliknięcie.

<span id="Assembling"></span>
==Montaż==

Montaż części odbywa się poprzez dodawanie więzów pomiędzy częściami. Po wprowadzeniu wiązania środowisko pracy A2plus przesuwa części zgodnie z wiązaniem, jeśli jest to możliwe. 

Aby utworzyć wiązanie między częściami, przytrzymaj wciśnięty klawisz {{KEY|Ctrl}} i zaznacz każdą krawędź lub powierzchnię dwóch części. Następnie kliknij przycisk na pasku narzędziowym żądanego wiązania.  Pojawi się okno dialogowe opisane w rozdziale [[#Wiązania|wiązania]]. Wiązanie zostanie dodane do drzewa modelu dołączonego do części, których dotyczy. 

W przypadku złożonych wiązań między częściami środowisko pracy A2plus może nie wykonać rozwiązania wiązań. W związku z tym zapoznaj się również z punktem [[#Rozwi.C4.85zywanie_problem.C3.B3w|Rozwiązywanie problemów]], aby poznać strategie rozwiązywania takich przypadków.

<span id="Keeping_track"></span>
===Bieżące monitorowanie===

Im więcej części dodajesz, tym ważniejsze jest, aby je śledzić. Dlatego A2plus oferuje narzędzia do przenoszenia i przeglądania części:

* Aby przesunąć część w złożeniu, zaznacz ją w drzewie modelu i użyj przycisku na pasku narzędzi [[Image:A2p MovePart.svg|24px]]. Gdy umieścisz część tam, gdzie chcesz, kliknij lewym przyciskiem myszy. Jeśli przeniesiona część ma już wiązania, zostanie ona odpowiednio umieszczona po naciśnięciu przycisku paska narzędzi [[Image:A2p solver.svg|24px]], ponieważ powoduje to rozwiązanie wszystkich więzów złożenia.
* Aby pokazać wiązanie, wybierz je w drzewie modelu i użyj przycisku na pasku narzędzi [[Image:A2p ViewConnection.svg|24px]]. Spowoduje to, że cały zespół stanie się przezroczysty i zostaną podświetlone dwa obiekty, które są połączone wiązaniem. Aby powrócić do normalnego widoku, kliknij lewym przyciskiem myszki na złożeniu.
* Aby pokazać tylko niektóre części złożenia, wybierz te części w drzewie modelu i użyj przycisku paska narzędzi [[Image:A2p Isolate Element.svg|24px]]. Alternatywnie możesz ukryć określoną część, zaznaczając ją w drzewie modelu i naciskając klawisz {{KEY|Spacja}}, aby przełączyć jej widoczność.
* Aby przełączyć widok przezroczystości całego złożenia, możesz użyć przycisku na pasku narzędzi [[Image:A2p ToggleTransparency.svg|24px]].
* Każdą część można uczynić przezroczystą za pomocą normalnej edycji w programie FreeCAD. Jednak czasami ustawienie przezroczystości dla części jest tracone przy ponownym otwieraniu złożenia z powodu błędu w programie FreeCAD. Jako obejście tego problemu możesz użyć przycisku paska narzędzi [[Image:A2p_Restore_Transparency.svg|24px]], aby przywrócić ustawienia przezroczystości.

<span id="Constraints"></span>
===Wiązania===

Podczas tworzenia wiązania takie okno dialogowe zostanie wyświetlone po naciśnięciu przycisku paska narzędziowego wiązania:

[[Image:A2p_ConstraintPropertiesDialog.png]]
{{Caption|Powyżej: Okno dialogowe właściwości wiązań A2plus}}

W przypadku niektórych wiązań można modyfikować kierunek wiązania. Za pomocą przycisku {{Button|[[Image:A2p solver.svg|24px]] Rozwiąż}} można wcześniej sprawdzić, czy to nowe wiązanie może być rozwiązane przez A2plus. Jeśli nie, zajrzyj do rozdziału [[#Rozwi.C4.85zywanie_problem.C3.B3w|Rozwiązywanie problemów]].

Wiązania można wyłączyć, zmieniając ich [[Std_ToggleVisibility/pl|widzialność]]. Robi się to przez wybranie wiązania w widoku drzewa i naciśnięcie klawisza {{KEY|Spacja}}. Powoduje to włączenie właściwości {{PropertyData|Stłumione}}. Wyciszone wiązanie nie jest brane pod uwagę podczas rozwiązywania zespołu.

A2plus zapewnia następujące wiązania:

<span id="Point_on_Point"></span>
====Punkt w punkcie====

Wybierz [[Glossary#Vertex|wierzchołek]] ''(punkt)'', okrąg lub sferę na każdej części. Jeśli wybrano okrąg lub sferę, to jej punkt środkowy zostanie użyty w Wiązaniu. Przycisk na pasku narzędzi [[Image:A2p PointIdentity.svg|24px]] dodaje wiązanie {{Variable|PunktIdentyfikacja}}, które sprawia, że wierzchołki są zbieżne.

<span id="Point_on_Line"></span>
====Punkt na linii====

Wybierz [[Glossary#Vertex|wierzchołek]] ''(punkt)'', lub okrągłą [[Glossary#Edge|krawędź]] ''(wybierze jej punkt środkowy)'', lub kulistą [[Glossary#Face|ścinę]] ''(również wybierze jej punkt środkowy)'' na jednej części i [[Glossary#Edge|krawędź]] na drugiej. Przycisk paska narzędzi [[Image:A2p PointOnLineConstraint.svg|24px]] dodaje wiązanie {{Variable|PunktNaLinii}}. Spowoduje ono umieszczenie wierzchołka na krawędzi.

<span id="Point_on_Plane"></span>
====Punkt na płaszczyźnie====

Wybierz [[Glossary#Vertex|wierzchołek]] ''(punkt)'', okrągłą [[Glossary#Edge|krawędź]] ''(zostanie wybrany jej punkt środkowy)'' lub kulistą [[Glossary#Face|ścianę]] ''(również zostanie wybrany jej punkt środkowy)'' na jednej części i płaszczyznę na drugiej części. Przycisk paska narzędzi [[Image:A2p PointOnPlaneConstraint.svg|24px]] dodaje wiązanie {{Variable|Punkt na płaszczyźnie}}. W oknie dialogowym wiązania można określić przesunięcie między punktem a płaszczyzną. Przesunięcie to można również przerzucić między obiema stronami płaszczyzny. Jeśli przesunięcie wynosi zero, ograniczenie spowoduje umieszczenie wierzchołka na płaszczyźnie.

<span id="Sphere_on_Sphere"></span>
====Sfera w sferze====

Wybierz sferyczną [[Glossary#Powierzchnia|powierzchnię]] lub [[Glossary#Wertex|wierzchołek]] ''(punkt)'' na obu częściach. Przycisk na pasku narzędzi [[Image:A2p SphericalSurfaceConstraint.svg|24px]] dodaje wiązanie {{Variable|sphereCenterIdent}} ''(sfera o wspólnym środku)''. Sprawi ono, że środki sfer, środki sfery i wierzchołka lub wierzchołki będą się pokrywać.

<span id="Circular_Edge_on_Circular_Edge"></span>
====Okrągła krawędź na okrągłej krawędzi====

Wybierz okrągłą krawędź [[Glossary#Edge|krawędź]] na obu częściach. Przycisk na pasku narzędzi [[Image:A2p CircularEdgeConstraint.svg|24px]] dodaje wiązanie {{Variable|circularEdge}}. W oknie dialogowym wiązania można określić przesunięcie między krawędziami. To przesunięcie może być również odwrócone. Ponadto można ustawić kierunek wiązania i zablokować obrót części. Jeśli przesunięcie wynosi zero, wiązanie spowoduje, że krawędzie będą koncentrycznie leżeć w tej samej płaszczyźnie.

<span id="Axis_Coincident"></span>
====Zbieżność osi====

Wybierz cylindryczną [[Glossary#Face|Powierzchnię]] lub liniową [[Glossary#Edge|Krawędź]] na obu częściach. Przycisk na pasku narzędzi [[Image:A2p AxialConstraint.svg|24px]] dodaje wiązanie {{Variable|Zbieżność osi}}. W oknie dialogowym wiązania można określić kierunek osi. W oknie tym można również zablokować obrót części. Wiązanie spowoduje, że osie lub linie będą zbieżne.

<span id="Axis_Parallel"></span>
====Równoległość osi====

Wybierz cylindryczną [[Glossary#Face|powierzchnię]] lub liniową [[Glossary#Edge|krawędź]] na obu częściach. Przycisk na pasku narzędzi [[Image:A2p AxisParallelConstraint.svg|24px]] dodaje wiązanie {{Variable|równoległości osi}}. W oknie dialogowym ograniczenia można określić kierunek osi. Ograniczenie sprawi, że osie lub linie będą równoległe.

<span id="Axis_on_Plane_parallel"></span>
====Oś na płaszczyźnie równoległej====

Wybierz cylindryczną [[Glossary#Face|powierzchnię]] lub liniową [[Glossary#Edge|krawędź]] na jednej części i płaszczyznę na drugiej części. Przycisk paska narzędzi [[Image:A2p AxisPlaneParallelConstraint.svg|24px]] dodaje wiązanie {{Variable|Oś na płaszczyźnie równoległej}}. Dzięki temu wiązaniu oś lub prosta będzie równoległa do płaszczyzny.

<span id="Axis_on_Plane_normal"></span>
====Oś na płaszczyźnie normalnej====

Wybierz cylindryczną [[Glossary#Face|powierzchnię]] lub liniową [[Glossary#Edge|krawędź]] na jednej części i płaszczyznę na drugiej części. Przycisk paska narzędzi [[Image:A2p AxisPlaneNormalConstraint.svg|24px]] dodaje wiązanie {{Variable|Oś na płaszczyźnie normalnej}}. Wiązanie spowoduje, że oś lub linia będzie normalna do płaszczyzny.

<span id="Axis_on_Plane_angle"></span>
====Kąt osi na płaszczyźnie====

Wybierz cylindryczną [[Glossary#Face|powierzchnię]] lub liniową [[Glossary#Edge|krawędź]] na jednej części i płaszczyznę na drugiej części. Przycisk paska narzędzi [[Image:A2p AxisPlaneAngleConstraint.svg|24px]] dodaje wiązanie {{Variable|axisPlaneAngleAngle}}. Początkowo wiązanie sprawi, że oś będzie równoległa do płaszczyzny. Następnie można dostosować kąt dla osi w pojawiającym się oknie dialogowym ustawień wiązania.

<span id="Plane_Parallel"></span>
====Równoległe płaszczyzny====

Zaznacz płaszczyznę na obu częściach. Przycisk na pasku narzędzi [[Image:A2p PlanesParallelConstraint.svg|24px]] dodaje wiązanie {{Variable|RównoległePłaszczyzny}}. W oknie dialogowym wiązania można określić kierunek wiązania. Użycie tego wiązania spowoduje, że płaszczyzny będą równoległe.

<span id="Plane_on_Plane"></span>
====Płaszczyzna na płaszczyźnie====

Wybierz płaszczyznę na obu częściach. Przycisk na pasku narzędzi [[Image:A2p PlaneCoincidentConstraint.svg|24px]] dodaje wiązanie {{Variable|Zbieżność płaszczyzn}}. Okno dialogowe wiązania pozwala określić kierunek wiązania i przesunięcie między płaszczyznami. Przesunięcie to może być również odwrócone. Jeśli przesunięcie wynosi zero, wiązanie spowoduje, że płaszczyzny będą się pokrywać.

<span id="Plane_Angular"></span>
====Płaszczyzna kątowa====

Wybierz płaszczyznę na obu częściach. Przycisk paska narzędzi [[Image:A2p AngleConstraint.svg|24px]] dodaje wiązanie {{Variable|angledPlanes}}. Okno dialogowe wiązania pozwala określić kąt między płaszczyznami. Wiązanie sprawi, że płaszczyzny będą najpierw równoległe, a następnie ustawi określony kąt.

<span id="Coincidence_at_Center_of_Mass"></span>
====Zbieżność w środku masy====

Wybierz zamkniętą [[Glossary#Edge|krawędź]] lub płaszczyznę na obu częściach. Przycisk paska narzędzi [[Image:A2p CenterOfMassConstraint.svg|24px]] dodaje ograniczenie {{Variable|centerOfMass}}. Okno dialogowe wiązania pozwala określić przesunięcie między krawędziami lub płaszczyznami. Przesunięcie to można również odwrócić. Ponadto można ustawić kierunek wiązania i zablokować obrót części. Jeśli przesunięcie wynosi zero, wiązanie umieści krawędzie lub płaszczyzny w tej samej płaszczyźnie.

<span id="Subassemblies"></span>
===Montaż podzespołów===

Złożenie może zawierać inne złożenia. Dodaje się je jak części, naciskając przycisk paska narzędzi [[Image:A2p ImportPart.svg|24px]] i wybierając plik {{FileName|*.FCStd}} zawierający zespół. Takie podzespoły mogą być również edytowane jak części za pomocą przycisku paska narzędzi [[Image:A2p EditPart.svg|24px]]. W przypadku wyższych etapów montażu należy upewnić się, że zespół został zaktualizowany rekursywnie za pomocą przycisku paska narzędzi [[File:A2p_RecursiveUpdate.svg|24px]] po wprowadzeniu zmian.

<span id="Constraint_Handling"></span>
==Operowanie wiązaniami==

Możliwe wiązania dla zaznaczenia są wyświetlane na pasku narzędzi i w oknie dialogowym ''Narzędzia wiązań'' poprzez włączenie odpowiednich przycisków. Okno dialogowe ''Narzędzia wiązań'' jest otwierane za pomocą przycisku na pasku narzędzi [[Image:A2p DefineConstraints.svg|24px]]. Powinno ono pozostać otwarte, aby móc szybko dodać kilka wiązań do zespołu.

Istniejące wiązania mogą być edytowane poprzez zaznaczenie ich w drzewie modelu, a następnie dwukrotne kliknięcie na nie lub użycie przycisku na pasku narzędzi [[Image:A2p EditConstraint.svg|24px]]. Umożliwi to otwarcie okna dialogowego ''Właściwości wiązania''.

Wiązania można tymczasowo wyciszyć, zaznaczając je w drzewie modelu i zmieniając właściwość elementu drzewa {{PropertyData|Stłumione}}.

Wiązania mogą zostać usunięte poprzez zaznaczenie ich w drzewie modelu i naciśnięcie przycisku {{KEY|Del}} lub poprzez zaznaczenie części z wiązaniami w drzewie modelu i użycie przycisku paska narzędzi [[Image:A2p DeleteConnections.svg|24px]].

Wszystkie wiązania mogą być rozwiązane w dowolnym momencie za pomocą przycisku paska narzędzi [[Image:A2p solver.svg|24px]]. Jeśli przycisk paska narzędzi [[Image:A2p ToggleAutoSolve.svg|24px]] jest włączony, rozwiązanie jest wykonywane automatycznie po każdej edycji wiązania.

Przycisk paska narzędzi [[Image:A2p FlipConstraint.svg|24px]] wpływa na ostatnio dodane wiązanie. Odwraca on kierunek wiązania.

Za pomocą narzędzia [[Image:A2p CD_ConstraintViewer.svg|24px]] można wyświetlać i sprawdzać istniejące wiązania. Po kliknięciu pojawi się okno dialogowe. Następnie należy wybrać część w drzewie i kliknąć przycisk {{Button|Importuj z drzewa}}, aby uzyskać wszystkie wiązania tej części, lub wybrać jedno lub więcej wiązań w drzewie i kliknąć przycisk {{Button|Importuj z drzewa}}. W rezultacie otrzymasz wszystkie informacje o ograniczeniach. Klikając w kolumnie "Pomiń" można wyłączyć pojedyncze wiązanie. Więcej informacji można znaleźć w podpowiedziach innych przycisków okna dialogowego.

<span id="Part_Lists"></span>
==Lista części==

Aby stworzyć listę części dla złożenia, poszczególne części złożenia muszą otrzymać informacje, które mogą być odczytane przez A2plus. Robi się to poprzez edycję części za pomocą przycisku na pasku narzędzi [[Image:A2p EditPart.svg|24px]]. W otwartej części naciśnij przycisk paska narzędzi [[Image:A2p PartsInfo.svg|24px]] i zostanie utworzony [[Spreadsheet_Workbench/pl|arkusz kalkulacyjny]] nazwany ''#PARTINFO#''.

Struktura arkusza kalkulacyjnego wygląda następująco:

[[Image:A2p PartinfoTable.png]]

Wypełnij szare pola informacjami, które chcesz mieć na docelowej liście części.

W złożeniu lub podzespole użyj przycisku paska narzędzi [[Image:A2p PartsList.svg|24px]]. Pojawi się pytanie, czy chcesz iterować rekurencyjnie po wszystkich podzespołach. Kliknij na ''Yes''. Spowoduje to utworzenie nowego arkusza kalkulacyjnego o nazwie ''#PARTSLIST#''. Zawiera on informacje z różnych arkuszy kalkulacyjnych ''#PARTSINFO#'' części na liście takiej jak ta:

[[Image:A2p PartslistTable.png]]

Pozycja ''(POS)'' jest automatycznie ustawiana zgodnie z wyglądem części w drzewie modelu. Część najwyższego poziomu otrzyma POS 1.

Ilość ''(QTY)'' jest automatycznie obliczana na podstawie złożenia. Jeśli część występuje dwukrotnie w zespole, otrzyma QTY 2.

Jeśli zaktualizowałeś informacje o części, możesz odświeżyć listę części, naciskając ponownie przycisk paska narzędzi [[Image:A2p PartsList.svg|24px]].

Dla złożeń podrzędnych można również utworzyć arkusz informacyjny za pomocą przycisku paska narzędzi [[Image:A2p PartsInfo.svg|24px]]. Podczas tworzenia lub aktualizowania listy części głównego złożenia informacje te będą używane, jeśli klikniesz ''Nie'' na pytanie, czy chcesz iterować rekurencyjnie po wszystkich podzespołach. Wówczas różne części nie znajdują się na liście części, a jedynie w złożeniach podrzędnych.

<span id="Special_Features"></span>
==Funkcje specjalne==

<span id="Assembly_Structure"></span>
===Struktura złożenia===

Przycisk paska narzędzi [[Image:A2p Treeview.svg|24px]] tworzy plik HTML ze strukturą złożenia. Plik zostanie domyślnie utworzony w folderze pliku złożenia. Struktura wygląda następująco:

:[[Image:A2p Dependency-Tree.jpg]]

<span id="Degrees_of_Freedom"></span>
===Stopnie swobody===

Przycisk [[Image:A2p DOFs.svg|24px]] oznacza każdą część złożenia z jej stopniami swobody. Ponadto wyświetla listę wszystkich części i ich zależności. Lista jest wyprowadzana do widżetu FreeCAD ''Widok raportu''. Jeśli widżet ten nie jest obecnie widoczny, można go wyświetlić, klikając prawym przyciskiem myszy pustą część obszaru paska narzędzi FreeCAD, a następnie wybierając go w wyskakującym menu podręcznym lub za pomocą menu {{MenuCommand|Widok → Panele → [[Report_view/pl|Widok raportu]]}}.

Etykiety stopni swobody można usunąć, klikając ponownie przycisk [[Image:A2p DOFs.svg|24px]].

<span id="Part_Labels"></span>
===Etykiety części=== 

Przycisk [[Image:A2p PartLabel.svg|24px]] oznacza każdą część złożenia w widoku 3D jej nazwą. Etykiety części można usunąć, klikając ponownie przycisk [[Image:A2p PartLabel.svg|24px]].

<span id="Shape_of_whole_Assembly"></span>
===Kształt całego złożenia===

Czasami konieczne jest połączenie całego złożenia w jeden kształt. Kształt ten może być następnie użyty do drukowania 3D w środowisku [[Mesh_Workbench/pl|Siatka]] lub do rysowania w środowisku [[TechDraw_Workbench/pl|Rysunek Techniczny]]. Jest on tworzony za pomocą przycisku paska narzędzi [[Image:A2p_SimpleAssemblyShape.svg|24px]]. Kształt nie jest domyślnie widoczny. Użyj tego samego przycisku paska narzędzi, aby zaktualizować kształt w przypadku zmian w złożeniu.

<span id="Convert_absolute_Paths_to_relative_Ones"></span>
===Konwersja ścieżek bezwzględnych na względne===

Za pomocą opcji menu {{MenuCommand|A2plus → Misc → [[File:A2p_SetRelativePathes.svg|24px]] Konwertuj bezwzględne ścieżki importowanych części na względne}} można konwertować ścieżki importowanych części.

<span id="Preferences"></span>
==Ustawienia==

Dostęp do konfiguracji środowiska pracy A2plus można uzyskać poprzez menu FreeCAD {{MenuCommand|Edycja → [[Preferences_Editor/pl|Preferencje ...]]}} i tam w sekcji ''A2plus''. Można ustawić następujące opcje:

<span id="Default_solving_method"></span>
===Domyślna metoda rozwiązywania===

Użycie rozwiązywania układów cząstkowych: Rozwiązywanie rozpoczyna się od części, która ma właściwość {{PropertyData|Pozycja ustalona}} ustawioną na {{true/pl}} i części do niej związanej. Wszystkie pozostałe części nie podlegają obliczeniom. Jeśli uda się znaleźć rozwiązanie, do obliczeń dodawana jest następna związana część i tak dalej.
Użyj "magnetycznego" solwera, rozwiązującego wszystkie części naraz: Solwer próbuje przesunąć wszystkie części naraz w kierunku części, która ma właściwość {{PropertyData|Pozycja ustalona}} ustawioną na "true". Należy pamiętać, że w większości przypadków obliczenie rozwiązania zajmie więcej czasu.
Wymuś stałą pozycję: Ustawia właściwość {{PropertyData|Pozycja ustalona}} na wartość {{true/pl}} dla wszystkich części w złożeniu. Wówczas nie są wykonywane żadne obliczenia, ponieważ wszystkie części będą zawsze ustawione w pozycjach, w których zostały utworzone.

<span id="Default_solver_behaviour"></span>
===Domyślne działanie solvera===

; Rozwiąż automatycznie, jeśli właściwość wiązania zostanie zmieniona : Rozwiązywanie zostanie uruchomione automatycznie. Tak samo, jak użycie przycisku paska narzędzi [[Image:A2p ToggleAutoSolve.svg|24px]].


<span id="Behaviour_when_updating_imported_parts"></span>
===Działanie podczas aktualizacji zaimportowanych części===

; Oblicz ponownie zaimportowane części przed ich aktualizacją: Wszystkie części złożenia, w tym złożenia podrzędne, zostaną otwarte we FreeCAD w celu zrekonstruowania przy użyciu wartości z arkuszy kalkulacyjnych.<br> Ta funkcja jest przeznaczona do konstruowania w pełni parametrycznego. 
'''Uwaga:''' Ta funkcja jest bardzo eksperymentalna i nie jest zalecana w przypadku ważnych projektów.<br/>Znane problemy:
* Złożenie może zostać zniszczone z powodu błędnych odniesień do nazw topologicznych w częściach.
* Główne arkusze kalkulacyjne mogą ulec uszkodzeniu podczas edycji, gdy plik części, do którego następuje odniesienie, jest już zamknięty. Może to spowodować awarię programu FreeCAD.

Włącz rekurencyjną aktualizację importowanych części: Otwiera rekurencyjnie wszystkie zespoły podrzędne w celu ich aktualizacji.

; Używanie eksperymentalnego nazewnictwa topologicznego: Podczas importowania części do złożenia algorytm generuje nazwy topologiczne dla każdego elementu podrzędnego importowanego kształtu. Nadawane nazwy topologiczne są zapisywane we własciwości {{PropertyData|mux Info}}. Kiedy zaimportowana część wymaga aktualizacji, te nazwy topologiczne są używane do aktualizacji elementów podrzędnych wiązań. Dzięki temu zespoły stają się bardziej odporne na zmienne numery elementów podrzędnych FreeCAD.<br/> '''Uwaga:''' Zwiększa to rozmiary plików i czas obliczeń podczas importowania części. Jeśli ma być używane nazewnictwo topologiczne, należy je aktywować przed utworzeniem złożenia.

; Dziedziczenie przezroczystości na powierzchnię z części i podzespołów: Użyj ustawień kolorów i przezroczystości z importowanych części.<br/> '''Uwaga:''' Ta funkcja jest bardzo eksperymentalna i nie jest zalecana dla ważnych projektów.

; Nie importuj niewidocznych kształtów: Spowoduje to ukrycie niewidocznych kształtów odniesienia / konstrukcji. '''Uwaga:''' Żadne wiązania nie mogą być połączone z kształtami odniesienia / konstrukcji w wyższych lub innych złożeniach podrzędnych. W przeciwnym razie może dojść do uszkodzenia złożenia.

; Używaj łączenia brył do importowania części i złożeń: Wszystkie importowane części zostaną bezpośrednio połączone w całość.<br/> Ta funkcja jest przydatna w przypadku  [[FEM_Workbench/pl|MES]] lub symulacji [[Manual:Preparing_models_for_3D_printing/pl|drukowania 3D]], jeśli dozwolona jest tylko jedna bryła. Alternatywą jest utworzenie [[#Kształt_całego_złożenia|kształtu całego zespołu]] później.

<span id="User_interface_settings"></span>
===Ustawienia interfejsu użytkownika===

Pokaż wiązania na pasku narzędzi: Jeśli ta opcja nie jest używana, przyciski paska narzędzi dla różnych wiązań nie są widoczne, aby zaoszczędzić miejsce na pasku narzędzi. Nowe wiązania można nadal ustawiać za pomocą okna dialogowego '''Narzędzia wiązań''' ''(przycisk paska narzędzi [[Image:A2p DefineConstraints.svg|24px]])''.
Użyj natywnego menedżera plików systemu operacyjnego: Jeśli ta opcja jest używana, podczas wybierania plików dla złożeń wyświetlane jest okno dialogowe plików systemu operacyjnego.

<span id="Storage_of_files"></span>
===Zapisywanie plików===

; Użyj ścieżek względnych dla importowanych części : Używa względnych ścieżek do plików części.
; Użyj bezwzględnych ścieżek dla importowanych części: Używa bezwzględnych ścieżek do plików części.
; Wszystkie pliki znajdują się w tym folderze projektu: Wszystkie pliki projektu umieszczone są w określonym folderze. Nie ma znaczenia, czy znajdują się w podfolderach podrzędnych. Uwaga: Żaden plik nie może być w folderze kilka razy ''(np. w różnych podfolderach)''.<br> Ta opcja jest przydatna do pracy na różnych komputerach, ponieważ wystarczy skopiować folder projektu.

<span id="Troubleshooting"></span>
==Rozwiązywanie problemów==

Prędzej czy później pojawi się problem, że środowisko A2plus nie może rozwiązać ustalonych wiązań. Aby temu zaradzić, istnieją różne strategie:

<span id="Using_the_Conflict_Finder_Tool"></span>
===Korzystanie z narzędzia do wyszukiwania konfliktów===

Jest to najbezpieczniejsza metoda, gdy masz kilka ograniczeń, ponieważ narzędzie to próbuje rozwiązać jedno wiązanie po drugim, dopóki nie znajdzie konfliktowego wiązania. Następnie można przejść do innych strategii, aby rozwiązać zidentyfikowane wiązanie. Narzędzie jest wywoływane za pomocą przycisku na pasku narzędzi [[File:A2p_SearchConstraintConflicts.svg|24px]].

<span id="Checking_Constraint_Direction"></span>
===Sprawdzanie kierunku wiązania===

Czasami wiązania wydają się być spójnie zdefiniowane, ale mimo to nie można ich rozwiązać. Przykład: Załóżmy, że masz wiązanie {{Variable|[[#Równoległe_płaszczyzny|Równoległe płaszczyzny]]}} ustawione dla dwóch płaszczyzn. Teraz chcesz ustawić dla tych samych płaszczyzn wiązanie {{Variable|[[#Płaszczyzna_na_płaszczyźnie|Płaszczyzna na płaszczyźnie]]}} i A2plus nie może tego rozwiązać. Wtedy kierunki wiązań {{Variable|Równoległe płaszczyzny}} i {{Variable|Płaszczyzna na płaszczyźnie}} są różne. Użyj tego samego kierunku dla obu wiązań, aby to naprawić.

Środowisko pracy A2plus oferuje automatyczne sprawdzanie właściwego kierunku dla '''wszystkich''' wiązań złożenia za pomocą przycisku paska narzędzi [[Image:A2p_ReAdjustConstraints.svg|24px]].

<span id="Deleting_Constraints"></span>
===Usuwanie wiązań===

Większość przypadków nierozwiązywalnych wiązań występuje bezpośrednio podczas dodawania nowego wiązania. Rozwiązaniem jest usunięcie ostatnio dodanego wiązania. A2plus również to zaproponuje.

Czasami strategia usuwania jest jedyną, na przykład podczas edycji części w programie FreeCAD, tak że brakuje ścian lub krawędzi połączonych z wiązaniami. Powinieneś wtedy usunąć jedno wiązanie, które jest połączone ze zmienioną częścią na raz. Użyj przycisku paska narzędzi [[Image:A2p solver.svg|24px]] po każdym usunięciu, aby sprawdzić, czy osiągnąłeś stan rozwiązywalny.

Gdy masz złożenie, które można rozwiązać, dodaj krok po kroku potrzebne wiązania.

<span id="Moving_Parts"></span>
===Przesuwanie Części===

W niektórych przypadkach solver potrzebuje tylko lepszych wartości początkowych, aby rozwiązać powiązania. Weźmy na przykład przypadek, w którym masz część osi i część koła. Dodajesz wiązanie {{Variable|zbieżność Osi}} i nie otrzymujesz informacji, że solver zawiódł, ale części nie są odpowiednio przesuwane, a w widżecie "Widok raportu" FreeCAD widzisz "''REACHED POS-ACCURACY :0.0''". Rozwiązaniem jest przesunięcie części bliżej pozycji, którą chcesz uzyskać za pomocą wiązania.

'''Uwaga:''' Upewnij się, że przynajmniej jedna część wiązania ma właściwość {{PropertyData|Pozycja ustalona}} ustawioną na {{false/pl}}.

<span id="Setting_the_Tip_Property"></span>
===Ustawienie właściwości Czubka===

Jeśli po zaimportowaniu do złożenia A2plus brakuje niektórych funkcji części, należy sprawdzić właściwość {{PropertyData|[[PartDesign_MoveTip/pl|Czubek]]}}.

Środowisko pracy A2plus importuje bryły części ze wszystkimi ich cechami aż do cechy Czukek. Jest to rozsądne, ponieważ ustawienie właściwości Czubek na określoną cechę oznacza, że wszystkie cechy za nim nie powinny pojawić się w gotowej części. Jeśli więc przegapisz cechę części w A2plus, otwórz część za pomocą przycisku paska narzędzi [[Image:A2p EditPart.svg|24px]], a następnie wybierz bryłę i spójrz na jej właściwość {{PropertyData|Czubek}}. Jeśli końcówka nie znajduje się w wybranym miejscu, kliknij prawym przyciskiem myszy w miejscu, w którym powinna się znajdować i wybierz {{MenuCommand|[[File:PartDesign_MoveTip.svg|24px]] Ustaw czubek}}. Na koniec zapisz część i przeładuj złożenie za pomocą przycisku na pasku narzędzi [[Image:A2p ImportPart_Update.svg|24px]].

<span id="Repairing_Assembly_Tree"></span>
===Naprawa drzewa montażu===

Jeśli nie widzisz wyraźnego powodu, dla którego niektóre ograniczenia nie mogą zostać rozwiązane, możesz spróbować użyć przycisku paska narzędzi [[Image:A2p RepairTree.svg|24px]]. Spowoduje to rozwiązanie wszystkich wiązań i ponowne pogrupowanie ich pod różnymi częściami.

<span id="Migrating_old_A2plus_assemblies"></span>
===Migracja starych złożeń A2plus===

Zespoły utworzone za pomocą środowiska A2plus starszego niż marzec 2019 r. nie wyświetlają prawidłowych ikon dla importowanych części i mają przestarzałe właściwości. Złożenia te można zmigrować do A2plus w wersji 0.4.35 i nowszej za pomocą opcji menu {{MenuCommand|A2plus → Misc → [[File:A2p_Upgrade.svg|24px]]. Migruj proxy zaimportowanych części}}. Po wykonaniu tej czynności należy zapisać i ponownie otworzyć plik złożenia.

<span id="Avoiding_Accented_Characters"></span>
===Unikanie znaków akcentowanych===

'''Ta strategia nie jest konieczna dla systemu Windows.'''

W niektórych systemach operacyjnych mogą wystąpić problemy, jeśli nazwy plików lub ścieżki plików części lub zespołu zawierają znaki akcentowane. Dlatego należy unikać takich znaków, a także generalnie znaków specjalnych.

<span id="Fixing_Position"></span>
===Pozycja ustalająca===

'''Ta strategia nie jest już konieczna w przypadku złożeń utworzonych za pomocą A2plus 0.3.11 lub nowszej wersji, ponieważ A2plus wydaje teraz ostrzeżenie o braku ustalonych pozycji'''.

Po ustawieniu wiązania między dwiema częściami, gdy żadna część nie ma właściwości {{PropertyData|ustalona pozycja}} ustawionej na {{true/pl}} lub jest połączona wiązaniem z częścią z {{PropertyData|ustalona pozycja}} ustawioną na {{true/pl}}, wiązanie nie może zostać rozwiązane. To samo dzieje się, jeśli obie części wiązania mają {{PropertyData|fixed Position}} ustawione na {{true/pl}}.

Następnie A2plus wyświetla informacje o nieudanym rozwiązaniu, ale czasami widać tylko, że części nie zostały odpowiednio przesunięte, a w widżecie "Widok raportu" FreeCAD widać "''REACHED POS-ACCURACY :0.0''". Oznacza to, że solver zakończył pracę bez błędów, ale w rzeczywistości nie mógł rozwiązać wiązań.

Dlatego sprawdź, czy przynajmniej jedna z części w złożeniu ma właściwość {{PropertyData|ustalona pozycja}} ustawioną na "true". Następnie upewnij się, że ustawiłeś ograniczenia tylko dla części, która jest w jakiś sposób połączona z częścią stałą. Aby zwizualizować te zależności, zobacz sekcję [[#Assembly_Structure/pl|Struktura złożenia]].

<span id="Rotating_Parts"></span>
===Obracanie części===

'''Ta strategia nie jest już konieczna w przypadku złożeń utworzonych za pomocą środowiska pracy A2plus 0.4.0 lub nowszego, ponieważ A2plus automatycznie obraca części w tle, aby uzyskać wystarczający kąt początkowy dla solwera'''.

Solver często kończy się niepowodzeniem dla wiązania {{Variable|kątowePłaszczyzny}}, jeśli dwie wybrane płaszczyzny mają obecnie kąt 0° lub 180°. ''(Części nie są odpowiednio przesuwane, a w widżecie "Widok raportu" programu FreeCAD wyświetlany jest komunikat "REACHED POS-ACCURACY :0.0")''. Rozwiązaniem tego problemu jest obrócenie jednej części o kilka stopni za pomocą funkcji transformacji FreeCAD ''(kliknij prawym przyciskiem myszy część w drzewie modelu i wybierz z menu kontekstowego {{MenuCommand|Przemieszczenie}})''.

'''Uwaga:''' Upewnij się, że przynajmniej jedna część wiązania ma właściwość {{PropertyData|Pozycja ustalona}} ustawioną na {{false/pl}}.

<span id="Animation"></span>
==Animacja==

A2plus oferuje animacje za pomocą przeciągania oraz skryptów Pythona.

<span id="Dragging"></span>
===Przeciąganie===

Animacje przeciągania są interaktywne, ponieważ uruchamia się je poprzez przeciągnięcie części złożenia.
Aby uzyskać tego rodzaju animacje:
# W pełni zwiąż część, której ruch lub obrót ma być animowany
# Kliknij przycisk na pasku narzędzi [[Image:A2p MovePartUnderConstraints.svg|24px]]. Spowoduje to włączenie trybu przeciągania.
# Kliknij wybraną część w zespole.
# Teraz możesz poruszać myszą, a część będzie podążać za ruchem myszy w ramach zdefiniowanych ograniczeń.
# Aby zakończyć tryb przeciągania, kliknij lewym przyciskiem myszy w złożeniu lub naciśnij ESC.

Oto przykładowy zestaw do wypróbowania animacji przeciągania: [https://forum.freecadweb.org/download/file.php?id=99204 A2p_example-for-dragging-animation.FCStd].

[[Image:A2p_dragging-animation-result.gif]]

{{Caption|Powyżej: Animacja przeciągania przy użyciu przykładowego złożenia.}}

<span id="Scripting"></span>
===Tworzenie skryptów===

Pomimo tego, że tryb przeciągania oferuje ładne interaktywne animacje, czasami nie są one wystarczająco precyzyjne dla screencastów lub filmów. Animacje skryptowe mają tę zaletę, że animują ruchy i obroty w określony sposób. Można na przykład obrócić część o dokładnie 10° w przód i w tył. Poniższe przykłady wykorzystują złożenie, w którym część powinna zostać obrócona. Jeśli spróbujesz animować to za pomocą trybu przeciągania, zobaczysz, jak trudno jest uzyskać obrót w przód iw tył, który można np. pokazać szefowi w prezentacji. Dzięki interaktywnemu skryptowi przykładowemu jest to jednak łatwe zadanie.

Animacja skryptowa działa zazwyczaj w ten sposób:
# Zespół jest w pełni ograniczony
# Skrypt zmienia parametr, na przykład pozycję lub kąt obrotu części.
# Po zmianie parametru wiązania zespołu są rozwiązywane.
# Kroki 2. i 3. są powtarzane w celu uzyskania animacji.

Zamiast parametru rozmieszczenia można również zmienić ograniczenie, na przykład odległość między 2 płaszczyznami.

<span id="Simple_Script_Example"></span>
====Przykład prostego skryptu====

Najprostszym sposobem tworzenia skryptów animacji jest animacja nieinteraktywna, która podąża za zdefiniowanym ruchem. Oto przykład:
Najpierw pobierz ten plik złożenia: [https://forum.freecadweb.org/download/file.php?id=97554 A2p_animated-example.FCStd], a także ten skrypt Python: [https://forum.freecadweb.org/download/file.php?id=97981 A2p_animation-example-script.py].

<div class="mw-collapsible mw-collapsed toccolours">
Jest to zawartość skryptu, a linie zaczynające się od "#" opisują, co robią poszczególne linie skryptu:
<div class="mw-collapsible-content">
{{Code|code=
# import bibliotek
import time, math, PySide
import A2plus.a2p_solversystem as a2p_solver

# używamy kroków co 1 stopień
step = 1
# odczekaj 1 ms między każdym krokiem
timeout = 0.001
# początkowy kąt wynosi 0 stopni
angle = 0
# bierzemy aktualnie otwarty dokument
document = FreeCAD.activeDocument()
# chcemy później zmienić kąt obrotu części "star_wheel_001"
starWheel = document.getObject("star_wheel_001")
# zdefiniuj okno dialogowe postępu działające od 0 do 360
progressDialog = PySide.QtGui.QProgressDialog(u " Animation progress", u " Stop", 0, 360)

# blok while jest główną pętlą zmieniającą kąt i rozwiązującą
# ograniczenia montażowe następnie
while angle < 360: # wykonuj tę pętlę, aż uzyskamy jeden pełny obrót (360 stopni)
    # zwiększyć kąt obrotu
    angle += step
    # ustaw nowy kąt w oknie dialogowym postępu
    progressDialog.setValue(angle)
    # zmień kąt obrotu części "star_wheel_001"
    starWheel.Placement.Rotation.Angle = math.radians(angle)
    # rozwiąż ograniczenia 
    a2p_solver.solveConstraints(document, useTransaction=True)
    # zaktualizuj widok po rozwiązaniu ("Gui" oznacza "graficzny interfejs użytkownika")
    FreeCADGui.updateGui()
    # przenieś okno dialogowe postępu na przód
    PySide.QtGui.QWidget.raise_(progressDialog)
    # jeśli w oknie dialogowym naciśnięto "Stop", wyjdź z pętli
    if progressDialog.wasCanceled():
        angle = 360
    # odczekaj jakiś czas przed wykonaniem następnego kroku
    time.sleep(timeout)
}}
</div>
</div>

Aby użyć skryptu do wykonania animacji, musimy
# Otworzyć plik złożenia w programie FreeCAD.
# Otworzyć plik skryptu w programie FreeCAD.
# Kliknąć przycisk paska narzędzi [[Image:Menu_Std_DlgMacroExecute_fr_02.png|24px]], aby wykonać skrypt ''(zwany również makrem)''.
# Przejdź do zakładki zespołu, aby zobaczyć obrót.

Aby poćwiczyć, po prostu zmień coś w skrypcie i wykonaj go później. Na przykład zwiększyć "krok" do "5".

Oto wynik przykładowej animacji:

[[Image:A2p animated-example-result.gif]]

<span id="Interactive_Script_Example"></span>
====Przykład interaktywnego skryptu====

Pierwszy przykład skryptu pokazał, jak utworzyć animację bez żadnej informacji zwrotnej od użytkownika. W przypadku większości aplikacji konieczna jest interakcja z animacją. Na przykład interesującą kwestią w tym przykładzie jest zobaczenie, jak szpilki napędowe przecinają środkowy rowek koła. Aby przyjrzeć się temu bliżej, można zaprezentować ten szczegół współpracownikom lub szefowi. Dlatego potrzebne jest interaktywne rozwiązanie.

Można to zrobić za pomocą niestandardowego okna dialogowego animacji z suwakiem. Przesuwając suwak można ustawić kąt obrotu, a tym samym obracać się tam i z powrotem w interesującej pozycji.

Używamy tego samego pliku asemblera: [https://forum.freecadweb.org/download/file.php?id=97554 A2p_animated-example.FCStd] i tego skryptu Pythona: [https://forum.freecadweb.org/download/file.php?id=97982 A2p_animation-example-script.py].

<div class="mw-collapsible mw-collapsed toccolours">
Jest to treść skryptu, który wyświetla interaktywne okno dialogowe animacji:
<div class="mw-collapsible-content">
{{Code|code=
# import bibliotek
import time, math, PySide, sys
import FreeCAD.A2plus.a2p_solversystem as a2p_solver
from FreeCAD import Units
from PySide import QtCore, QtGui

# odczekać 1 ms po każdym obliczeniu
timeout = 0.001
# pobieramy aktualnie otwarty dokument
document = FreeCAD.activeDocument()
# chcemy później zmienić kąt obrotu części "star_wheel_001"
starWheel = document.getObject("star_wheel_001")

class AnimationDlg(QtGui.QWidget): # okno dialogowe animacji

    def __init__(self): # to initialize the dialog
        super(AnimationDlg, self).__init__()
        self.initUI()

    def initUI(self): # definicja komponentów okna dialogowego
        self.setMinimumSize(self.minimumSizeHint()) # set the minimal dialog size to minimum
        self.setWindowTitle('Animation Dialog')
        # używać układu siatki dla całego formularza
        self.mainLayout = QtGui.QGridLayout()
        self.lineNo = 0 # first dialog grid line
        # Dodaj etykietę opisu
        DescriptionLabel = QtGui.QLabel(self)
        DescriptionLabel.setText("Change slider to change rotation angle")
        self.mainLayout.addWidget(DescriptionLabel,self.lineNo,0,1,4)
         # następny wiersz okna dialogowego
        self.lineNo += 1
        # dodaje etykietę; nie ma potrzeby stosowania przedrostka "self.", ponieważ nie chcemy później zmieniać etykiety.
        LabelMin = QtGui.QLabel(self)
        LabelMin.setText("Min")
        LabelMin.setFixedHeight(32)
        self.mainLayout.addWidget(LabelMin,self.lineNo,0)
        # dodać edycję obrotową, aby zdefiniować minimum suwaka
        self.MinEdit = QtGui.QSpinBox(self)
        # pobiera jednostkę kąta jako ciąg znaków
        self.MinEdit.setSuffix(" " + str(FreeCAD.Units.Quantity(1, FreeCAD.Units.Angle))[2:])
        self.MinEdit.setMaximum(999)
        self.MinEdit.setMinimum(0)
        self.MinEdit.setSingleStep(10)
        self.MinEdit.setValue(0)
        self.MinEdit.setFixedHeight(32)
        self.MinEdit.setToolTip("Minimal angle for the slider")
        QtCore.QObject.connect(self.MinEdit, QtCore.SIGNAL("valueChanged(int)"), self.setMinEdit)
        self.mainLayout.addWidget(self.MinEdit,self.lineNo,1)
        # dodaj suwak
        self.slider = QtGui.QSlider(QtCore.Qt.Horizontal, self)
        self.slider.setRange(0, 360)
        self.slider.setValue(0)
        self.slider.setFixedHeight(32)
        self.slider.setToolTip("Move the slider to change the rotation angle")
        QtCore.QObject.connect(self.slider, QtCore.SIGNAL("sliderMoved(int)"), self.handleSliderValue)
        self.mainLayout.addWidget(self.slider,self.lineNo,2)
        # dodaj etykietę
        LabelMax = QtGui.QLabel(self)
        LabelMax.setText("Max")
        LabelMax.setFixedHeight(32)
        self.mainLayout.addWidget(LabelMax,self.lineNo,3)
        # dodaje edycję obrotową, aby zdefiniować maksimum suwaka
        self.MaxEdit = QtGui.QSpinBox(self)
        # pobiera jednostkę kąta jako ciąg znaków
        self.MaxEdit.setSuffix(" " + str(FreeCAD.Units.Quantity(1, FreeCAD.Units.Angle))[2:])
        self.MaxEdit.setMaximum(999)
        self.MaxEdit.setMinimum(1)
        self.MaxEdit.setSingleStep(10)
        self.MaxEdit.setValue(360)
        self.MaxEdit.setFixedHeight(32)
        self.MaxEdit.setToolTip("Maximal angle for the slider")
        QtCore.QObject.connect(self.MaxEdit, QtCore.SIGNAL("valueChanged(int)"), self.setMaxEdit)
        self.mainLayout.addWidget(self.MaxEdit,self.lineNo,4)
         # następny wiersz okna dialogowego
        self.lineNo += 1
        # dodaje element dystansowy
        self.mainLayout.addItem(QtGui.QSpacerItem(10,10), 0, 0)
        # dodaje etykietę
        LabelCurrent = QtGui.QLabel(self)
        LabelCurrent.setText("Current angle:")
        LabelCurrent.setFixedHeight(32)
        self.mainLayout.addWidget(LabelCurrent,self.lineNo,1)
        # wyświetla bieżący kąt
        self.CurrentAngle = QtGui.QLineEdit(self)
        self.CurrentAngle.setText(str(0))
        self.CurrentAngle.setFixedHeight(32)
        self.CurrentAngle.setToolTip("Current rotation angle")
        self.CurrentAngle.isReadOnly()
        self.mainLayout.addWidget(self.CurrentAngle,self.lineNo,2)
        # dodaje etykietę dla urządzenia
        LabelUnit = QtGui.QLabel(self)
        LabelUnit.setText("deg")
        LabelUnit.setFixedHeight(32)
        self.mainLayout.addWidget(LabelUnit,self.lineNo,3)
        # aby zamknąć okno dialogowe
        self.Close = QtGui.QPushButton(self)
        self.Close.setText("Close")
        self.Close.setFixedHeight(32)
        self.Close.setToolTip("Closes the dialog")
        QtCore.QObject.connect(self.Close, QtCore.SIGNAL("clicked()"), self.CloseClicked)
        self.mainLayout.addWidget(self.Close,self.lineNo,4)
        # place the defined grid layout to the dialog
        self.setLayout(self.mainLayout)
        self.update()

    def handleSliderValue(self):
        # ustawia wartość suwaka jako kąt
        starWheel.Placement.Rotation.Angle = math.radians(self.slider.value())
        # kąt prądu wyjściowego
        self.CurrentAngle.setText(str(self.slider.value()))
        # rozwiązywanie wiązań
        a2p_solver.solveConstraints(document)
        # aktualizacja widoku po rozwiązaniu ''("Gui" oznacza "graficzny interfejs użytkownika")''
        FreeCADGui.updateGui()
        # odczekaj trochę czasu, ważne jest, aby dać czas na wykonanie obliczeń.
        time.sleep(timeout)

    def setMinEdit(self):
        # upewnij się, że minimum jest mniejsze niż maksimum
        if self.MinEdit.value() >=  self.MaxEdit.value():
            self.MaxEdit.setValue(self.MinEdit.value() + 1)
        self.slider.setRange(self.MinEdit.value(), self.MaxEdit.value())

    def setMaxEdit(self):
        # upewnić się, że minimum jest mniejsze niż maksimum
        if self.MinEdit.value() >=  self.MaxEdit.value():
            self.MinEdit.setValue(self.MaxEdit.value() - 1)
        self.slider.setRange(self.MinEdit.value(), self.MaxEdit.value())

    def CloseClicked(self):
        AnimationDialog.close()

# utwórz i wyświetl zdefiniowane okno dialogowe
AnimationDialog = AnimationDlg()
AnimationDialog.show()

# uruchom tę pętlę, gdy okno dialogowe jest widoczne
while AnimationDialog.isVisible():
    # aktualizacja widoku; ważne, aby system operacyjny otrzymał informację zwrotną, że okno dialogowe jest aktywne
    FreeCADGui.updateGui()
    # przeniesienie okna dialogowego na przód, tak aby było ono zawsze widoczne
    QtGui.QWidget.raise_(AnimationDialog)
    # wartość wyjściowa suwaka również tutaj, ponieważ podczas obliczeń suwak mógł zostać przesunięty
    AnimationDialog.CurrentAngle.setText(str(AnimationDialog.slider.value()))
}}
</div>
</div>

Okno dialogowe zdefiniowane w skrypcie wygląda następująco:

[[Image:A2p_AnimationDialog.png]]

<span id="Script_Commands"></span>
===Polecenia skryptu===

Aby lepiej zrozumieć składnię skryptu, oto kilka informacji o poleceniach:
{{Code|code= starWheel.Placement.Rotation.Angle = math.radians(angle)}} 

Tutaj zmieniamy właściwość umieszczania {{incode|Rotation.Angle}} części otrzymanej wcześniej jako {{incode|starWheel}}. Ta właściwość pobiera kąt jako [https://en.wikipedia.org/wiki/Radian radian]. Funkcja {{incode|radians()}} z biblioteki {{incode|math}} konwertuje kąt ze stopni na radiany.

Właściwość {{incode|Rotation.Angle}} wykorzystuje bieżącą oś umieszczenia części ''(w naszym przykładzie oś X)''. Aby obrócić część np. wokół osi Z, można ustawić oś obrotu ''(przed wywołaniem polecenia obrotu)'' za pomocą polecenia:
{{Code|code= starWheel.Placement.Rotation.Axis = FreeCAD.Vector(0,0,1)}}
Zamiast obracać, części można również przesuwać. Aby zmienić na przykład położenie koła w kierunku Y, polecenie brzmiałoby: 
{{Code|code= starWheel.Placement.Base.y = PositionShift}}
W tym przypadku nie definiowalibyśmy zmiennej {{incode|angle}}, ale {{incode|PositionShift}}, którą zmieniamy przy każdym przebiegu pętli.

Istnieją różne sposoby ustawiania położenia części. Niektóre z nich są udokumentowane na stronie [[Placement/pl|Umiejscowienie]]. Niestety nie ma ''(jeszcze)'' listy wszystkich możliwych poleceń umiejscowienia.
{{Code|code=a2p_solver.solveConstraints(document, useTransaction=False/True)}} 

Jest to polecenie specyficzne dla środowiska pracy A2plus. Rozwiązuje ono wiązania złożenia, które wcześniej otrzymaliśmy jako {{incode|document}}. Opcja {{incode|useTransaction}} określa, czy FreeCAD powinien przechowywać każdą zmianę w stosie cofania / ponawiania. W przypadku dużych animacji można więc ustawić ją na {{FALSE}}.

{{Userdocnavi{{#translation:}}}}
[[Category:Addons{{#translation:}}]]
[[Category:External Workbenches{{#translation:}}]]