<languages/>

{{Macro/pl
|Name=findConfigFiles
|Icon=Macro_findConfigFiles.png
|Description=Użyj tego makra, aby znaleźć pliki konfiguracyjne ustawień użytkownika, czyli<br/>'''system.cfg'''<br/>'''user.cfg'''<br/>Pliki te można przemianować, aby przywrócić ustawienia FreeCAD do domyślnych wartości. Czasami może to rozwiązać problemy, które występują w programie FreeCAD. <br/>Przed zmianą nazw plików należy zamknąć program FreeCAD, a następnie ponownie go otworzyć. Jeśli zmiana nazw plików nie rozwiązała problemu, można usunąć nowe pliki utworzone przez program FreeCAD i przywrócić oryginalne nazwy plików, aby przywrócić poprzednie ustawienia. Możesz również bezpiecznie usunąć zmienione pliki, gdy masz pewność, że nie są już potrzebne lub nie chcesz ich używać, ale zaleca się zmianę ich nazw zamiast usuwania, dopóki nie masz pewności, że nie są już potrzebne. <br/>Uwaga: Makro nie zmienia nazw plików ani nie wprowadza żadnych zmian w ustawieniach. Po prostu znajduje lokalizację tych plików, kopiuje ją do schowka i (próbuje) otworzyć folder zawierający te pliki na komputerze za pomocą domyślnej przeglądarki plików. 
|Author=TheMarkster
|Version=2022.03.15
|Date=2022-03-15
|FCVersion=Wszystkie
|Download=[https://wiki.freecad.org/images/b/b5/Macro_findConfigFiles.png Ikonka paska narzędzi]
}}

<span id="Description"></span>
==Opis==

Użyj tego makra, aby znaleźć pliki konfiguracyjne ustawień użytkownika, czyli
* {{incode|system.cfg}}
* {{incode|user.cfg}}

Pliki te można zmienić, żeby przywrócić ustawienia FreeCAD do domyślnych. Czasami to może rozwiązać problemy, które masz z FreeCAD.

Przed zmianą nazw plików należy zamknąć program FreeCAD, a następnie ponownie go uruchomić.  Jeśli zmiana nazw plików nie rozwiązała problemu, można usunąć nowe pliki utworzone przez program FreeCAD i przywrócić oryginalne nazwy plików, aby przywrócić poprzednie ustawienia.  Możesz również bezpiecznie usunąć pliki, których nazwy zostały zmienione, gdy masz pewność, że nie są już potrzebne lub nie chcesz ich używać, ale zaleca się zmianę ich nazw zamiast usuwania, dopóki nie masz pewności, że nie są już potrzebne.

Uwaga: Makro nie zmienia nazw plików ani nie wprowadza żadnych zmian w ustawieniach.  Po prostu wyszukuje lokalizację tych plików, kopiuje ją do schowka i (próbuje) otworzyć folder zawierający te pliki na komputerze za pomocą domyślnej przeglądarki plików.

<span id="Script"></span>
==Skrypt==

Ikonka paska narzędzi [[Image:Macro_findConfigFiles.png]]

'''Macro_findConfigFiles.FCMacro'''

{{MacroCode|code=
# -*- coding: utf-8 -*-
import FreeCAD
import subprocess, os 
from PySide import QtCore,QtGui
import platform 
__title__ = "findConfigFiles"
__author__ = "TheMarkster"
__url__ = "https://wiki.freecad.org/Macro_findConfigFiles"
__Wiki__ = "https://wiki.freecad.org/index.php?title=Macro_findConfigFiles"
__date__ = "2022.03.15" 
__version__ = __date__


"""A macro to help with user configuration files --<TheMarkster>"""

clipboard = QtGui.QApplication.clipboard()
sys = platform.system()
userFolder = App.getUserConfigDir() if hasattr(App,"getUserConfigDir") else App.getUserAppDataDir()

msgBox = QtGui.QMessageBox()
msgBox.setWindowTitle('findConfigFiles macro')
msgBox.setTextFormat(QtCore.Qt.RichText)
#msgBox.setStandardButtons(QtGui.QMessageBox.Ok.__or__(QtGui.QMessageBox.Cancel))
#__or__() is deprecated in python 3.8 and the pipe symbol interferes with addon manager, so add buttons separately
msgBox.addButton(QtGui.QMessageBox.Ok)
msgBox.addButton(QtGui.QMessageBox.Cancel)
msgBox.addButton("Copy to Clipboard and Open",QtGui.QMessageBox.ApplyRole)

#HTML tags are part of the source -- do not edit
#thanks to user C4e for help with the paragraph formatting
msg = """
 These files are located here on your system:
 <p>
    <b><font color = 'blue'>""" + userFolder + """</font></b>
 </p>
 <p>
 This macro was created to support you in renaming the configuration files of your user application. 
 This can <i>sometimes</i> correct some issues you are having using FreeCAD.
 If it doesn't work you can always go back and rename them back to their original names.
 </p>
 <p>
 To reset your configuration settings, exit FreeCAD and rename these 2 files:
 <ul>
    <li><b><font color='blue'>system.cfg</font></b>
    <li><b><font color = 'blue'>user.cfg</font></b>
 </ul>
 Rename them e.g. to user/system.cfg.backup or something similar.
 </p>
 <p>
 When you press OK the macro will attempt to open the folder location for you, but 
 you might need to open it manually if this doesn't work.
 </p>
 <p>
 Renaming these files will reset <i>all</i> of your FreeCAD settings back to default.
 </p>
 <p>
 (This macro does <i>not</i> make any changes to these files or to your user settings.)</p>
 """


msgBox.setText(msg)
ok = msgBox.exec_()
if ok==0:
    clipboard.setText(userFolder)
if ok == QtGui.QMessageBox.Ok or ok==0:
    if 'Windows' in sys:
        subprocess.Popen('start explorer.exe '+userFolder, shell=True)
    elif 'Linux' in sys:
        os.system("xdg-open '%s'" % userFolder)
    elif 'Darwin' in sys:
        subprocess.Popen(["open", userFolder])
    else:
        msgBox = QtGui.QMessageBox()
        msg = "We were unable to determine your platform, and thus cannot open your '+userFolder+' for you, but you can still do it manually.\n"
        msgBox.exec_()}}

<span id="Link"></span>
==Łącze==

[https://forum.freecad.org/viewtopic.php?f=22&t=29888 findConfigFiles makro]