<languages/>
<translate>

<!--T:14-->
{{Docnav
|[[Draft_ToggleConstructionMode|ToggleConstructionMode]]
|[[Draft_Snap_Lock|Snap Lock]]
|[[Draft_Workbench|Draft]]
|IconL=Draft_ToggleConstructionMode.svg
|IconR=Draft_Snap_Lock.svg
|IconC=Workbench_Draft.svg
}}

<!--T:1-->
{{GuiCommand
|Name=Draft AutoGroup
|Empty=1
|Workbenches=[[Draft_Workbench|Draft]], [[BIM_Workbench|BIM]]
|Version=0.17
|SeeAlso=[[Draft_Layer|Draft Layer]], [[Std_Group|Std Group]]
}}

== Description == <!--T:17--> 

<!--T:2-->
The '''Draft AutoGroup''' command changes the active [[Draft_Layer|Draft Layer]] or, [[#Preferences|optionally]], the active [[Std_Group|Std Group]] or group-like [[BIM_Workbench|BIM]] object. New [[Draft_Workbench|Draft]] and [[BIM_Workbench|BIM]] objects are automatically placed in this active layer or group.

<!--T:19-->
This command was originally intended for groups, hence its name, but was redesigned in FreeCAD version 0.19 when a layer system was introduced. Because handling layers is now the default for the command the rest of this page primarily focuses on layers.

</translate>
[[Image:Draft_Tray_Menu.png]]
<translate>
<!--T:9-->
{{Caption|The layer menu of the Draft Tray (image updated for version 1.1)}}

==Usage== <!--T:18-->

<!--T:3-->
# Optionally select the layer you want to make active in the [[Tree_View|Tree View]].
# There are several ways to invoke the command:
#* Press the [[Image:Draft_tray_button_layer.png]] button in the [[Draft_Tray|Draft Tray]]. This button can look different. If there is an active layer it will show the name of the layer and a layer icon with the line and face color of the layer.
#* If you have selected a layer: select the {{MenuCommand|[[Image:button_right.svg|16px]] Activate Layer}} option from the [[Tree_View|Tree View]] context menu.
# If you have not yet selected a layer the layer menu opens. Do one of the following:
#* Select {{MenuCommand|[[Image:Button_invalid.svg|16px]] None}} to work without an active layer.
#* Select an existing layer to make active.
#* Select {{MenuCommand|[[Image:Draft_NewLayer.svg|16px]] New Layer}} to create a new layer:
#*# The {{MenuCommand|New Layer}} dialog box opens. {{Version|1.1}}
#*# Enter a {{MenuCommand|Layer name}}.
#*# Press the {{Button|OK}} button.
#*# The new layer is activated. {{Version|1.1}}
# If the active layer was changed the button in the [[Draft_Tray|Draft Tray]] is updated.

==Notes== <!--T:20-->

<!--T:5-->
* A new [[Draft_Layer|layer]] can also be created by right-clicking the layer container in the [[Tree_View|Tree View]] and selecting the {{MenuCommand|[[Image:Draft_NewLayer.svg|16px]] Add New Layer}} option from the context menu.
* If [[Draft_ToggleConstructionMode|Draft construction mode]] is switched on the active [[Draft_Layer|layer]] is ignored.

==Preferences== <!--T:21-->

<!--T:22-->
See also: [[Preferences_Editor|Preferences Editor]] and [[Draft_Preferences|Draft Preferences]].

<!--T:23-->
* This command can optionally also handle groups: {{MenuCommand|Edit → Preferences → Draft → General → Include groups in layer list}}.

== Scripting == <!--T:6--> 

<!--T:10-->
See also: [https://freecad.github.io/SourceDoc/ Autogenerated API documentation] and [[FreeCAD_Scripting_Basics|FreeCAD Scripting Basics]].

<!--T:7-->
If the [[Draft_Workbench|Draft Workbench]] is active the FreeCADGui application object has a {{incode|draftToolBar}} property. This {{incode|draftToolBar}} object has an {{incode|autogroup}} property, which contains the name of the active autogroup, or is {{incode|None}} if no autogroup is active. To change the active autogroup use the {{incode|setAutoGroup}} method of the {{incode|draftToolBar}} object. To put objects in the active autogroup use the {{incode|autogroup}} method of the Draft module.

</translate>
{{Code|code=
# This code only works if the Draft Workbench is active!

import FreeCAD as App
import FreeCADGui as Gui
import Draft

doc = App.newDocument()

polygon1 = Draft.make_polygon(5, radius=1000)
polygon2 = Draft.make_polygon(3, radius=500)
polygon3 = Draft.make_polygon(6, radius=220)

layer = Draft.make_layer()
Gui.draftToolBar.setAutoGroup(layer.Name)

Draft.autogroup(polygon1)
Draft.autogroup(polygon2)
Draft.autogroup(polygon3)

doc.recompute()
}}
<translate>


<!--T:13-->
{{Docnav
|[[Draft_ToggleConstructionMode|ToggleConstructionMode]]
|[[Draft_Snap_Lock|Snap Lock]]
|[[Draft_Workbench|Draft]]
|IconL=Draft_ToggleConstructionMode.svg
|IconR=Draft_Snap_Lock.svg
|IconC=Workbench_Draft.svg
}}

</translate>
{{Draft Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}