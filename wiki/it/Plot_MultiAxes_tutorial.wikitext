<languages/>

<div class="mw-translate-fuzzy">
{{TutorialInfo/it
|Topic=Ambiente Plot
|Level=Intermedio
|Time=
|Author=
|FCVersion=0.19
|Files=
}}
</div>

Completare il [[Plot_Basic_tutorial|tutorial di base]] prima di iniziare con questo tutorial. In questo tutorial impareremo come creare e modificare un grafico multiasse. Si possono trovare ulteriori informazioni sull'[[Plot_Workbench|Ambiente Plot qui]].

[[Image:Plot_MultiAxes_Example.png|600px]]
{{Caption|Esempio di grafico multi-asse}}

Nell'immagine si può vedere approssimativamente il risultato finale. Seguendo questo tutorial si imparerà:
* Come creare un grafico multiasse dalla [[Python_console/it|console Python]].
* Come modificare le proprietà degli assi.
* Come controllare la griglia e la legenda quando sono presenti più sistemi di assi.
* Come modificare la posizione di etichette, titoli e legende.

<span id="Plotting_data"></span>
==Rappresentazione dei dati==

Come fatto nel [[Plot_Basic_tutorial/it|tutorial precedente]], si utilizzerà la [[Python_console/it|console Python]] o le [[Macros/it|macro]] per rappresentare i dati, ma in questo caso si rappresenteranno i dati utilizzando due sistemi di assi.

<span id="Creating_plot_data"></span>
===Creare i dati da rappresentare===

In questo esempio, si tracceranno tre funzioni, le due utilizzate nel [[Plot_Basic_tutorial/it|tutorial precedente]], e una nuova funzione polinomiale. Il range della funzione polinomiale è diverso da quello delle altre funzioni, quindi sono necessari nuovi assi. I comandi successivi creeranno gli array di dati:

{{Code|code=
import math
p = range(0,1001)
x = [2.0*xx/1000.0 for xx in p]
y = [xx**2.0 for xx in x]
t = [tt/1000.0 for tt in p]
s = [math.sin(math.pi*2.0*tt) for tt in t]
c = [math.cos(math.pi*2.0*tt) for tt in t]
}}

Quando ''x'' varia da 0 a 2, la funzione ''y'' avrà un valore massimo di 4, quindi se si prova a rappresentare questa funzione assieme a quelle trigonometriche, almeno una funzione verrà troncata o scalata male, quindi ci sarà bisogno di un grafico multiasse. Un grafico multiasse in FreeCAD ha lo scopo di ottenere un grafico con più assi, non di produrre più grafici nello stesso documento.

<span id="Drawing_functions,_adding_new_axes"></span>
===Rappresentare le funzioni, aggiungere nuovi assi===

Si tracceranno le funzioni trigonometriche utilizzando gli assi principali. Se tutti gli assi hanno la stessa dimensione, non è rilevante quale funzione venga tracciata per prima. In caso contrario, la funzione che utilizza gli assi più grandi, nel nostro caso la funzione polinomiale, dovrebbe essere tracciata per ultima. La legenda sarà allegata all'ultimo sistema di assi ed è più comodo se questo è il più grande. Per tracciare le funzioni trigonometriche è sufficiente lanciare i seguenti comandi.

{{Code|code=
try:
    from FreeCAD.Plot import Plot
except ImportError:
    from freecad.plot import Plot

Plot.plot(t,s,r"$\sin\left( 2 \pi t \right)$")
Plot.plot(t,c,r"$\cos\left( 2 \pi t \right)$")
}}

In questo esempio si passano direttamente le etichette delle serie per la legenda. Si noti che le stringhe delle etichette hanno il prefisso ''r'' per impedire a Python di interpretare i caratteri speciali (il simbolo ''\'' è usato frequentemente nella sintassi di [https://www.latex-project.org/ LaTeX]).

Prima di poter tracciare la funzione polinomiale, si devono creare i nuovi assi. In [[Plot_Workbench/it|Plot]] i nuovi assi vengono automaticamente selezionati come attivi e a questi sono associati i nuovi grafici.

{{Code|code=
Plot.addNewAxes()
Plot.plot(x,y,r"$x^2$")
}}

Come puoi notare, il grafico è impazzito, con le tacche degli assi sovrapposte, curve dello stesso colore, ecc. Ora di deve usare [[Plot_Workbench/it|Plot]] per sistemarlo.

<span id="Configuring_plot"></span>
==Configurare il grafico==

<span id="Configuring_axes"></span>
===Configurare gli assi===

[[Plot_Workbench|Plot]] fornisce uno strumento per modificare le proprietà degli assi.

[[Image:Plot_Axes.svg‎]]
{{Caption|Icona dello strumento di configurazione degli assi}}

Con lo [[Plot_Axes/it|strumento assi]] si possono aggiungere o rimuovere assi e configurare gli assi attivi, che verranno poi utilizzati se si rappresentano più dati.

Per modificare la dimensione del primo sistema di assi, associato alle funzioni trigonometriche, è necessario prima attivarlo, modificando gli assi attivi da 1 a 0. Si possono quindi spostare i cursori delle dimensioni orizzontale e verticale per ridurne la dimensione (si provi ad emulare l'esempio). Si deve anche modificare l'allineamento degli assi: si selezioni rispettivamente in alto e a destra.

<span id="Configuring_series"></span>
===Configurare le serie===

Impostare le proprietà della serie come era stato fatto nel [[Plot_Basic_tutorial/it|tutorial precedente]].

<span id="Showing_grid_and_legend"></span>
===Mostrare la griglia e la legenda===

La [[Plot_Grid/it|griglia]] e la [[Plot_Legend/it|legenda]] possono essere visualizzate e nascoste con gli strumenti già descritti nel [[Plot_Basic_tutorial/it|tutorial precedente]], ma in questo caso il comportamento è leggermente diverso perché ci sono due sistemi di assi.

Le linee della griglia vengono aggiunte al set di assi attivi. Per aggiungere linee al secondo set di assi nel nostro esempio, è necessario prima attivarlo modificando gli assi attivi da 0 a 1 nello [[Plot_Axes/it|strumento assi]].

Come già accennato, la legenda sarà posizionata in base agli ultimi assi impostati. Se si visualizza la legenda ora, si nota che è posizionata davvero male, ma il problema verrà risolto in seguito.

<span id="Setting_axes_labels"></span>
===Impostare le etichette degli assi===

Per impostare le [[Plot_Labels/it|etichette]] degli assi, ci si deve nuovamente occupare dei due sistemi di assi. Tuttavia, poiché le etichette vengono solitamente impostate per tutti gli assi, la procedura è la stessa descritta nel [[Plot_Basic_tutorial/it|tutorial precedente]]. [[Plot_Workbench|Plot]] consente di impostare un titolo per ogni sistema di assi. In questo caso, si desidera impostare un titolo solo per l'ultimo sistema di assi, il più grande.

'''Axes 0:'''
* X Label = $t$
* Y Label = $\mathrm{f} \left( t \right)$
'''Axes 1:'''
* Title = Multiaxes example
* X Label = $x$
* Y Label = $\mathrm{f} \left( x \right)$

Cambiare la dimensione del carattere di tutte le etichette a 20 e la dimensione del carattere del titolo a 24. Anche in questo caso c'è un elemento, il titolo, che è posizionato male.

<span id="Setting_elements_position"></span>
===Impostare la posizione degli elementi===

[[Plot_Workbench/it|Plot]] fornisce uno strumento per modificare la posizione dei diversi elementi del grafico, come titoli, etichette e legende.

[[Image:Plot_Positions.svg]]
{{Caption|Icona dello strumento Posizione}}

Quando si esegue lo strumento, si vedrà un elenco di tutti gli elementi modificabili. Titoli e legende possono essere spostati in entrambe le direzioni, ma le etichette degli assi possono essere spostate solo lungo l'asse a cui appartengono. Selezionare il titolo dell'asse 1 e spostalo su (0.24,1.01), quindi selezionare la legenda e spostarla in una posizione migliore. Si può anche aumentare la dimensione del carattere delle etichette della legenda.

<span id="Saving_plot"></span>
==Salvare il grafico==

Ora è possibile salvare il lavoro. Se non ci si ricorda come fare, consultare il [[Plot_Basic_tutorial/it|tutorial precedente]].


{{Plot_Tools_navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}
[[Category:External_Workbenches{{#translation:}}]]
[[Category:Addons{{#translation:}}]]