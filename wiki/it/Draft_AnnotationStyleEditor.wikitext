<languages/>

{{Docnav/it
|[[Draft_Label/it|Etichetta]]
|[[Draft_Move/it|Sposta]]
|[[Draft_Workbench/it|Draft]]
|IconL=Draft_Label.svg 
|IconR=Draft_Move.svg 
|IconC=Workbench_Draft.svg
}}

{{GuiCommand/it
|Name=Draft AnnotationStyleEditor
|Name/it=Draft Stile delle annotazioni
|MenuLocation=Annotazioni → Stile delle annotazioni...<br>Gestisci → Stile delle annotazioni...
|Workbenches=[[Draft_Workbench/it|Draft]], [[BIM_Workbench/it|BIM]]
|SeeAlso=[[Draft_Text/it|Testo]], [[Draft_Label/it|Etichetta]], [[Draft_Dimension/it|Quotatura]]
|Version=0.19
}}

<span id="Description"></span>
==Descrizione==

Il comando [[Image:Draft_AnnotationStyleEditor.svg|24px]] '''Stile delle annotazioni''' consente di definire gli stili che influenzano le proprietà visive di oggetti simili ad annotazioni, come quelli creati con i comandi [[Draft_Text/it|Testo]], [[Draft_Dimension/it|Quotatura]] ed [[Draft_Label/it|Etichetta]].

[[File:Draft_AnnotationStyleEditor_Dialog.png]]
{{Caption|La finestra di dialogo Editor degli stili di annotazione (layout della versione 1.1)}}

<span id="Usage"></span>
==Utilizzo==

# Esistono diversi modi per invocare il comando:
#* [[Draft_Workbench/it|Draft]]:  Premere il pulsante {{Button|[[Image:Draft_AnnotationStyleEditor.svg|16px]] [[Draft_AnnotationStyleEditor/it|Stili di annotazione...]]}}.
#* Draft: Selezionare l'opzione {{MenuCommand|Annotazione → [[Image:Draft_AnnotationStyleEditor.svg|16px]] Stili di annotazione...}} dal menu.
#* [[BIM_Workbench/it|BIM]]: Selezionare l'opzione {{MenuCommand|Gestisci → [[Image:Draft_AnnotationStyleEditor.svg|16px]] Stili di annotazione...}} dal menu.
# Si apre la finestra di dialogo {{MenuCommand|Editor degli stili di annotazione}}.
# Selezionare uno stile dall'elenco a discesa {{MenuCommand|Nome stile}} o scegliere {{Value|Aggiungi nuovo...}} per definire un nuovo stile.
# Regolare facoltativamente le proprietà dello stile.
# Facoltativamente, premere il pulsante {{Button|[[File:Accessories-text-editor.svg|16px]] Rinomina}} per rinominare lo stile.
# Facoltativamente, premere il pulsante {{Button|[[File:Edit_Cancel.svg|16px]] Elimina}} per eliminare lo stile.
# Facoltativamente, premere il pulsante {{Button|[[File:Std_Import.svg|16px]]}} per importare tutti gli stili da un file {{FileName|.json}}. Questo sovrascriverà gli stili esistenti con lo stesso nome.
# Facoltativamente, premere il pulsante {{Button|[[File:Std_Export.svg|16px]]}} per esportare tutti gli stili in un file {{FileName|.json}}.
# Premere il pulsante {{Button|OK}} per chiudere la finestra di dialogo e terminare il comando.

<span id="Apply"></span>
== Applicazione ==

Per applicare uno stile di annotazione, modificare la proprietà {{PropertyView|Annotation Style}} degli oggetti di annotazione. Questa proprietà può essere trovata nella scheda {{MenuCommand|Vista}} dell'[[Property_editor|Editor delle proprietà]].

[[File:Draft_AnnotationStyleEditor_Apply.png]]
{{Caption|Selezione di uno stile di annotazione}}

<span id="Scripting"></span>
==Script==

Vedere anche: [https://freecad.github.io/SourceDoc/ Autogenerated API documentation] e [[FreeCAD Scripting Basics/it|Script di base per FreeCAD]].

Gli stili di annotazione vengono salvati come dizionari serializzati nell'attributo {{incode|Meta}} del documento. Questo attributo viene ispezionato dall'editor dello stile di annotazione quando viene aperto.

{{Code|code=
>>> print(App.ActiveDocument.Meta["Draft_Style_Text red"])
{"ArrowSize": 2.0, "ArrowType": 0, "Decimals": 2, "DimOvershoot": 4.0, "ExtLines": 0.0, "ExtOvershoot": 4.0, "FontName": "DejaVu Sans", "FontSize": 10.0, "LineColor": 255, "LineSpacing": 1.0, "LineWidth": 2, "ScaleMultiplier": 1.0, "ShowLine": true, "ShowUnit": false, "TextColor": 4278190335, "TextSpacing": 3.0, "UnitOverride": ""}
}}

Ogni stile che appare nell'editor viene salvato internamente con il nome dello stile preceduto da {{incode|Draft_Style_}}; questo evita i conflitti di nomi con altre chiavi che possono essere salvate in {{incode|Meta}}, che può contenere informazioni arbitrarie.

Si può definire qualsiasi nuovo stile aggiungendo le informazioni necessarie a una chiave che inizia con {{incode|Draft_Style_}}. Il valore corrispondente di questa chiave deve essere un dizionario serializzato usando {{incode|json}}.

{{Code|code=
import json

meta = App.ActiveDocument.Meta
props = {"ArrowSize": 7.0, "LineWidth": 6}
meta["Draft_Style_Thick_lines"] = json.dumps(props)
App.ActiveDocument.Meta = meta
}}

Le proprietà non inserite verranno compilate automaticamente quando questo stile viene selezionato nell'editor di stile e viene premuto il pulsante {{Button|OK}}.

Allo stesso modo, qualsiasi dizionario serializzato può essere decompresso per essere editato.

{{Code|code=
import json

meta = App.ActiveDocument.Meta
new_dict = json.loads(meta["Draft_Style_Thick_lines"])
}}

Le proprietà devono avere i seguenti tipi:

Stringhe:

{{Code|code=
props = {
    "FontName": "DejaVu Sans",
    "UnitOverride": ""
}
}}

Numeri decimali (devono essere forniti con un punto decimale):

{{Code|code=
props = {
    "ArrowSize": 2.0,
    "DimOvershoot": 4.0,
    "ExtLines": 0.0,
    "ExtOvershoot": 4.0
    "FontSize": 10.0,
    "LineSpacing": 1.0,
    "ScaleMultiplier": 1.0,
    "TextSpacing": 3.0
}
}}

Numeri interi:

{{Code|code=
props = {
    "ArrowType": 0,
    "Decimals": 2,
    "LineColor": 255,
    "LineWidth": 2,
    "TextColor": 4278190335
}
}}

{{Incode|TextColor}} e {{Incode|LineColor}} corrispondono a un numero intero a 32 bit, da cui è possibile estrarre i singoli valori RGBA. {{Incode|ArrowType}} è un enumeratore.

Booleane:

{{Code|code=
props = {
    "ShowLine": true
    "ShowUnit": false,
}
}}


{{Docnav/it
|[[Draft_Label/it|Etichetta]]
|[[Draft_Move/it|Sposta]]
|[[Draft_Workbench/it|Draft]]
|IconL=Draft_Label.svg 
|IconR=Draft_Move.svg 
|IconC=Workbench_Draft.svg
}}

{{Draft Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}