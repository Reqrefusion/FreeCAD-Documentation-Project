<languages/>

{{Docnav/it
|[[Inspection_Workbench/it|Ambiente Inspection]]
|[[Mesh_Workbench/it|Ambiente Mesh]]
|IconL=Workbench_Inspection.svg
|IconR=Workbench_Mesh.svg
}}

[[Image:Workbench_Material.svg|thumb|128px|L'icona dell'ambiente Material]]

<span id="Introduction"></span>
== Introduzione ==

{{Version/it|1.0}}

L'[[Image:Workbench_Material.svg|24px]] [[Material_Workbench/it|Ambiente Material]] gestisce il sistema dei materiali di FreeCAD.

<span id="Tools"></span>
== Strumenti ==

* [[Image:Material_Edit.svg|32px]] [[Material_Edit/it|Edita Materiale]]: apre l'editor dei materiali.

<span id="Related_tools"></span>
=== Strumenti correlati ===

Sebbene non siano forniti dall'ambiente Material, questi strumenti relativi ai Materiali sono inclusi nel core di FreeCAD e possono essere utilizzati senza caricare questo ambiente:

* [[Image:Std_SetMaterial.svg|32px]] [[Std_SetMaterial|Material]]: Assegna un materiale agli oggetti selezionati.

* [[Image:Std_SetAppearance.svg|32px]] [[Std_SetAppearance|Aspetto]]: Imposta le proprietà di visualizzazione degli oggetti selezionati. Spesso utilizzato dopo l'applicazione di un materiale, quando un dato materiale non definisce proprietà di aspetto.

<span id="Preferences"></span>
== Preferenze ==

* [[File:Preferences-material.svg|32px]] [[Material_Preferences/it|Preferenze]]: preferenze per l'ambiente Material.

<span id="Working_with_materials"></span>
== Lavorare con i materiali ==

Questa guida spiega i concetti fondamentali e i flussi di lavoro per l'utilizzo del sistema dei materiali in FreeCAD. Illustra i diversi strumenti, le proprietà e i dettagli tecnici chiave per l'uso sia interattivo che tramite script.

<span id="Material_tools"></span>
=== Strumenti di Material ===

<span id="Material_Editor"></span>
==== Editor del Materiale ====

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Usage:''' Click the {{Button|[[Image:Material_Edit.svg|16px]] [[Material_Edit|Edit]]}} button in the Material Workbench.
* '''Purpose:''' The Material Editor is a tool for '''defining and managing materials'''. Its sole function is to create new materials, edit the properties of existing ones, and organize them.
* '''Behavior:'''
** It is disconnected from your 3D model; selecting an object in your document has no effect on the editor.
** '''You cannot assign a material to an object from this window.''' Clicking {{Button|OK}} simply closes the editor.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==== Material Selector ====
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Usage:''' Select one or more objects in the [[3D_View|3D View]] or [[Tree_View|Tree View]], then select the {{MenuCommand|[[Image:Std_SetMaterial.svg|16px]] [[Std_SetMaterial|Material]]}} option from the context menu.
* '''Purpose:''' This tool is used to '''assign a material to objects'''.
* '''Behavior:'''
** It opens a task panel containing a material browser tree.
** The {{Button|Launch Editor}} button launches the Material Editor to edit or create a material.
** Selecting a material in the material browser tree immediately applies its properties to the selected objects. This is the required step to link a material's physical data to a part.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Physical vs. appearance properties ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
A material in FreeCAD is defined by two distinct sets of properties:
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''Physical properties:''' These define the engineering characteristics of a material, which are used for calculations and simulations (e.g., in the [[FEM_Workbench|FEM Workbench]]). Examples include {{Incode|Density}}, {{Incode|YoungsModulus}}, and {{Incode|PoissonRatio}}.
* '''Appearance properties:''' These define the visual look of a material for rendering purposes. Examples include {{Incode|DiffuseColor}}, {{Incode|Shininess}}, and {{Incode|Transparency}}.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
A material is not required to have both. Some materials might be defined only for analysis (with only physical properties), while others might be defined only for visualization (with only appearance properties).
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Override material appearance ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
An object's final appearance is determined by a hierarchy. The visual properties set in a material can be overridden by local settings on the object itself.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* '''How to override:''' Select the {{MenuCommand|[[Image:Std_SetAppearance.svg|16px]] [[Std_SetAppearance|Appearance]]}} option from the object's [[Tree_View|Tree View]] or [[3D_View|3D View]] context menu. Any changes you make here will take precedence over the appearance properties of the assigned material.
** '''Caveats:''' This can be a source of confusion. If you have assigned a material to an object but its color doesn't change, it is likely because the object has a local appearance override. There is no clear visual indicator in the UI to show that an override is active.
* '''How to revert an override''': To restore the material's appearance, you can use the {{MenuCommand|[[Image:Std_SetAppearance.svg|16px]] [[Std_SetAppearance|Appearance]]}} tool again and re-select the material to have its appearance properties applied.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Properties ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
When you assign a material, FreeCAD links the data to the object and its view provider using two properties.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{PropertyData|Shape Material}}: This is the most important property. It is added to the '''Document Object'''. It holds a link to a full {{Incode|Materials::Material}} object, giving access to all its physical and appearance data for calculations and scripting. This is a [[Property_View#Context_menu|hidden property]].
* {{PropertyView|Shape Appearance}}: This property exists on the object's '''View Provider'''. It is a list that controls the final rendering of the object in the 3D View and is what gets modified when you use the [[Image:Std_SetAppearance.svg|16px]] Appearance task panel.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Expressions ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
You can access material property values using expressions, which is particularly powerful in the [[Spreadsheet_Workbench|Spreadsheet Workbench]]. To ensure you get a usable numerical quantity instead of a text string, you must use the {{Incode|PropertyObjects}} dictionary.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* ❌ '''Incorrect method (returns text):''' Using the {{Incode|PhysicalProperties}} dictionary returns a string with units, which cannot be used in subsequent formulas.
</div>

: {{Code|lang=text|code=
=<<MyBody>>.ShapeMaterial.PhysicalProperties[<<Density>>]
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
: ''→ Returns "7850 kg/m^3"''
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* ✅ '''Correct method (returns a Quantity):''' Using the {{Incode|PropertyObjects}} dictionary and accessing its {{Incode|Value}} attribute returns a full Quantity object that can be used directly in calculations.
</div>

: {{Code|lang=text|code=
=<<MyBody>>.ShapeMaterial.PropertyObjects[<<Density>>].Value
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
: ''→ Returns a Quantity object that the spreadsheet can use numerically.''
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
: If this value is in cell {{Incode|A1}} of your spreadsheet, you can then write a formula in cell {{Incode|A2}} like {{Incode|<nowiki>=</nowiki> A1 * 10}}, and it will work correctly.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
=== Scripting ===
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
You can get and set material properties using Python scripting. The primary methods are {{Incode|.getPhysicalValue()}} and {{Incode|.setPhysicalValue()}}.
</div>

{{Code|lang=python|code=
import FreeCAD
import FreeCADGui

# Get a reference to your object (e.g., a PartDesign Body)
obj = App.ActiveDocument.getObject("Body")

# --- Check for and get a property ---
if obj.ShapeMaterial.hasPhysicalProperty("Density"):
    
    # Get the value. This returns a FreeCAD.Quantity object.
    density_quantity = obj.ShapeMaterial.getPhysicalValue("Density")
    
    print(f"The material is: {obj.ShapeMaterial.Name}")
    print(f"The density is: {density_quantity}")
    print(f"Numerical value: {density_quantity.Value}")

else:
    print("The selected material does not have a 'Density' property.")


# --- Set a property ---
# The value can be a string with units or a FreeCAD.Quantity object.
try:
    obj.ShapeMaterial.setPhysicalValue("Density", "8000 kg/m^3")
    App.ActiveDocument.recompute()
    print("Density successfully updated.")

except Exception as e:
    print(f"Failed to set property: {e}")
}}


{{Docnav/it
|[[Inspection_Workbench/it|Ambiente Inspection]]
|[[Mesh_Workbench/it|Ambiente Mesh]]
|IconL=Workbench_Inspection.svg
|IconR=Workbench_Mesh.svg
}}

[[Category:Material{{#translation:}}]]
{{Userdocnavi{{#translation:}}}}
[[Category:Workbenches{{#translation:}}]]