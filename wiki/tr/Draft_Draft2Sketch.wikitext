<languages/>

<div lang="en" dir="ltr" class="mw-content-ltr">
{{Docnav
|[[Draft_WireToBSpline|WireToBSpline]]
|[[Draft_Slope|Slope]]
|[[Draft_Workbench|Draft]]
|IconL=Draft_WireToBSpline.svg
|IconR=Draft_Slope.svg
|IconC=Workbench_Draft.svg
}}
</div>

<div class="mw-translate-fuzzy">
{{GuiCommand/tr
|Name=Draft Draft2Sketch
|Name/tr=Taslak/Eskiz çevir
|MenuLocation=Drafting → Draft to Sketch
|Workbenches=[[Draft_Workbench/tr|Draft]], [[Arch_Workbench/tr|Arch]]
}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Description==
</div> 

<div lang="en" dir="ltr" class="mw-content-ltr">
The [[Image:Draft_Draft2Sketch.svg|24px]] '''Draft Draft2Sketch''' command converts [[Draft_Workbench|Draft]] objects to [[Sketcher_NewSketch|Sketcher Sketches]] and vice versa.
</div>

[[Image:Draft_Draft2Sketch_example.png]]
<div lang="en" dir="ltr" class="mw-content-ltr">
{{Caption|Converting Draft objects to Sketcher Sketches}}
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Usage==
</div> 

<div lang="en" dir="ltr" class="mw-content-ltr">
# Optionally select one or more Draft objects or [[Sketcher_NewSketch|Sketcher Sketches]].
# There are several ways to invoke the command:
#* Press the {{Button|[[Image:Draft_Draft2Sketch.svg|16px]] [[Draft_Draft2Sketch|Draft to Sketch]]}} button.
#* [[Draft_Workbench|Draft]]: Select the {{MenuCommand|Modification → [[Image:Draft_Draft2Sketch.svg|16px]] Draft to Sketch}} option from the menu.
#* [[BIM_Workbench|BIM]]: Select the {{MenuCommand|Modify → [[Image:Draft_Draft2Sketch.svg|16px]] Draft to Sketch}} option from the menu.
# If you have not yet selected an object: select an object in the [[3D_View|3D View]].
# A new object is created.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Notes==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
* Non-Draft objects that are totally planar can also be converted.
* The command can only handle objects made up out of straight lines, circular arcs, elliptical arcs, B-splines and Bézier curves.
* [[Draft_BezCurve|Draft BezCurves]] will be approximated by [[Sketcher_CreateBSpline|Sketcher BSplines]].
* The external [[KicadStepUp_Workbench|KicadStepUp Workbench]] contains a command to convert a [[Draft_BSpline|Draft BSpline]] into a series of [[Sketcher_CreateArc|Sketcher Arcs]]. For more information see the forum topic [https://forum.freecad.org/viewtopic.php?f=9&t=25082 BSplines to Shape2DView and Sketcher].
* [https://forum.freecad.org/viewtopic.php?f=3&t=58781#p505207 This other forum topic] contains a macro for such a conversion.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
==Scripting==
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
See also: [https://freecad.github.io/SourceDoc/ Autogenerated API documentation] and [[FreeCAD Scripting Basics|FreeCAD Scripting Basics]].
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
To convert objects to a sketch use the {{incode|make_sketch}} method ({{Version|0.19}}) of the Draft module. This method replaces the deprecated {{incode|makeSketch}} method.
</div>

{{Code|code=
sketch = make_sketch(objects_list, autoconstraints=False, addTo=None, delete=False, name="Sketch", radiusPrecision=-1, tol=1e-3)
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{incode|objects_list}} contains the objects to be converted. It is either a single object or a list of objects. {{incode|Draft}} objects, {{incode|Part::Feature}} objects and {{incode|Part.Shape}} objects are supported.
* If {{incode|autoconstraints}} is {{incode|True}} coincident constraints are added to nodes belonging to the same source object.
* {{incode|addTo}} is the existing sketch object the geometry is added to. If not supplied a new sketch is created.
* If {{incode|delete}} is {{incode|True}} the source objects are deleted.
* {{incode|name}} is the name for the new sketch.
* {{incode|radiusPrecision}} indicates how radius constraints should be handled:
** Use {{incode|-1}} to disable radius constraints.
** Use {{incode|0}} to add individual radius constraints.
** Use a positive number to round radii according to this precision, and to add equal constraints between curves with equal radii.
* {{incode|tol}} is the tolerance used to check if shapes are planar and co-planar. Use {{incode|-1}} for a strict analysis.
* {{incode|sketch}} is returned with the sketch object.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
To convert a sketch to Draft objects use the {{incode|draftify}} method of the Draft module.
</div>

{{Code|code=
draftify(objectslist, makeblock=False, delete=True)
}}

<div lang="en" dir="ltr" class="mw-content-ltr">
* {{incode|objectslist}} contains the objects to be converted. It is either a single object or a list of objects.
* If {{incode|makeblock}} is {{incode|True}} the converted objects are grouped in a {{incode|Part::Part2DObject}}.
* If {{incode|delete}} is {{incode|True}} the source objects are deleted.
</div>

<div lang="en" dir="ltr" class="mw-content-ltr">
Example:
</div>

{{Code|code=
import FreeCAD as App
import Draft

doc = App.newDocument()

rectangle = Draft.make_rectangle(2000, 1000)
circle = Draft.make_circle(500)
doc.recompute()

sketch_from_draft = Draft.make_sketch([rectangle, circle], autoconstraints=True, delete=False, radiusPrecision=0)
doc.recompute()

draft_from_sketch = Draft.draftify(sketch_from_draft, delete=False)
doc.recompute()
}}


<div lang="en" dir="ltr" class="mw-content-ltr">
{{Docnav
|[[Draft_WireToBSpline|WireToBSpline]]
|[[Draft_Slope|Slope]]
|[[Draft_Workbench|Draft]]
|IconL=Draft_WireToBSpline.svg
|IconR=Draft_Slope.svg
|IconC=Workbench_Draft.svg
}}
</div>

{{Draft Tools navi{{#translation:}}}}
{{Userdocnavi{{#translation:}}}}