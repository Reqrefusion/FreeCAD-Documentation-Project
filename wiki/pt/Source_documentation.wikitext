<languages/>

{{Docnav
|[[Extra_python_modules/pt|Módulos python extra]]
|[[Contributors/|Colaboradores]]
}}

{{TOCright}}

<span id="Overview"></span>
== Visão Geral ==

O código fonte do FreeCAD  está comentado para permitir gerar documentação automática sobre programação usando o [[Doxygen/pt|Doxygen]], um popular sistema de criação de documentação de código fonte. O Doxygen consegue documentar tanto o código C++ como Python do FreeCAD, gerando páginas HTML com hyperlinks a cada 'function' e 'class' documentadas.

A documentação está alojada online no [https://freecad.github.io/SourceDoc/ FreeCAD API website]. Atenção, note que está documentação pode não estar sempre actualizada; se precisar de mais detalhes, faça o download da última versão do código-fonte do FreeCAD e compile a documentação você mesmo. Se tiver questões prementes sobre o código-fonte por favor pergunte na secção de desenvolvimento no [https://forum.freecad.org/index.php FreeCAD forum].

A compilação da documentação da API segue os mesmos passos gerais que a compilação do executável FreeCAD, conforme indicado na página [[Compile_on_Linux/pt|Compilar no Linux]].

[[File:FreeCAD_documentation_compilation_workflow.svg|800px]]

{{Caption|Fluxo de trabalho geral para compilar a documentação de programação do FreeCAD. Os pacotes Doxygen e Graphviz devem estar no sistema, além do próprio código-fonte do FreeCAD. O CMake configura o sistema para que, com uma única instrução make, a documentação de todo o projeto seja compilada em muitos arquivos HTML com diagramas.}}

<span id="Build_source_documentation"></span>
== Compilar documentação do código-fonte ==

<span id="Complete_documentation"></span>
=== Documentação completa ===

Se tiver o Doxygen instalado, é muito fácil construir a documentação. Instale também o [https://www.graphviz.org/ Graphviz] para ser capaz de produzir diagramas que mostram as relações entre diferentes classes e bibliotecas no código FreeCAD. O Graphviz também é usado pelo [[Std_DependencyGraph/pt|gráfico de dependências]] do FreeCAD para mostrar as relações entre diferentes objetos.

{{Code|code=
sudo apt install doxygen graphviz
}}

Em seguida, siga os mesmos passos que você faria para compilar o FreeCAD, conforme descrito na página de [[Compile_on_Linux/pt|compilação no Linux]], e resumido aqui por conveniência.

* Obtenha o código fonte do FreeCAD e coloque-o no seu próprio diretório {{incode|freecad-source}}.
* Crie outro diretório {{incode|freecad-build}} no qual você compilará o FreeCAD e a sua documentação.
* Configure os códigos-fonte com o {{incode|cmake}}, certificando-se de indicar o diretório de origem e especifique as opções necessárias para a sua compilação.
* Acione a criação da documentação usando o {{incode|make}}.

{{Code|code=
git clone https://github.com/FreeCAD/FreeCAD.git freecad-source
mkdir freecad-build
cd freecad-build
cmake -DBUILD_QT5=ON -DPYTHON_EXECUTABLE=/usr/bin/python3 ../freecad-source
}}

Enquanto estiver dentro do diretório de compilação, emita a instrução a seguir para criar somente a documentação.

{{Code|code=
make -j$(nproc --ignore=2) DevDoc
}}

Como mencionado em [[Compiling_(Speeding_up)/pt|compilar (mais rápido)]], a opção {{incode|-j}} define o número de núcleos CPU usados na compilação. Os ficheiros de documentação resultantes irão aparecer no directório.

{{Code|code=
freecad-build/doc/SourceDocu/html/
}}

O ponto de entrada para a documentação é o arquivo {{incode|index.html}}, que você pode abrir com um navegador da web:

{{Code|code=
xdg-open freecad-build/doc/SourceDocu/html/index.html
}}

O alvo {{incode|DevDoc}} irá gerar uma quantidade significativa de dados, cerca de 5 GB de novos arquivos, particularmente devido aos diagramas criados pelo Graphviz.

<span id="Reduced_documentation"></span>
=== Documentação reduzida ===

A documentação completa usa cerca de 3Gb de espaço em disco. Uma versão alternativa e menor da documentação, que ocupa apenas cerca de 600 MB, pode ser gerada com um destino diferente. Esta é a versão exibida no [https://freecad.github.io/SourceDoc/ site da API FreeCAD].

{{Code|code=
make -j$(nproc --ignore=2) WebDoc
}}

A documentação no [https://freecad.github.io/SourceDoc/ FreeCAD API website] é gerada automaticamente a partir do https://github.com/FreeCAD/SourceDoc. Qualquer pessoa a pode reconstruir e requerer um pedido de atualização:

* Fork the repo at https://github.com/FreeCAD/SourceDoc
* on your machine: clone the FreeCAD code (if you haven't yet), create a build dir for the doc, and clone the above SourceDoc repo inside. That SourceDoc will be updated when you rebuild the doc, and you'll be able to commit & push the results afterwards:

{{Code|code=
git clone https://github.com/FreeCAD/FreeCAD
cd FreeCAD
mkdir build
cd build
mkdir -p doc/SourceDocu/html
cd doc/SourceDocu/html
git clone your-fork-url
cd ../../..
cmake -DBUILD_QT5=ON -DPYTHON_EXECUTABLE=/usr/bin/python3 ..
make WebDoc
cd doc/SourceDocu/html
git commit
git push
}}

* Go to your fork online, and create a pull request.

== Other versions ==

[https://iesensor.com/FreeCADDoc/0.19/ FreeCAD 0.19 development] documentation built by [https://forum.freecad.org/viewtopic.php?t=12613 qingfeng.xia].

== Integrate Coin3D documentation ==

On Unix systems it is possible to link Coin3D source documentation with FreeCAD's. This allows for easier navigation and complete inheritance diagrams for Coin derived classes.

*Install the {{incode|libcoin-doc}}, {{incode|libcoin80-doc}}, or similarly named package.
*Unpack the archive {{incode|coin.tar.gz}} located in {{incode|/usr/share/doc/libcoin-doc/html}}; the files may be already unpacked in your system.
*Generate again the source documentation.

If you don't install the documentation package for Coin, the links will be generated to access the online documentation at [https://coin3d.bitbucket.io/Coin/ BitBucket]. This will happen if a Doxygen tag file can be downloaded at configure time with {{incode|wget}}.

== Using Doxygen ==

See the [[Doxygen|Doxygen]] page for an extensive explanation on how to comment C++ and Python source code so that it can be processed by Doxygen to automatically create the documentation.

Essentially, a comment block, starting with {{incode|/**}} or {{incode|///}} for C++, or {{incode|##}} for Python, needs to appear before every class or function definition, so that it is picked up by Doxygen. Many [[Doxygen#Doxygen markup|special commands]], which start with {{incode|\}} or {{incode|@}}, can be used to define parts of the code and format the output. [[Doxygen#Markdown support|Markdown syntax]] is also understood within the comment block, which makes it convenient to emphasize certain parts of the documentation.

{{Code|code=
/**
 * Returns the name of the workbench object.
 */
std::string name() const;

/**
 * Set the name to the workbench object.
 */
void setName(const std::string&);

/// remove the added TaskWatcher
void removeTaskWatcher(void);
}}


{{Docnav
|[[Extra_python_modules|Extra python modules]]
|[[Contributors|Contributors]]
}}

{{Userdocnavi{{#translation:}}}}
[[Category:Developer Documentation{{#translation:}}]]
{{clear}}